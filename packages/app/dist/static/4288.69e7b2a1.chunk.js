(()=>{var Ju=(Le,w)=>()=>(w||Le((w={exports:{}}).exports,w),w.exports);var Gu=Ju((ga,ya)=>{(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4288],{67898:function(Le,w,u){"use strict";u.d(w,{t:function(){return G}});var s=u(34520),p="http://json-schema.org/draft-07/schema",R="TemplateV1beta3",O="A Template describes a scaffolding task for use with the Scaffolder. It describes the required parameters as well as a series of steps that will be taken to execute the scaffolding task.",_=[{apiVersion:"scaffolder.backstage.io/v1beta3",kind:"Template",metadata:{name:"react-ssr-template",title:"React SSR Template",description:"Next.js application skeleton for creating isomorphic web applications.",tags:["recommended","react"]},spec:{owner:"artist-relations-team",parameters:{required:["name","description","repoUrl"],"backstage:permissions":{tags:["one","two"]},properties:{name:{title:"Name",type:"string",description:"Unique name of the component"},description:{title:"Description",type:"string",description:"Description of the component"},repoUrl:{title:"Pick a repository",type:"string","ui:field":"RepoUrlPicker"}}},steps:[{id:"fetch",name:"Fetch",action:"fetch:plain",parameters:{url:"./template"},"backstage:permissions":{tags:["one","two"]}},{id:"publish",name:"Publish to GitHub",action:"publish:github",parameters:{repoUrl:"${{ parameters.repoUrl }}"},if:"${{ parameters.repoUrl }}"}],output:{catalogInfoUrl:"${{ steps.publish.output.catalogInfoUrl }}"}}}],D=[{$ref:"Entity"},{type:"object",required:["spec"],properties:{apiVersion:{enum:["scaffolder.backstage.io/v1beta3"]},kind:{enum:["Template"]},spec:{type:"object",required:["type","steps"],properties:{type:{type:"string",description:"The type of component created by the template. The software catalog accepts any type value, but an organization should take great care to establish a proper taxonomy for these. Tools including Backstage itself may read this field and behave differently depending on its value. For example, a website type component may present tooling in the Backstage interface that is specific to just websites.",examples:["service","website","library"],minLength:1},owner:{type:"string",description:"The user (or group) owner of the template",minLength:1},parameters:{oneOf:[{type:"object",description:"The JSONSchema describing the inputs for the template.",properties:{"backstage:permissions":{type:"object",description:"Object used for authorizing the parameter",properties:{tags:{type:"array",items:{type:"string"}}}}}},{type:"array",description:"A list of separate forms to collect parameters.",items:{type:"object",description:"The JSONSchema describing the inputs for the template.",properties:{"backstage:permissions":{type:"object",description:"Object used for authorizing the parameter",properties:{tags:{type:"array",items:{type:"string"}}}}}}}]},steps:{type:"array",description:"A list of steps to execute.",items:{type:"object",description:"A description of the step to execute.",required:["action"],properties:{id:{type:"string",description:"The ID of the step, which can be used to refer to its outputs."},name:{type:"string",description:"The name of the step, which will be displayed in the UI during the scaffolding process."},action:{type:"string",description:"The name of the action to execute."},input:{type:"object",description:"A templated object describing the inputs to the action."},if:{type:["string","boolean"],description:'A templated condition that skips the step when evaluated to false. If the condition is true or not defined, the step is executed. The condition is true, if the input is not `false`, `undefined`, `null`, `""`, `0`, or `[]`.'},"backstage:permissions":{type:"object",description:"Object used for authorizing the step",properties:{tags:{type:"array",items:{type:"string"}}}}}}},output:{type:"object",description:"A templated object describing the outputs of the scaffolding task.",properties:{links:{type:"array",description:"A list of external hyperlinks, typically pointing to resources created or updated by the template",items:{type:"object",required:[],properties:{url:{type:"string",description:"A url in a standard uri format.",examples:["https://github.com/my-org/my-new-repo"],minLength:1},entityRef:{type:"string",description:"An entity reference to an entity in the catalog.",examples:["Component:default/my-app"],minLength:1},title:{type:"string",description:"A user friendly display name for the link.",examples:["View new repo"],minLength:1},icon:{type:"string",description:"A key representing a visual icon to be displayed in the UI.",examples:["dashboard"],minLength:1}}}},text:{type:"array",description:"A list of Markdown text blobs, like output data from the template.",items:{type:"object",required:[],properties:{title:{type:"string",description:"A user friendly display name for the text.",examples:["Output Content"],minLength:1},icon:{type:"string",description:"A key representing a visual icon to be displayed in the UI.",examples:["dashboard"],minLength:1},content:{type:"string",description:"The text blob to display in the UI, rendered as Markdown.",examples:["**hey** _I'm_ Markdown"]}}}}},additionalProperties:{type:"string"}}}}}}],N={$schema:p,$id:R,description:O,examples:_,allOf:D};const j=(0,s.wI)(N),I={async check(z){return j(z)===z}},G=z=>z.apiVersion==="scaffolder.backstage.io/v1beta3"&&z.kind==="Template"},78698:function(Le,w,u){"use strict";u.d(w,{Iy:function(){return ku},l0:function(){return Nl},zP:function(){return Vu},vF:function(){return Ll},v9:function(){return Lu},Lp:function(){return ju},_G:function(){return Zu},Gc:function(){return Wl},ow:function(){return Au},h4:function(){return Zl},mg:function(){return Sl}});var s=u(30705),p=u(79692),R=u(67358),O=u(31625),_=u(31377),D=u(34546),N=u(77277),j=u(60364),I=u(94339),G=u(24579),z=u(60905),re=u(95544),ne=u(85256),ae=u(7089),ve=u(14503),M=u(90436),H=u(27556),ue=u(4614),X=u(97136),se=u(5806),fe=u(21324),ee=u(86619),$=u(2784),Se={AdditionalItemsError:"Array at `{{pointer}}` may not have an additional item `{{key}}`",AdditionalPropertiesError:"Additional property `{{property}}` on `{{pointer}}` does not match schema `{{schema}}`",AllOfError:"Value `{{value}}` at `{{pointer}}` does not match schema of `{{allOf}}`",AnyOfError:"Value `{{value}}` at `{{pointer}}` does not match any schema of `{{anyOf}}`",ConstError:"Expected value at `{{pointer}}` to be `{{expected}}`, but value given is `{{value}}`",containsAnyError:"The array at `{{pointer}}` must contain at least one item",ContainsArrayError:"The property at `{{pointer}}` must not be an array",ContainsError:"The array at `{{pointer}}` must contain an element that matches `{{schema}}`",EnumError:"Expected given value `{{value}}` in `{{pointer}}` to be one of `{{values}}`",FormatDateError:"Value `{{value}}` at `{{pointer}}` is not a valid date",FormatDateTimeError:"Value `{{value}}` at `{{pointer}}` is not a valid date-time",FormatEmailError:"Value `{{value}}` at `{{pointer}}` is not a valid email",FormatHostnameError:"Value `{{value}}` at `{{pointer}}` is not a valid hostname",FormatIPV4Error:"Value `{{value}}` at `{{pointer}}` is not a valid IPv4 address",FormatIPV4LeadingZeroError:"IPv4 addresses starting with zero are invalid, since they are interpreted as octals",FormatIPV6Error:"Value `{{value}}` at `{{pointer}}` is not a valid IPv6 address",FormatIPV6LeadingZeroError:"IPv6 addresses starting with zero are invalid, since they are interpreted as octals",FormatJSONPointerError:"Value `{{value}}` at `{{pointer}}` is not a valid json-pointer",FormatRegExError:"Value `{{value}}` at `{{pointer}}` is not a valid regular expression",FormatTimeError:"Value `{{value}}` at `{{pointer}}` is not a valid time",FormatURIError:"Value `{{value}}` at `{{pointer}}` is not a valid uri",FormatURIReferenceError:"Value `{{value}}` at `{{pointer}}` is not a valid uri-reference",FormatURITemplateError:"Value `{{value}}` at `{{pointer}}` is not a valid uri-template",FormatURLError:"Value `{{value}}` at `{{pointer}}` is not a valid url",InvalidDataError:"No value may be specified in `{{pointer}}`",InvalidPropertyNameError:"Invalid property name `{{property}}` at `{{pointer}}`",MaximumError:"Value in `{{pointer}}` is `{{length}}`, but should be `{{maximum}}` at maximum",MaxItemsError:"Too many items in `{{pointer}}`, should be `{{maximum}}` at most, but got `{{length}}`",MaxLengthError:"Value `{{pointer}}` should have a maximum length of `{{maxLength}}`, but got `{{length}}`.",MaxPropertiesError:"Too many properties in `{{pointer}}`, should be `{{maximum}}` at most, but got `{{length}}`",MinimumError:"Value in `{{pointer}}` is `{{length}}`, but should be `{{minimum}}` at minimum",MinItemsError:"Too few items in `{{pointer}}`, should be at least `{{minimum}}`, but got `{{length}}`",MinItemsOneError:"At least one item is required in `{{pointer}}`",MinLengthError:"Value `{{pointer}}` should have a minimum length of `{{minLength}}`, but got `{{length}}`.",MinLengthOneError:"A value is required in `{{pointer}}`",MinPropertiesError:"Too few properties in `{{pointer}}`, should be at least `{{minimum}}`, but got `{{length}}`",MissingDependencyError:"The required propery '{{missingProperty}}' in `{{pointer}}` is missing",MissingOneOfPropertyError:"Value at `{{pointer}}` property: `{{property}}`",MultipleOfError:"Expected `{{value}}` in `{{pointer}}` to be multiple of `{{multipleOf}}`",MultipleOneOfError:"Value `{{value}}` should not match multiple schemas in oneOf `{{matches}}`",NoAdditionalPropertiesError:"Additional property `{{property}}` in `{{pointer}}` is not allowed",NotError:"Value `{{value}}` at pointer should not match schema `{{not}}`",OneOfError:"Value `{{value}}` in `{{pointer}}` does not match any given oneof schema",OneOfPropertyError:"Failed finding a matching oneOfProperty schema in `{{pointer}}` where `{{property}}` matches `{{value}}`",PatternError:"Value in `{{pointer}}` should match `{{description}}`, but received `{{received}}`",PatternPropertiesError:"Property `{{key}}` does not match any patterns in `{{pointer}}`. Valid patterns are: {{patterns}}",RequiredPropertyError:"The required property `{{key}}` is missing at `{{pointer}}`",TypeError:"Expected `{{value}}` ({{received}}) in `{{pointer}}` to be of type `{{expected}}`",UndefinedValueError:"Value must not be undefined in `{{pointer}}`",UniqueItemsError:"Expected unique items in {{pointer}}: duplicate value `{{value}}` found at {{itemPointer}} and {{duplicatePointer}}",UnknownPropertyError:"Could not find a valid schema for property `{{pointer}}` within object",ValueNotEmptyError:"A value for `{{property}}` is required at `{{pointer}}`"};function Ie(i,c={}){return i.replace(/\{\{\w+\}\}/g,d=>c[d.replace(/[{}]/g,"")])}function Oe(i,c,d=i){const E=Se[i]||d;return Ie(E,c)}function We(i){return i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Ge(i,c){return{type:"error",name:i,code:We(i),message:Oe(i,c),data:c}}function lt(i){return Ge.bind(null,i)}const Qe=Object.prototype.toString;function He(i){const c=Qe.call(i).match(/\s([^\]]+)\]/).pop().toLowerCase();return c==="file"?"object":c}function St(i){return(i==null?void 0:i.type)==="error"}function qt(i){return i instanceof Promise}function dt(i){return St(i)||qt(i)}function wt(i){return isJSONError(i)}function rt(i,c=[]){for(let d=0;d<i.length;d+=1){const E=i[d];Array.isArray(E)?rt(E,c):c.push(E)}return c}var Ze={DECLARATOR_ONEOF:"oneOfProperty",GET_TEMPLATE_RECURSION_LIMIT:1,floatingPointPrecision:1e4,propertyBlacklist:["_id"]};const{DECLARATOR_ONEOF:yt}=Ze;function tt(i,c,d=i.rootSchema,E="#"){if(c!=null&&d[yt]){const J=[],le=d[yt],me=c[d[yt]];if(me===void 0)return i.errors.missingOneOfPropertyError({property:le,pointer:E});for(let de=0;de<d.oneOf.length;de+=1){const Be=i.resolveRef(d.oneOf[de]),ze=i.step(le,Be,c,E);if(St(ze))return ze;let et=rt(i.validate(me,ze,E));if(et=et.filter(dt),et.length>0)J.push(...et);else return Be}return i.errors.oneOfPropertyError({property:le,value:me,pointer:E,errors:J})}const S=[],k=[];for(let J=0;J<d.oneOf.length;J+=1){const le=i.resolveRef(d.oneOf[J]);let me=rt(i.validate(c,le,E));me=me.filter(dt),me.length>0?k.push(...me):S.push(le)}return S.length===1?S[0]:S.length>1?i.errors.multipleOneOfError({value:c,pointer:E,matches:S}):i.errors.oneOfError({value:JSON.stringify(c),pointer:E,oneOf:d.oneOf,errors:k})}var ge=i=>JSON.parse(JSON.stringify(i)),$e=u(39714),mt=u.n($e);const _t=(i,c)=>c;var Vt=(i,c)=>mt()(i,c,{arrayMerge:_t});const Cr=(i,c)=>{const d=i.concat(c);return d.filter((E,S)=>d.indexOf(E)===S)},Ve=(i,c)=>mt()(i,c,{arrayMerge:Cr});function K(i,c,d){var E;const S={...(E=i.resolveRef(c))!==null&&E!==void 0?E:{}};if(S.if&&(S.then||S.else)){const k=i.isValid(d,S.if);if(k&&S.then)return K(i,S.then,d);if(!k&&S.else)return K(i,S.else,d);delete S.if,delete S.then,delete S.else}return S}function Z(i,c,d=i.rootSchema,E="#"){let S=ge(d);for(let k=0;k<d.allOf.length;k+=1){const J=K(i,d.allOf[k],c);S=Ve(S,J),c=i.getTemplate(c,S)}return delete S.allOf,S}const{DECLARATOR_ONEOF:Q}=Ze;function ie(i,c,d,E){if(d==null||c.properties==null)return-1;let S=0;const k=Object.keys(c.properties);for(let J=0;J<k.length;J+=1){const le=k[J];d[le]!=null&&i.isValid(d[le],c.properties[le],E)&&(S+=1)}return S}function Te(i,c,d=i.rootSchema,E="#"){if(c!=null&&d[Q]){const k=[],J=d[Q],le=c[d[Q]];if(le===void 0)return i.errors.missingOneOfPropertyError({property:J,pointer:E});for(let me=0;me<d.oneOf.length;me+=1){const de=i.resolveRef(d.oneOf[me]),Be=i.step(J,de,c,E);if(St(Be))return Be;let ze=rt(i.validate(le,Be,E));if(ze=ze.filter(dt),ze.length>0)k.push(...ze);else return de}return i.errors.oneOfPropertyError({property:J,value:le,pointer:E,errors:k})}const S=[];for(let k=0;k<d.oneOf.length;k+=1){const J=i.resolveRef(d.oneOf[k]);i.isValid(c,J,E)&&S.push(J)}if(S.length===1)return S[0];if(He(c)==="object"){let k,J=0;for(let le=0;le<d.oneOf.length;le+=1){const me=i.resolveRef(d.oneOf[le]),de=ie(i,me,c);J<de&&(J=de,k=d.oneOf[le])}return k===void 0?i.errors.oneOfError({value:JSON.stringify(c),pointer:E,oneOf:d.oneOf}):k}return S.length>1?i.errors.multipleOneOfError({matches:S,data:c,pointer:E}):i.errors.oneOfError({value:JSON.stringify(c),pointer:E,oneOf:d.oneOf})}var Xe=u(67142),ct=u.n(Xe);const Mt={};function Qt(i,c,d,E=i.rootSchema){const S=ct().split(c);return E=i.resolveRef(E),Yt(i,E,S,c,d)}function Yt(i,c,d,E,S=Mt){if(d.length===0)return i.resolveRef(c);const k=d.shift();return c=i.step(k,c,S,E),St(c)?c:(S=S[k],Yt(i,c,d,`${E}/${k}`,S))}function zt(i,c){if(i==null||i.$ref==null)return i;const d=c.getRef(i),E=Object.assign({},d,i);return delete E.$ref,Object.defineProperty(E,"__ref",{enumerable:!1,value:i.__ref}),Object.defineProperty(E,"getRoot",{enumerable:!1,value:i.getRoot}),E}function Xt(i,c,d){d.id=d.id||c,i.remotes[c]=i.compileSchema(d)}var ot=u(44091);const Ct="[^?/{}*,()#]+",Nt=`
root ::= ("#" recursion | recursion | (query | pattern) recursion* | "#" SEP? | SEP)
recursion ::= (SEP query | pattern)*

query ::= (ESC escaped ESC | property | all | any | regex) typecheck? lookahead?
property ::= ${Ct}
regex ::= "{" [^}]+ "}"
SEP ::= "/"
all ::= "**"
any ::= "*"

typecheck ::= "?:" ("value" | "boolean" | "string" | "number" | "object" | "array")
lookahead ::= "?" expression ((andExpr | orExpr) expression)*
andExpr ::= S? "&&" S?
orExpr ::= S? "||" S?

expression ::= (exprProperty | ESC escaped ESC) ((isnot | is) (exprProperty | regex | ESC escaped ESC))*
exprProperty ::= [a-zA-Z0-9-_ $]+
escaped ::= [^"]+
is ::= ":"
isnot ::= ":!"
ESC ::= '"'

pattern ::= S? "(" (SEP query | pattern (orPattern? pattern)*)* ")" quantifier? S? lookahead?
quantifier ::= "+" | "*" | [0-9]+
orPattern ::= S? "," S?

S ::= [ ]*
`,fr=/(children|text|type|start|end|rest|errors|fullText|\d+)/,Or=/(children|text|type|\d+)/,xr=i=>JSON.stringify(i,(c,d)=>c===""||fr.test(c)?d:void 0,2),ar=i=>JSON.stringify(i,(c,d)=>c===""||c==="rest"&&d!==""||Or.test(c)?d:void 0,2),Ft=new ot.Z.Parser(Nt),jr=i=>Ft.getAST(i),yr=i=>JSON.parse(ar(i)),dr=0,pr=1,cr=2,Wr=3,Tr=(i,c)=>`${i}/${c}`,Ne=Object.prototype.toString,Gt=/Object|Array/,ir=i=>Gt.test(Ne.call(i)),lr=i=>Ne.call(i).match(/\s([^\]]+)\]/).pop().toLowerCase();function Sr(i){return new RegExp(i.text.replace(/(^{|}$)/g,""))}function _r(i,c){Array.isArray(i)?i.forEach(c):Object.prototype.toString.call(i)==="[object Object]"&&Object.keys(i).forEach(function(d){c(i[d],d,i)})}function Er(i){return Array.isArray(i)?i.map(function(c,d){return`${d}`}):Object.prototype.toString.call(i)==="[object Object]"?Object.keys(i):[]}const Zr={mem:[],get(i,c){const d=i[dr][c];if(!Zr.mem.includes(d))return ir(d)&&Zr.mem.push(d),[d,c,i[dr],Tr(i[Wr],c)]},reset(){Zr.mem.length=0}},Ir={any(i,c){const d=c[dr];return Er(d).map(E=>[d[E],E,d,Tr(c[Wr],E)])},all(i,c){const d=[c];return _r(c[dr],(E,S)=>{const k=Zr.get(c,S);k&&d.push(...Ir.all(i,k))}),d},regex(i,c){const d=Sr(i),E=c[dr];return Er(E).filter(S=>d.test(S)).map(S=>[E[S],S,E,Tr(c[Wr],S)])}},Rr={escaped:(i,c)=>Rr.property(i,c),property:(i,c)=>{const d=i.text;if(c[dr]&&c[dr][d]!==void 0)return[c[dr][d],d,c[dr],Tr(c[Wr],d)]},typecheck:(i,c)=>{const d=i.text.replace(/^\?:/,"");if(d==="value")return ir(c[dr])?void 0:c;if(lr(c[dr])===d)return c},lookahead:(i,c)=>{let d=!0,E=!1;return i.children.forEach(S=>{if(S.type==="expression"){const k=Rr.expression(S,c)!==void 0;d=E===!0?d||k:d&&k}else E=S.type==="orExpr"}),d?c:void 0},expression:(i,c)=>{const d=i.children[0].text,E=i.children[1],S=i.children[2],k=c[dr];if(ir(k)!==!1)return Xr(k[d],E,S)?c:void 0}};function Xr(i,c,d){if(c===void 0)return i!==void 0;let E;const S=`${i}`;return d.type==="regex"?E=Sr(d).test(S):E=S===d.text,c.type==="isnot"&&(E=E===!1&&i!==void 0),E}function fn(i,c,d,E){const S=[];for(let k=0,J=c.length;k<J;k+=1)S.push(...i(d,c[k],d,E));return S}function Nr(i,c,d,E){const S=[];for(let k=0,J=c.length;k<J;k+=1){const le=i(d,c[k],E);le&&S.push(le)}return S}function ln(i,c,d){let E=i;return c.children.forEach(S=>{if(Ir[S.type])E=fn(Ir[S.type],E,S,d);else if(Rr[S.type])E=Nr(Rr[S.type],E,S,d);else throw new Error(`Unknown filter ${S.type}`)}),E}function mn(i,c,d){const E=[];let S=i;return c.children.forEach(k=>{if(k.type==="orPattern"){E.push(...S),S=i;return}S=cn(S,k,d)}),E.push(...S),E}function vn(i){if(i==null)return 1;if(i==="*"||i==="+")return 1/0;const c=parseInt(i);return isNaN(c)?1:c}function gn(i,c,d){const E=[],S=c.children.find(me=>me.type==="quantifier"),k=vn(S&&S.text);let J=i;S&&S.text==="*"&&E.push(...J);let le=0;for(;J.length>0&&le<k;)J=mn(J,c,d),E.push(...J),le+=1;return E}function un(i,c,d){let E=i;return c.children.forEach(S=>E=cn(E,S,d)),E}function cn(i,c,d){let E;return c.type==="query"?E=ln(i,c,d):c.type==="pattern"?E=gn(i,c,d):E=un(i,c,d),Zr.reset(),Zr.mem.push(i),E}function Yr(i,c){return Zr.reset(),Zr.mem.push(i),cn([[i,null,null,"#"]],c)}const yn={value:i=>i.map(c=>c[dr]),pointer:i=>i.map(c=>c[Wr]),all:i=>i,map:i=>{const c={};return i.forEach(d=>c[d[Wr]]=d[dr]),c}};var sn;(function(i){i.POINTER="pointer",i.VALUE="value",i.ALL="all",i.MAP="map"})(sn||(sn={})),Qr.POINTER=sn.POINTER,Qr.VALUE=sn.VALUE,Qr.ALL=sn.ALL,Qr.MAP=sn.MAP;function Qr(i,c,d=sn.VALUE){if(c==null)return[];c=c.replace(/(\/$)/g,""),c===""&&(c="#");const E=jr(c);if(E==null)throw new Error(`empty ast for '${c}'`);if(E.rest!=="")throw new Error(`Failed parsing queryString from: '${E.rest}'`);const S=Yr(i,E);return typeof d=="function"?S.map(k=>d(...k)):yn[d]?yn[d](S):S}const En=["root","recursion"];function bn(i,c=[]){return En.includes(i.type)?(i.children.forEach(d=>bn(d,c)),c):(c.push(i.text),c)}function oi(i){if(i==null||i==="")return[];const c=jr(i);return bn(c)}const zi=i=>JSON.parse(JSON.stringify(i)),Pe=Object.prototype.toString,y=i=>Pe.call(i).match(/\s([^\]]+)\]/).pop().toLowerCase(),T=new RegExp(`^("[^"]+"|${Ct})$`),V=["string","number","boolean","null"],te=/^\[\d*\]$/,xe=/^\[(\d+)\]$/,be=/^".+"$/,Ke=/(^\[\d*\]$|^\d+$)/;function je(i){return parseInt(i.replace(/^(\[|\]$)/,""))}function Tt(i){return be.test(i)?i.replace(/(^"|"$)/g,""):i}function jt(i,c,d){i.length<=c?i[c]=d:i.splice(c,0,d)}function Zt(i,c){const d=[];return i.forEach(E=>d.push(...Qr(E[0],c,sn.ALL))),d}function Pr(i,c,d,E){const S=i[0];if(/^\[\]$/.test(c)){S.push(d);const k=S.length-1;return[S[k],k,S,`${i[3]}/${k}}`]}if(E==null&&y(S[c])==="object"&&y(d)==="object")return[S[c],c,S,`${i[3]}/${c}}`];if(E===Mn.INSERT_ITEMS||E==null&&xe.test(c)){const k=je(c);return jt(S,k,d),[S[k],k,S,`${i[3]}/${k}}`]}if(E===Mn.REPLACE_ITEMS||E==null){const k=je(c);return S[k]=d,[S[k],k,S,`${i[3]}/${k}}`]}throw new Error(`Unknown array index '${c}' with force-option '${E}'`)}function mr(i,c,d,E){return c=Tt(c),i.filter(S=>Array.isArray(S[0])&&Ke.test(c)?!0:V.includes(y(S[0][c]))===!1).map(S=>{const k=d?[]:{},J=S[0];return Array.isArray(J)?Pr(S,c,k,E):(J[c]=J[c]||k,[J[c],c,J,`${S[3]}/${c}`])})}var On;(function(i){i.REPLACE_ITEMS="replace",i.INSERT_ITEMS="insert"})(On||(On={})),Mn.REPLACE_ITEMS=On.REPLACE_ITEMS,Mn.INSERT_ITEMS=On.INSERT_ITEMS;function Mn(i,c,d,E){if(c==null)return zi(i);if(c=c.replace(/(\/$)/g,""),c==="")return zi(d);const S=zi(i);let k=[[S,null,null,"#"]];const J=oi(c),le=J.pop(),me=te.test(le)&&xe.test(le)===!1;if(T.test(le)===!1||me)throw new Error(`Unsupported query '${c}' ending with non-property`);return J.forEach((de,Be)=>{if(de==="__proto__"||de==="prototyped"||de==="constructor")return;if(T.test(de)===!1){k=Zt(k,de);return}const ze=Be>=J.length-1?le:J[Be+1],et=Ke.test(ze);k=mr(k,de,et,E)}),k.forEach(de=>{let Be=d;y(d)==="function"&&(Be=d(de[3],le,de[0],`${de[3]}/${le}`));const ze=de[0];if(Array.isArray(ze))Pr(de,le,Be,E);else{const et=Tt(le);if(et==="__proto__"||et==="prototyped"||et==="constructor")return;ze[et]=Be}}),S}function zn(i,c,d=!1){const E=[],S=Qr(i,c,sn.ALL);return S.forEach(function(k){E.push(k[0]),(0,Xe.remove)(i,k[Wr],!0)}),S.forEach(function(k){Array.isArray(k[cr])&&(0,Xe.removeUndefinedItems)(k[cr])}),d?E:i}var $i={get:Qr,set:Mn,split:oi,remove:zn,ReturnType:sn},Cn={$ref:{type:!1},allOf:{type:!1,definitions:["allOf/*"]},anyOf:{type:!1,definitions:["anyOf/*"]},array:{type:!0,definitions:["allOf/*","anyOf/*","oneOf/*","not","items","items/*","additionalItems"],validationKeywords:["minItems","maxItems","uniqueItems"],keywords:["items","additionalItems","minItems","maxItems","uniqueItems"]},boolean:{type:!0},enum:{type:!1},integer:{type:!0,definitions:["allOf/*","anyOf/*","oneOf/*","not"],validationKeywords:["minimum","maximum","multipleOf"]},not:{type:!1,definitions:["not"]},number:{type:!0,definitions:["allOf/*","anyOf/*","oneOf/*","not"],validationKeywords:["minimum","maximum","multipleOf"]},null:{type:!0},object:{type:!0,definitions:["allOf/*","anyOf/*","oneOf/*","not","properties/*","additionalProperties","patternProperties/*","dependencies/*"],validationKeywords:["minProperties","maxProperties","required"],keywords:["properties","additionalProperties","patternProperties","dependencies","minProperties","maxProperties","required"]},oneOf:{type:!1,definitions:["oneOf/*"]},string:{type:!0,definitions:["allOf/*","anyOf/*","oneOf/*","not"],validationKeywords:["minLength","maxLength","pattern"]}};const Bo=i=>Object.prototype.toString.call(i)==="[object Object]",So=Object.keys(Cn).filter(i=>Cn[i].type===!1),ko=Object.prototype.hasOwnProperty;function $n(i){if(Bo(i)===!1)return;if(i.enum)return"enum";if(Cn[i.type]||Array.isArray(i.type))return i.type;const c=So.filter(d=>i[d]);if(c.length===1)return c[0];if(c.length===0){for(let d=0,E=Cn.object.keywords.length;d<E;d+=1){const S=Cn.object.keywords[d];if(ko.call(i,S))return"object"}for(let d=0,E=Cn.array.keywords.length;d<E;d+=1){const S=Cn.array.keywords[d];if(ko.call(i,S))return"array"}return}throw new Error(`Mutiple typeIds [${c.join(", ")}] matched in ${JSON.stringify(i)}`)}const Ri=i=>Object.prototype.toString.call(i)==="[object Object]";function Mo(i){const c=[],d=$n(i);if(d==null)return c;let E;if(Array.isArray(d)){E={};for(let S=0,k=d.length;S<k;S+=1)Object.assign(E,Cn[d[S]])}else E=Cn[d];return E.definitions==null||E.definitions.forEach(S=>{Qr(i,S,(k,J,le,me)=>{Ri(k)&&$n(k)&&c.push({pointer:ct().join(ct().split(me),!1),def:k})})}),c}const Ht=i=>Object.prototype.toString.call(i)==="[object Object]";function Ee(i,c){if(this.callback(i,c)===!0)return;Mo(i).forEach(E=>this.nextTypeDefs(E.def,ct().join(c,E.pointer,!1)))}function F(i,c,d,E="definitions"){const S=c[E];Object.keys(S).forEach(k=>{if(S[k]===!1||Ht(S[k])){i.nextTypeDefs(S[k],ct().join(d,E,k,!1));return}})}function q(i,c,d="#"){const E={callback:c,nextTypeDefs:Ee};E.nextTypeDefs(i,d),i.definitions!=null&&(E.callback=(S,k)=>{c(S,k),S.definitions!=null&&F(E,S,k)},F(E,i,d)),i.$defs!=null&&(E.callback=(S,k)=>{c(S,k),S.definitions!=null&&F(E,S,k)},F(E,i,d,"$defs"))}const _e=/(#|\/)+$/,Fe=/#$/,st=/^[^:]+:\/\/[^/]+\//,ht=/\/[^/]*$/,Wt=/#.*$/;function Lt(i,c){return i==null&&c==null?"#":c==null?i.replace(Fe,""):i==null?c.replace(Fe,""):c[0]==="#"?`${i.replace(Wt,"")}${c.replace(_e,"")}`:st.test(c)?c.replace(Fe,""):`${i.replace(ht,"")}/${c.replace(Fe,"")}`}const Lr=/(#|\/)+$/g,Kr=["",null,"#"];function In(i){if(Kr.includes(i))return[];if(i=i.replace(Lr,""),i.indexOf("#")===-1)return[i.replace(Lr,"")];if(i.indexOf("#")===0)return[i.replace(Lr,"")];const c=i.split("#");return c[0]=c[0].replace(Lr,""),c[1]=`#${c[1].replace(Lr,"")}`,c}const wi=/(#|\/)+$/g,Ai=i=>He(i)==="object";function si(i,c,d){if(Ai(d)&&(d=d.__ref||d.$ref),d==null)return c;let E;const S=d.replace(wi,"");if(i.remotes[S])return E=i.remotes[S],E&&E.$ref?si(i,c,E.$ref):E;if(i.ids[d])return E=(0,Xe.get)(c,i.ids[d]),E&&E.$ref?si(i,c,E.$ref):E;const k=In(d);if(k.length===0)return c;if(k.length===1){if(d=k[0],i.remotes[d])return E=i.remotes[d],si(i,c,E.$ref);if(i.ids[d])return E=(0,Xe.get)(c,i.ids[d]),E&&E.$ref?si(i,c,E.$ref):E}if(k.length===2){const J=k[0];if(d=k[1],i.remotes[J])return i.remotes[J].getRef?i.remotes[J].getRef(d):si(i,i.remotes[J],d);if(i.ids[J])return si(i,(0,Xe.get)(c,i.ids[J]),d)}return E=(0,Xe.get)(c,i.ids[d]||d),E&&E.$ref?si(i,c,E.$ref):E}const Si="__compiled",Hi="__ref",gs="getRef",ts="getRoot",va=/(#|\/)+$/g;function Wo(i,c,d=c,E=!1){if(c===!0||c===!1||c===void 0||c[Si]!==void 0)return c;const S={ids:{},remotes:i.remotes},k=JSON.stringify(c),J=JSON.parse(k);if(Object.defineProperty(J,Si,{enumerable:!1,value:!0}),Object.defineProperty(J,gs,{enumerable:!1,value:si.bind(null,S,J)}),E===!1&&k.includes("$ref")===!1)return J;J!==d&&Object.defineProperty(J,"$defs",{enumerable:!0,value:Object.assign({},d.definitions,d.$defs,J.definitions,J.$defs)});const le={},me=()=>J;return q(J,(de,Be)=>{var ze;if(de.$id){if(de.$id.startsWith("http")&&/(allOf|anyOf|oneOf)\/\d+$/.test(Be)){const Et=Be.replace(/\/(allOf|anyOf|oneOf)\/\d+$/,""),Dt=(0,Xe.get)(J,Et);de.$id=(ze=Dt.$id)!==null&&ze!==void 0?ze:de.$id}S.ids[de.$id.replace(va,"")]=Be}Be=`#${Be}`.replace(/##+/,"#");const et=Be.replace(/\/[^/]+$/,""),we=Be.replace(/\/[^/]+\/[^/]+$/,""),Ye=le[et]||le[we],Ue=Lt(Ye,de.$id);le[Be]=Ue,S.ids[Ue]==null&&(S.ids[Ue]=Be),de.$ref&&!de[Hi]&&(Object.defineProperty(de,Hi,{enumerable:!1,value:Lt(Ue,de.$ref)}),Object.defineProperty(de,ts,{enumerable:!1,value:me}))}),J}function Ks(i,c,d,E=i.rootSchema,S="#"){E=i.resolveRef(E),d(E,c,S);const k=He(c);k==="object"?Object.keys(c).forEach(J=>{const le=i.step(J,E,c,S),me=c[J];i.each(me,d,le,`${S}/${J}`)}):k==="array"&&c.forEach((J,le)=>{const me=i.step(le,E,c,S);i.each(J,d,me,`${S}/${le}`)})}var Je={additionalItemsError:lt("AdditionalItemsError"),additionalPropertiesError:lt("AdditionalPropertiesError"),anyOfError:lt("AnyOfError"),allOfError:lt("AllOfError"),constError:lt("ConstError"),containsError:lt("ContainsError"),containsArrayError:lt("ContainsArrayError"),containsAnyError:lt("ContainsAnyError"),enumError:lt("EnumError"),formatURLError:lt("FormatURLError"),formatURIError:lt("FormatURIError"),formatURIReferenceError:lt("FormatURIReferenceError"),formatURITemplateError:lt("FormatURITemplateError"),formatDateError:lt("FormatDateaError"),formatDateTimeError:lt("FormatDateTimeError"),formatEmailError:lt("FormatEmailError"),formatHostnameError:lt("FormatHostnameError"),formatIPV4Error:lt("FormatIPV4Error"),formatIPV4LeadingZeroError:lt("FormatIPV4LeadingZeroError"),formatIPV6Error:lt("FormatIPV6Error"),formatIPV6LeadingZeroError:lt("FormatIPV6LeadingZeroError"),formatJSONPointerError:lt("FormatJSONPointerError"),formatRegExError:lt("FormatRegExError"),formatTimeError:lt("FormatTimeError"),invalidSchemaError:lt("InvalidSchemaError"),invalidDataError:lt("InvalidDataError"),invalidTypeError:lt("InvalidTypeError"),invalidPropertyNameError:lt("InvalidPropertyNameError"),maximumError:lt("MaximumError"),maxItemsError:lt("MaxItemsError"),maxLengthError:lt("MaxLengthError"),maxPropertiesError:lt("MaxPropertiesError"),minimumError:lt("MinimumError"),minItemsError:lt("MinItemsError"),minItemsOneError:lt("MinItemsOneError"),minLengthError:lt("MinLengthError"),minLengthOneError:lt("MinLengthOneError"),minPropertiesError:lt("MinPropertiesError"),missingDependencyError:lt("MissingDependencyError"),missingOneOfPropertyError:lt("MissingOneOfPropertyError"),multipleOfError:lt("MultipleOfError"),multipleOneOfError:lt("MultipleOneOfError"),noAdditionalPropertiesError:lt("NoAdditionalPropertiesError"),notError:lt("NotError"),oneOfError:lt("OneOfError"),oneOfPropertyError:lt("OneOfPropertyError"),patternError:lt("PatternError"),patternPropertiesError:lt("PatternPropertiesError"),requiredPropertyError:lt("RequiredPropertyError"),typeError:lt("TypeError"),undefinedValueError:lt("UndefinedValueError"),uniqueItemsError:lt("UniqueItemsError"),unknownPropertyError:lt("UnknownPropertyError"),valueNotEmptyError:lt("ValueNotEmptyError")},Bt=u(1170),Kt=u.n(Bt);const nr=new RegExp("^([0-9]+)-(0[1-9]|1[012])-(0[1-9]|[12][0-9]|3[01])[Tt]([01][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9]|60)(\\.[0-9]+)?(([Zz])|([\\+|\\-]([01][0-9]|2[0-3]):[0-5][0-9]))$"),Ur=/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,Fr=/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,en=/^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\.?$/,ai=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,Hn=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,Yn=[0,31,28,31,30,31,30,31,31,30,31,30,31],rn=/^(?:\/(?:[^~/]|~0|~1)*)*$/,tn=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,Zn=/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,an=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i;var Pi={date:(i,c,d,E)=>{if(typeof d!="string")return;const S=d.match(ai);if(!S)return Je.formatDateTimeError({value:d,pointer:E});const k=+S[1],J=+S[2],le=+S[3],me=k%4===0&&(k%100!==0||k%400===0);if(!(J>=1&&J<=12&&le>=1&&le<=(J==2&&me?29:Yn[J])))return Je.formatDateError({value:d,pointer:E})},"date-time":(i,c,d,E)=>{if(typeof d=="string")return d===""||nr.test(d)?new Date(d).toString()==="Invalid Date"?Je.formatDateTimeError({value:d,pointer:E}):void 0:Je.formatDateTimeError({value:d,pointer:E})},email:(i,c,d,E)=>{if(typeof d!="string")return;if(d[0]==='"')return Je.formatEmailError({value:d,pointer:E});const[S,k,...J]=d.split("@");if(!S||!k||J.length!==0||S.length>64||k.length>253)return Je.formatEmailError({value:d,pointer:E});if(S[0]==="."||S.endsWith(".")||S.includes(".."))return Je.formatEmailError({value:d,pointer:E});if(!/^[a-z0-9.-]+$/i.test(k)||!/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+$/i.test(S))return Je.formatEmailError({value:d,pointer:E});if(!k.split(".").every(le=>/^[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?$/i.test(le)))return Je.formatEmailError({value:d,pointer:E})},hostname:(i,c,d,E)=>{if(typeof d=="string"&&!(d===""||en.test(d)))return Je.formatHostnameError({value:d,pointer:E})},ipv4:(i,c,d,E)=>{if(!(typeof d!="string"||d==="")){if(d&&d[0]==="0")return Je.formatIPV4LeadingZeroError({value:d,pointer:E});if(!(d.length<=15&&Ur.test(d)))return Je.formatIPV4Error({value:d,pointer:E})}},ipv6:(i,c,d,E)=>{if(!(typeof d!="string"||d==="")){if(d&&d[0]==="0")return Je.formatIPV6LeadingZeroError({value:d,pointer:E});if(!(d.length<=45&&Fr.test(d)))return Je.formatIPV6Error({value:d,pointer:E})}},"json-pointer":(i,c,d,E)=>{if(!(typeof d!="string"||d==="")&&!rn.test(d))return Je.formatJSONPointerError({value:d,pointer:E})},"relative-json-pointer":(i,c,d,E)=>{if(!(typeof d!="string"||d==="")&&!tn.test(d))return Je.formatJSONPointerError({value:d,pointer:E})},regex:(i,c,d,E)=>{if(typeof d=="string"&&/\\Z$/.test(d)===!1){try{new RegExp(d);return}catch{}return Je.formatRegExError({value:d,pointer:E})}if(!(typeof d=="object"||typeof d=="number"||Array.isArray(d)))return Je.formatRegExError({value:d,pointer:E})},time:(i,c,d,E)=>{if(typeof d!="string")return;const S=d.match(Hn);if(!S)return Je.formatDateTimeError({value:d,pointer:E});const k=+S[1],J=+S[2],le=+S[3],me=!!S[5];if(!((k<=23&&J<=59&&le<=59||k==23&&J==59&&le==60)&&me))return Je.formatTimeError({value:d,pointer:E})},uri:(i,c,d,E)=>{if(!(typeof d!="string"||d==="")&&!Kt().isUri(d))return Je.formatURIError({value:d,pointer:E})},"uri-reference":(i,c,d,E)=>{if(!(typeof d!="string"||d==="")&&!Zn.test(d))return Je.formatURIReferenceError({value:d,pointer:E})},"uri-template":(i,c,d,E)=>{if(!(typeof d!="string"||d==="")&&!an.test(d))return Je.formatURITemplateError({value:d,pointer:E})},url:(i,c,d,E)=>{if(!(d===""||Kt().isWebUri(d)))return Je.formatURLError({value:d,pointer:E})}};function ji(i){switch(He(i)){case"string":case"array":return i.length===0;case"null":case"undefined":return!0;case"object":return Object.keys(i).length===0;default:return!1}}const qi={addOptionalProps:!0,removeInvalidData:!1};let Xn;function _n(i,c){const{$ref:d}=i;return d==null?!0:(Xn[c]==null||Xn[c][d]==null?0:Xn[c][d])<Ze.GET_TEMPLATE_RECURSION_LIMIT}function Fi(i,c,d){if(d==null)throw new Error(`missing pointer ${d}`);const{$ref:E}=c;return E==null?c:(Xn[d]=Xn[d]||{},Xn[d][E]=Xn[d][E]||0,Xn[d][E]+=1,i.resolveRef(c))}function An(i,c){if(i==="string")return JSON.stringify(c);if(typeof c!="string")return null;try{if(c=JSON.parse(c),typeof c===i)return c}catch{}return null}function Zo(i,c,d,E){if(He(c)!=="object")return Object.assign({pointer:E},c);if(_n(c,E)===!1&&d==null)return!1;let S=ge(Fi(i,c,E));if(Array.isArray(c.anyOf)&&c.anyOf.length>0){if(_n(c.anyOf[0],`${E}/anyOf/0`)){const k=Fi(i,c.anyOf[0],`${E}/anyOf/0`);S=Vt(S,k),S.pointer=c.anyOf[0].$ref||S.pointer}delete S.anyOf}if(Array.isArray(c.allOf)){for(let k=0,J=c.allOf.length;k<J;k+=1)_n(c.allOf[k],`${E}/allOf/${k}`)&&(S=Vt(S,Fi(i,c.allOf[k],`${E}/allOf/${k}`)),S.pointer=c.allOf[k].$ref||S.pointer);delete S.allOf}return S.pointer=S.pointer||c.$ref||E,S}const Ji=i=>i&&typeof i=="object";function ci(i,c,d,E,S){if(d==null)throw new Error(`getTemplate: missing schema for data: ${JSON.stringify(c)}`);if(E==null)throw new Error("Missing pointer");let k=Zo(i,d,c,E);if(!Ji(k))return;if(E=k.pointer,k!=null&&k.const)return k.const;if(Array.isArray(k.oneOf))if(ji(c)){const de=k.oneOf[0].type||k.type||k.const&&typeof k.const||He(c);k={...k.oneOf[0],type:de}}else{const de=Te(i,c,k);if(St(de)){if(c!=null&&S.removeInvalidData!==!0)return c;k=k.oneOf[0],c=void 0}else k=de}if(!Ji(k)||k.type==null)return;const J=Array.isArray(k.type)?Eo(k.type,c,k.default):k.type,le=He(c);return c!=null&&le!==J&&!(le==="number"&&J==="integer")&&(c=An(J,c)),wo[J]==null?S.removeInvalidData?void 0:c:wo[J](i,k,c,E,S)}function Eo(i,c,d){if(c==null){if(d!=null){const S=He(d);if(i.includes(S))return S}return i[0]}const E=He(c);return i.includes(E)?E:i[0]}const wo={null:(i,c,d)=>$o(c,d,null),string:(i,c,d)=>$o(c,d,""),number:(i,c,d)=>$o(c,d,0),integer:(i,c,d)=>$o(c,d,0),boolean:(i,c,d)=>$o(c,d,!1),object:(i,c,d,E,S)=>{var k;const J=c.default===void 0?{}:c.default,le={},me=(k=c.required)!==null&&k!==void 0?k:[];if(c.properties&&Object.keys(c.properties).forEach(de=>{const Be=d==null||d[de]==null?J[de]:d[de],ze=me.includes(de);(Be!=null||ze||S.addOptionalProps)&&(le[de]=ci(i,Be,c.properties[de],`${E}/properties/${de}`,S))}),c.dependencies&&Object.keys(c.dependencies).forEach(de=>{if(le[de]===void 0)return;const Be=c.dependencies[de];if(Array.isArray(Be)){Be.forEach(et=>{le[et]=ci(i,le[et],c.properties[et],`${E}/properties/${et}`,S)});return}if(He(Be)!=="object")return;const ze=ci(i,d,{...Be,type:"object"},`${E}/dependencies/${de}`,S);ze&&!St(ze)&&Object.assign(le,ze)}),d&&Object.keys(d).forEach(de=>le[de]==null&&(le[de]=d[de])),c.if&&(c.then||c.else)){const de=i.isValid(le,c.if);if(de&&c.then){const Be=i.getTemplate(le,{type:"object",...c.then},S);Object.assign(le,Be)}else if(!de&&c.else){const Be=i.getTemplate(le,{type:"object",...c.else},S);Object.assign(le,Be)}}return le},array:(i,c,d,E,S)=>{var k,J,le;const me=c.default===void 0?[]:c.default;c.minItems=c.minItems||0;const de=d||[];if(c.items==null)return de;if(Array.isArray(c.items)){for(let ze=0,et=Math.max((k=c.minItems)!==null&&k!==void 0?k:0,(le=(J=c.items)===null||J===void 0?void 0:J.length)!==null&&le!==void 0?le:0);ze<et;ze+=1)de[ze]=ci(i,de[ze]==null?me[ze]:de[ze],c.items[ze],`${E}/items/${ze}`,S);return de}if(He(c.items)!=="object")return de;const Be=Zo(i,c.items,d,E);if(Be===!1)return de;if(E=Be.pointer||E,Be.oneOf&&de.length===0){const ze=Be.oneOf[0];for(let et=0;et<c.minItems;et+=1)de[et]=ci(i,de[et]==null?me[et]:de[et],ze,`${E}/oneOf/0`,S);return de}if(Be.oneOf&&de.length>0){const ze=Math.max(c.minItems,de.length);for(let et=0;et<ze;et+=1){let we=de[et]==null?me[et]:de[et],Ye=Te(i,we,Be);Ye==null||St(Ye)?we!=null&&S.removeInvalidData!==!0?de[et]=we:(we=void 0,Ye=Be.oneOf[0],de[et]=ci(i,we,Ye,`${E}/oneOf/${et}`,S)):de[et]=ci(i,we,Ye,`${E}/oneOf/${et}`,S)}return de}if(Be.type){for(let ze=0,et=Math.max(c.minItems,de.length);ze<et;ze+=1)de[ze]=ci(i,de[ze]==null?me[ze]:de[ze],Be,`${E}/items`,S);return de}return de}};function $o(i,c,d){return c!=null?c:i.const?i.const:i.default===void 0&&Array.isArray(i.enum)?i.enum[0]:i.default===void 0?d:i.default}var fi=(i,c,d=i.rootSchema,E=qi)=>(Xn={mi:{}},ci(i,c,d,"#",E));function no(i,c,d=i.rootSchema,E="#"){return i.validate(c,d,E).length===0}function Ti(i,c){const d=typeof i;if(d!==typeof c)return!1;if(Array.isArray(i)){if(!Array.isArray(c))return!1;const E=i.length;if(E!==c.length)return!1;for(let S=0;S<E;S++)if(!Ti(i[S],c[S]))return!1;return!0}if(d==="object"){if(!i||!c)return i===c;const E=Object.keys(i),S=Object.keys(c);if(E.length!==S.length)return!1;for(const J of E)if(!Ti(i[J],c[J]))return!1;return!0}return i===c}function mo(i){const c=[];let d=0;const E=i.length;for(;d<E;){const S=i.charCodeAt(d++);if(S>=55296&&S<=56319&&d<E){const k=i.charCodeAt(d++);(k&64512)==56320?c.push(((S&1023)<<10)+(k&1023)+65536):(c.push(S),d--)}else c.push(S)}return c}const Io=Ze.floatingPointPrecision,ao=Object.prototype.hasOwnProperty,As=(i,c)=>!(i[c]===void 0||!ao.call(i,c));var ys={additionalProperties:(i,c,d,E)=>{if(c.additionalProperties===!0||c.additionalProperties==null||He(c.patternProperties)==="object"&&c.additionalProperties===!1)return;const S=[];let k=Object.keys(d).filter(le=>Ze.propertyBlacklist.includes(le)===!1);const J=Object.keys(c.properties||{});if(He(c.patternProperties)==="object"){const le=Object.keys(c.patternProperties).map(me=>new RegExp(me));k=k.filter(me=>{for(let de=0;de<le.length;de+=1)if(le[de].test(me))return!1;return!0})}for(let le=0,me=k.length;le<me;le+=1){const de=k[le];if(J.indexOf(de)===-1){const Be=typeof c.additionalProperties=="object";if(Be&&Array.isArray(c.additionalProperties.oneOf)){const ze=i.resolveOneOf(d[de],c.additionalProperties,`${E}/${de}`);St(ze)?S.push(i.errors.additionalPropertiesError({schema:c.additionalProperties,property:k[le],properties:J,pointer:E,errors:ze.data.errors})):S.push(...i.validate(d[de],ze,E))}else Be?S.push(...i.validate(d[de],c.additionalProperties,`${E}/${de}`)):S.push(i.errors.noAdditionalPropertiesError({property:k[le],properties:J,pointer:E}))}}return S},allOf:(i,c,d,E)=>{if(Array.isArray(c.allOf)===!1)return;const S=[];return c.allOf.forEach(k=>{S.push(...i.validate(d,k,E))}),S},anyOf:(i,c,d,E)=>{if(Array.isArray(c.anyOf)!==!1){for(let S=0;S<c.anyOf.length;S+=1)if(i.isValid(d,c.anyOf[S]))return;return i.errors.anyOfError({anyOf:c.anyOf,value:d,pointer:E})}},dependencies:(i,c,d,E)=>{if(He(c.dependencies)!=="object")return;const S=[];return Object.keys(d).forEach(k=>{if(c.dependencies[k]===void 0||c.dependencies[k]===!0)return;if(c.dependencies[k]===!1){S.push(i.errors.missingDependencyError({pointer:E}));return}let J;const le=He(c.dependencies[k]);if(le==="array")J=c.dependencies[k].filter(me=>d[me]===void 0).map(me=>i.errors.missingDependencyError({missingProperty:me,pointer:E}));else if(le==="object")J=i.validate(d,c.dependencies[k],E);else throw new Error(`Invalid dependency definition for ${E}/${k}. Must be list or schema`);S.push(...J)}),S.length>0?S:void 0},enum:(i,c,d,E)=>{const S=He(d);if(S==="object"||S==="array"){const k=JSON.stringify(d);for(let J=0;J<c.enum.length;J+=1)if(JSON.stringify(c.enum[J])===k)return}else if(c.enum.includes(d))return;return i.errors.enumError({values:c.enum,value:d,pointer:E})},format:(i,c,d,E)=>{if(i.validateFormat[c.format])return i.validateFormat[c.format](i,c,d,E)},items:(i,c,d,E)=>{if(c.items===!1)return Array.isArray(d)&&d.length===0?void 0:i.errors.invalidDataError({pointer:E,value:d});const S=[];for(let k=0;k<d.length;k+=1){const J=d[k],le=i.step(k,c,d,E);if(St(le))return[le];const me=i.validate(J,le,`${E}/${k}`);S.push(...me)}return S},maximum:(i,c,d,E)=>{if(!isNaN(c.maximum)){if(c.maximum&&c.maximum<d)return i.errors.maximumError({maximum:c.maximum,length:d,pointer:E});if(c.maximum&&c.exclusiveMaximum===!0&&c.maximum===d)return i.errors.maximumError({maximum:c.maximum,length:d,pointer:E})}},maxItems:(i,c,d,E)=>{if(!isNaN(c.maxItems)&&c.maxItems<d.length)return i.errors.maxItemsError({maximum:c.maxItems,length:d.length,pointer:E})},maxLength:(i,c,d,E)=>{if(isNaN(c.maxLength))return;const S=mo(d).length;if(c.maxLength<S)return i.errors.maxLengthError({maxLength:c.maxLength,length:S,pointer:E})},maxProperties:(i,c,d,E)=>{const S=Object.keys(d).length;if(isNaN(c.maxProperties)===!1&&c.maxProperties<S)return i.errors.maxPropertiesError({maxProperties:c.maxProperties,length:S,pointer:E})},minLength:(i,c,d,E)=>{if(isNaN(c.minLength))return;const S=mo(d).length;if(c.minLength>S)return c.minLength===1?i.errors.minLengthOneError({minLength:c.minLength,length:S,pointer:E}):i.errors.minLengthError({minLength:c.minLength,length:S,pointer:E})},minimum:(i,c,d,E)=>{if(!isNaN(c.minimum)){if(c.minimum>d)return i.errors.minimumError({minimum:c.minimum,length:d,pointer:E});if(c.exclusiveMinimum===!0&&c.minimum===d)return i.errors.minimumError({minimum:c.minimum,length:d,pointer:E})}},minItems:(i,c,d,E)=>{if(!isNaN(c.minItems)&&c.minItems>d.length)return c.minItems===1?i.errors.minItemsOneError({minItems:c.minItems,length:d.length,pointer:E}):i.errors.minItemsError({minItems:c.minItems,length:d.length,pointer:E})},minProperties:(i,c,d,E)=>{if(isNaN(c.minProperties))return;const S=Object.keys(d).length;if(c.minProperties>S)return i.errors.minPropertiesError({minProperties:c.minProperties,length:S,pointer:E})},multipleOf:(i,c,d,E)=>{if(!isNaN(c.multipleOf)&&d*Io%(c.multipleOf*Io)/Io!==0)return i.errors.multipleOfError({multipleOf:c.multipleOf,value:d,pointer:E})},not:(i,c,d,E)=>{const S=[];return i.validate(d,c.not,E).length===0&&S.push(i.errors.notError({value:d,not:c.not,pointer:E})),S},oneOf:(i,c,d,E)=>{if(Array.isArray(c.oneOf)!==!1&&(c=i.resolveOneOf(d,c,E),St(c)))return c},pattern:(i,c,d,E)=>{if(new RegExp(c.pattern,"u").test(d)===!1)return i.errors.patternError({pattern:c.pattern,description:c.patternExample||c.pattern,received:d,pointer:E})},patternProperties:(i,c,d,E)=>{const S=c.properties||{},k=c.patternProperties;if(He(k)!=="object")return;const J=[],le=Object.keys(d),me=Object.keys(k).map(de=>({regex:new RegExp(de),patternSchema:k[de]}));return le.forEach(de=>{let Be=!1;for(let ze=0,et=me.length;ze<et;ze+=1)if(me[ze].regex.test(de)){Be=!0;const we=i.validate(d[de],me[ze].patternSchema,`${E}/${de}`);we&&we.length>0&&J.push(...we)}S[de]||Be===!1&&c.additionalProperties===!1&&J.push(i.errors.patternPropertiesError({key:de,pointer:E,patterns:Object.keys(k).join(",")}))}),J},properties:(i,c,d,E)=>{const S=[],k=Object.keys(c.properties||{});for(let J=0;J<k.length;J+=1){const le=k[J];if(As(d,le)){const me=i.step(le,c,d,E),de=i.validate(d[le],me,`${E}/${le}`);S.push(...de)}}return S},propertiesRequired:(i,c,d,E)=>{const S=[],k=Object.keys(c.properties||{});for(let J=0;J<k.length;J+=1){const le=k[J];if(d[le]===void 0)S.push(i.errors.requiredPropertyError({key:le,pointer:E}));else{const me=i.step(le,c,d,E),de=i.validate(d[le],me,`${E}/${le}`);S.push(...de)}}return S},required:(i,c,d,E)=>{if(Array.isArray(c.required)!==!1)return c.required.map(S=>{if(!As(d,S))return i.errors.requiredPropertyError({key:S,pointer:E})})},requiredNotEmpty:(i,c,d,E)=>{if(Array.isArray(c.required)!==!1)return c.required.map(S=>{if(d[S]==null||d[S]==="")return i.errors.valueNotEmptyError({property:S,pointer:`${E}/${S}`})})},uniqueItems:(i,c,d,E)=>{if((Array.isArray(d)&&c.uniqueItems)===!1)return;const S=[];return d.forEach((k,J)=>{for(let le=J+1;le<d.length;le+=1)Ti(k,d[le])&&S.push(i.errors.uniqueItemsError({pointer:E,itemPointer:`${E}/${J}`,duplicatePointer:`${E}/${le}`,value:JSON.stringify(k)}))}),S}},Ro={...ys,contains:(i,c,d,E)=>{if(c.contains===!1)return i.errors.containsArrayError({pointer:E,value:d});if(c.contains===!0)return Array.isArray(d)&&d.length===0?i.errors.containsAnyError({pointer:E}):void 0;if(He(c.contains)==="object"){for(let S=0;S<d.length;S+=1)if(i.isValid(d[S],c.contains))return;return i.errors.containsError({pointer:E,schema:JSON.stringify(c.contains)})}},exclusiveMaximum:(i,c,d,E)=>{if(!isNaN(c.exclusiveMaximum)&&c.exclusiveMaximum<=d)return i.errors.maximumError({maximum:c.exclusiveMaximum,length:d,pointer:E})},exclusiveMinimum:(i,c,d,E)=>{if(!isNaN(c.exclusiveMinimum)&&c.exclusiveMinimum>=d)return i.errors.minimumError({minimum:c.exclusiveMinimum,length:d,pointer:E})},if:(i,c,d,E)=>{if(c.if==null)return;const S=i.validate(d,c.if,E);if(S.length===0&&c.then)return i.validate(d,c.then,E);if(S.length!==0&&c.else)return i.validate(d,c.else,E)},maximum:(i,c,d,E)=>{if(!isNaN(c.maximum)&&c.maximum&&c.maximum<d)return i.errors.maximumError({maximum:c.maximum,length:d,pointer:E})},minimum:(i,c,d,E)=>{if(!isNaN(c.minimum)&&c.minimum>d)return i.errors.minimumError({minimum:c.minimum,length:d,pointer:E})},patternProperties:(i,c,d,E)=>{const S=c.properties||{},k=c.patternProperties;if(He(k)!=="object")return;const J=[],le=Object.keys(d),me=Object.keys(k).map(de=>({regex:new RegExp(de),patternSchema:k[de]}));return le.forEach(de=>{let Be=!1;for(let ze=0,et=me.length;ze<et;ze+=1)if(me[ze].regex.test(de)){if(Be=!0,me[ze].patternSchema===!1){J.push(i.errors.patternPropertiesError({key:de,pointer:E,patterns:Object.keys(k).join(",")}));return}const we=i.validate(d[de],me[ze].patternSchema,`${E}/${de}`);we&&we.length>0&&J.push(...we)}S[de]||Be===!1&&c.additionalProperties===!1&&J.push(i.errors.patternPropertiesError({key:de,pointer:E,patterns:Object.keys(k).join(",")}))}),J},propertyNames:(i,c,d,E)=>{if(c.propertyNames===!1)return Object.keys(d).length===0?void 0:i.errors.invalidPropertyNameError({property:Object.keys(d),pointer:E,value:d});if(c.propertyNames===!0||He(c.propertyNames)!=="object")return;const S=[],k=Object.keys(d),J={...c.propertyNames,type:"string"};return k.forEach(le=>{const me=i.validate(le,J,`${E}/${le}`);me.length>0&&S.push(i.errors.invalidPropertyNameError({property:le,pointer:E,validationError:me[0],value:d[le]}))}),S}};function Gi(i,c,d=i.rootSchema,E="#"){let S=!1,k=ge(d);for(let J=0;J<d.anyOf.length;J+=1){const le=i.resolveRef(d.anyOf[J]);i.isValid(c,d.anyOf[J],E)&&(S=!0,k=Vt(k,le))}return S===!1?Je.anyOfError({value:c,pointer:E,anyOf:JSON.stringify(d.anyOf)}):(delete k.anyOf,k)}function Uo(i,c){return i==null||i.$ref==null?i:i.getRoot?i.getRoot().getRef(i):c.getRef(i)}function eo(i){const c={type:He(i)};return c.type==="object"&&(c.properties={},Object.keys(i).forEach(d=>c.properties[d]=eo(i[d]))),c.type==="array"&&i.length===1?c.items=eo(i[0]):c.type==="array"&&(c.items=i.map(eo)),c}function dn(i,c,d=i.rootSchema){const E=i.step(c,d,{},"#");return St(E)?E.code==="one-of-error"?E.data.oneOf.map(S=>i.resolveRef(S)):E:[E]}const Ps={array:(i,c,d,E,S)=>{const k=He(d.items);if(k==="object")return Array.isArray(d.items.oneOf)?i.resolveOneOf(E[c],d.items,S):Array.isArray(d.items.anyOf)?i.resolveAnyOf(E[c],d.items,S):Array.isArray(d.items.allOf)?i.resolveAllOf(E[c],d.items,S):i.resolveRef(d.items);if(k==="array"){if(d.items[c]===!0)return eo(E[c]);if(d.items[c]===!1)return Je.invalidDataError({key:c,value:E[c],pointer:S});if(d.items[c])return i.resolveRef(d.items[c]);if(d.additionalItems===!1)return Je.additionalItemsError({key:c,value:E[c],pointer:S});if(d.additionalItems===!0||d.additionalItems===void 0)return eo(E[c]);if(He(d.additionalItems)==="object")return d.additionalItems;throw new Error(`Invalid schema ${JSON.stringify(d,null,4)} for ${JSON.stringify(E,null,4)}`)}return d.additionalItems!==!1&&E[c]?eo(E[c]):new Error(`Invalid array schema for ${c} at ${S}`)},object:(i,c,d,E,S)=>{if(Array.isArray(d.oneOf)){const le=i.resolveOneOf(E,d,S);if(d=Vt(d,le),St(d))return d}if(Array.isArray(d.anyOf)&&(d=i.resolveAnyOf(E,d,S),St(d))||Array.isArray(d.allOf)&&(d=i.resolveAllOf(E,d,S),St(d)))return d;let k;if(d.properties&&d.properties[c]!==void 0){if(k=i.resolveRef(d.properties[c]),St(k))return k;if(k&&Array.isArray(k.oneOf)){let le=i.resolveOneOf(E[c],k,`${S}/${c}`);const me=k.oneOf.findIndex(de=>de===le);return le.variableSchema=!0,le.oneOfIndex=me,le.oneOfSchema=k,le}if(k)return k}const{dependencies:J}=d;if(He(J)==="object"){const le=Object.keys(J).filter(me=>He(J[me])==="object");for(let me=0,de=le.length;me<de;me+=1){const Be=le[me],ze=_i(i,c,J[Be],E,`${S}/${Be}`);if(!St(ze))return ze}}if(d.if&&(d.then||d.else)){const le=i.isValid(E,d.if);if(le&&d.then){const me=_i(i,c,d.then,E,S);if(typeof me.type=="string"&&me.type!=="error")return me}if(!le&&d.else){const me=_i(i,c,d.else,E,S);if(typeof me.type=="string"&&me.type!=="error")return me}}if(He(d.patternProperties)==="object"){let le;const me=Object.keys(d.patternProperties);for(let de=0,Be=me.length;de<Be;de+=1)if(le=new RegExp(me[de]),le.test(c))return d.patternProperties[me[de]]}return He(d.additionalProperties)==="object"?d.additionalProperties:d.additionalProperties===!0?eo(E[c]):Je.unknownPropertyError({property:c,value:E,pointer:`${S}`})}};function _i(i,c,d,E,S="#"){if(Array.isArray(d.type)){const le=He(E);return d.type.includes(le)?Ps[le](i,`${c}`,d,E,S):i.errors.typeError({value:E,pointer:S,expected:d.type,received:le})}const k=d.type||He(E),J=Ps[k];return J?J(i,`${c}`,d,E,S):new Error(`Unsupported schema type ${d.type} for key ${c}`)}var gi={array:(i,c,d,E)=>i.typeKeywords.array.filter(S=>c&&c[S]!=null).map(S=>i.validateKeyword[S](i,c,d,E)),object:(i,c,d,E)=>i.typeKeywords.object.filter(S=>c&&c[S]!=null).map(S=>i.validateKeyword[S](i,c,d,E)),string:(i,c,d,E)=>i.typeKeywords.string.filter(S=>c&&c[S]!=null).map(S=>i.validateKeyword[S](i,c,d,E)),integer:(i,c,d,E)=>i.typeKeywords.number.filter(S=>c&&c[S]!=null).map(S=>i.validateKeyword[S](i,c,d,E)),number:(i,c,d,E)=>i.typeKeywords.number.filter(S=>c&&c[S]!=null).map(S=>i.validateKeyword[S](i,c,d,E)),boolean:(i,c,d,E)=>i.typeKeywords.boolean.filter(S=>c&&c[S]!=null).map(S=>i.validateKeyword[S](i,c,d,E)),null:(i,c,d,E)=>i.typeKeywords.null.filter(S=>c&&c[S]!=null).map(S=>i.validateKeyword[S](i,c,d,E))},Bn=u(69378),Oo=u.n(Bn);function Un(i,c){const d=He(i);return d==="number"&&(c==="integer"||Array.isArray(c)&&c.includes("integer"))?Number.isInteger(i)||isNaN(i)?"integer":"number":d}function Oi(i,c,d=i.rootSchema,E="#"){if(d=i.resolveRef(d),He(d)==="boolean")return d?[]:[i.errors.invalidDataError({value:c,pointer:E})];if(St(d))return[d];if(d.const!==void 0)return Oo()(d.const,c)?[]:[i.errors.constError({value:c,expected:d.const,pointer:E})];const S=Un(c,d.type),k=d.type||S;return S!==k&&(!Array.isArray(k)||!k.includes(S))?[i.errors.typeError({received:S,expected:k,value:c,pointer:E})]:i.validateType[S]==null?[i.errors.invalidTypeError({receivedType:S,pointer:E})]:rt(i.validateType[S](i,d,c,E)).filter(dt)}class pi{constructor(c,d){this.remotes={},this.errors={},this.typeKeywords={},this.validateKeyword={},this.validateType={},this.validateFormat={},this.config=c,this.typeKeywords=JSON.parse(JSON.stringify(c.typeKeywords)),this.validateKeyword=Object.assign({},c.validateKeyword),this.validateType=Object.assign({},c.validateType),this.validateFormat=Object.assign({},c.validateFormat),this.errors=Object.assign({},c.errors),this.setSchema(d)}get rootSchema(){return this.__rootSchema}set rootSchema(c){c!=null&&(this.__rootSchema=this.config.compileSchema(this,c))}addRemoteSchema(c,d){this.config.addRemoteSchema(this,c,d)}compileSchema(c){var d;return this.config.compileSchema(this,c,(d=this.rootSchema)!==null&&d!==void 0?d:c)}createSchemaOf(c){return this.config.createSchemaOf(c)}each(c,d,E,S){return this.config.each(this,c,d,E,S)}eachSchema(c,d=this.rootSchema){return this.config.eachSchema(d,c)}getChildSchemaSelection(c,d){return this.config.getChildSchemaSelection(this,c,d)}getSchema(c="#",d,E){return this.config.getSchema(this,c,d,E)}getTemplate(c,d,E){return this.config.getTemplate(this,c,d,E)}isValid(c,d,E){return this.config.isValid(this,c,d,E)}resolveAnyOf(c,d,E){return this.config.resolveAnyOf(this,c,d,E)}resolveAllOf(c,d,E){return this.config.resolveAllOf(this,c,d,E)}resolveRef(c){return this.config.resolveRef(c,this.rootSchema)}resolveOneOf(c,d,E){return this.config.resolveOneOf(this,c,d,E)}setSchema(c){this.rootSchema=c}step(c,d,E,S){return this.config.step(this,c,d,E,S)}validate(c,d,E){return this.config.validate(this,c,d,E)}}const li={typeKeywords:{array:["allOf","anyOf","contains","enum","if","items","maxItems","minItems","not","oneOf","uniqueItems"],boolean:["allOf","anyOf","enum","not","oneOf"],object:["additionalProperties","allOf","anyOf","dependencies","enum","format","if","maxProperties","minProperties","not","oneOf","patternProperties","properties","propertyNames","required"],string:["allOf","anyOf","enum","format","if","maxLength","minLength","not","oneOf","pattern"],number:["allOf","anyOf","enum","exclusiveMaximum","exclusiveMinimum","format","if","maximum","minimum","multipleOf","not","oneOf"],null:["allOf","anyOf","enum","format","not","oneOf"]},validateKeyword:Ro,validateType:gi,validateFormat:Pi,errors:Je,addRemoteSchema:Xt,compileSchema:Wo,createSchemaOf:eo,each:Ks,eachSchema:q,getChildSchemaSelection:dn,getSchema:Qt,getTemplate:fi,isValid:no,resolveAllOf:Z,resolveAnyOf:Gi,resolveOneOf:tt,resolveRef:Uo,step:_i,validate:Oi};class Ko extends pi{constructor(c,d={}){super(Vt(li,d),c)}}const po={...li,resolveOneOf:Te,resolveRef:zt};class vs extends null{constructor(c,d={}){super(merge(po,d),c)}}class ei{constructor(c,d){this.core=new Core(c),this.schema=c,this.data=d,this.cache={}}updateData(c){this.data=c,this.cache={}}updateSchema(c){this.schema=c,this.core.setSchema(c),this.cache={}}get(c,d){if(d){const le=getSchema(this.core,c,d,this.schema);return copy(le)}if(c==="#")return this.schema;if(this.cache[c])return this.cache[c];const E=gp.join(c,"..");let S=this.cache[E];S==null&&(S=getSchema(this.core,E,this.data,this.schema),S.variableSchema!==!0&&(this.cache[E]=copy(S)));const k=gp.split(c).pop();let J=getSchema(this.core,k,gp.get(this.data,E),this.cache[E]);return J=copy(J),J.variableSchema!==!0&&(this.cache[c]=J),J}}const io="__compiled",lo="__ref",Ni="getRef",Fo="getRoot",Ei=/(#|\/)+$/g;function bs(i,c,d=c,E=!1){if(!c||c[io]!==void 0)return c;const S={ids:{},remotes:i.remotes},k=JSON.stringify(c),J=JSON.parse(k);if(Object.defineProperty(J,io,{enumerable:!1,value:!0}),Object.defineProperty(J,Ni,{enumerable:!1,value:si.bind(null,S,J)}),E===!1&&k.includes("$ref")===!1)return J;c!==d&&Object.defineProperty(J,"definitions",{enumerable:!1,value:Object.assign({},d.definitions,d.$defs,c.definitions,c.$defs)});const le={},me=()=>J;return q(J,(de,Be)=>{var ze;if(de.id){if(de.id.startsWith("http")&&/(allOf|anyOf|oneOf)\/\d+$/.test(Be)){const Et=Be.replace(/\/(allOf|anyOf|oneOf)\/\d+$/,""),Dt=(0,Xe.get)(J,Et);de.id=(ze=Dt.id)!==null&&ze!==void 0?ze:de.id}S.ids[de.id.replace(Ei,"")]=Be}Be=`#${Be}`.replace(/##+/,"#");const et=Be.replace(/\/[^/]+$/,""),we=Be.replace(/\/[^/]+\/[^/]+$/,""),Ye=le[et]||le[we],Ue=Lt(Ye,de.id);le[Be]=Ue,S.ids[Ue]==null&&(S.ids[Ue]=Be),de.$ref&&!de[lo]&&(Object.defineProperty(de,lo,{enumerable:!1,value:Lt(Ue,de.$ref)}),Object.defineProperty(de,Fo,{enumerable:!1,value:me}))}),J}var xo=bs,Di={array:(i,c,d,E)=>i.typeKeywords.array.filter(S=>c&&c[S]!=null).map(S=>i.validateKeyword[S](i,c,d,E)),object:(i,c,d,E)=>i.typeKeywords.object.filter(S=>c&&c[S]!=null).map(S=>i.validateKeyword[S](i,c,d,E)),string:(i,c,d,E)=>i.typeKeywords.string.filter(S=>c&&c[S]!=null).map(S=>i.validateKeyword[S](i,c,d,E)),integer:(i,c,d,E)=>i.typeKeywords.number.filter(S=>c&&c[S]!=null).map(S=>i.validateKeyword[S](i,c,d,E)),number:(i,c,d,E)=>i.typeKeywords.number.filter(S=>c&&c[S]!=null).map(S=>i.validateKeyword[S](i,c,d,E)),boolean:(i,c,d,E)=>i.typeKeywords.boolean.filter(S=>c&&c[S]!=null).map(S=>i.validateKeyword[S](i,c,d,E)),null:(i,c,d,E)=>i.typeKeywords.null.filter(S=>c&&c[S]!=null).map(S=>i.validateKeyword[S](i,c,d,E))};const kr={typeKeywords:{array:["allOf","anyOf","enum","items","maxItems","minItems","not","oneOf","uniqueItems"],boolean:["enum","not","allOf","anyOf","oneOf"],object:["additionalProperties","dependencies","enum","format","minProperties","maxProperties","patternProperties","properties","required","not","oneOf","allOf","anyOf"],string:["allOf","anyOf","enum","format","maxLength","minLength","not","oneOf","pattern"],number:["allOf","anyOf","enum","format","maximum","minimum","multipleOf","not","oneOf"],null:["allOf","anyOf","enum","format","not","oneOf"]},validateKeyword:ys,validateType:Di,validateFormat:Pi,errors:Je,addRemoteSchema:Xt,compileSchema:xo,createSchemaOf:eo,each:Ks,eachSchema:q,getChildSchemaSelection:dn,getSchema:Qt,getTemplate:fi,isValid:no,resolveAllOf:Z,resolveAnyOf:Gi,resolveOneOf:tt,resolveRef:Uo,step:_i,validate:Oi};class Qn extends null{constructor(c,d={}){super(merge(kr,d),c)}}const go={typeKeywords:{array:["allOf","anyOf","contains","enum","if","items","maxItems","minItems","not","oneOf","uniqueItems"],boolean:["allOf","anyOf","enum","not","oneOf"],object:["additionalProperties","allOf","anyOf","dependencies","enum","format","if","maxProperties","minProperties","not","oneOf","patternProperties","properties","propertyNames","required"],string:["allOf","anyOf","enum","format","if","maxLength","minLength","not","oneOf","pattern"],number:["enum","exclusiveMaximum","exclusiveMinimum","format","maximum","minimum","multipleOf","not","oneOf","allOf","anyOf","if"],null:["allOf","anyOf","enum","format","not","oneOf"]},validateKeyword:Ro,validateType:gi,validateFormat:Pi,errors:Je,addRemoteSchema:Xt,compileSchema:Wo,createSchemaOf:eo,each:Ks,eachSchema:q,getChildSchemaSelection:dn,getSchema:Qt,getTemplate:fi,isValid:no,resolveAllOf:Z,resolveAnyOf:Gi,resolveOneOf:tt,resolveRef:Uo,step:_i,validate:Oi};class rs extends null{constructor(c,d={}){super(merge(go,d),c)}}const Hs={strings:Se};var Fn=u(80236),ns=u(39362),is=u(19126),os=u.n(is),Ts=u(64279),_s=u(60885),bt=u(52322),at=u(27292),Zi=u(90772),Li=u(7279),zr=u(89523),wr=u(64187),gr=u(42082);function Hr(i,c,d){for(var E=-1,S=c.length,k={};++E<S;){var J=c[E],le=(0,zr.Z)(i,J);d(le,J)&&(0,wr.Z)(k,(0,gr.Z)(J,i),le)}return k}var wn=Hr,xn=u(12930);function di(i,c){return wn(i,c,function(d,E){return(0,xn.Z)(i,E)})}var yi=di,yo=u(5255),jn=(0,yo.Z)(function(i,c){return i==null?{}:yi(i,c)}),Vn=jn,Ds=u(55487),Js=u(7921),zo=u(93122),ks=u(25513),qa=u(37164),Gs=u(1284),jo=u(39075);function vo(){return vo=Object.assign||function(i){for(var c=1;c<arguments.length;c++){var d=arguments[c];for(var E in d)Object.prototype.hasOwnProperty.call(d,E)&&(i[E]=d[E])}return i},vo.apply(this,arguments)}const to=["children","options"],ss=["allowFullScreen","allowTransparency","autoComplete","autoFocus","autoPlay","cellPadding","cellSpacing","charSet","className","classId","colSpan","contentEditable","contextMenu","crossOrigin","encType","formAction","formEncType","formMethod","formNoValidate","formTarget","frameBorder","hrefLang","inputMode","keyParams","keyType","marginHeight","marginWidth","maxLength","mediaGroup","minLength","noValidate","radioGroup","readOnly","rowSpan","spellCheck","srcDoc","srcLang","srcSet","tabIndex","useMap"].reduce((i,c)=>(i[c.toLowerCase()]=c,i),{for:"htmlFor"}),Ys={amp:"&",apos:"'",gt:">",lt:"<",nbsp:"\xA0",quot:"\u201C"},Ss=["style","script"],Ta=/([-A-Z0-9_:]+)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|(?:\{((?:\\.|{[^}]*?}|[^}])*)\})))?/gi,_a=/mailto:/i,Ms=/\n{2,}$/,Es=/^( *>[^\n]+(\n[^\n]+)*\n*)+\n{2,}/,ba=/^ *> ?/gm,No=/^ {2,}\n/,$s=/^(?:( *[-*_])){3,} *(?:\n *)+\n/,Xs=/^\s*(`{3,}|~{3,}) *(\S+)?([^\n]*?)?\n([\s\S]+?)\s*\1 *(?:\n *)*\n?/,Da=/^(?: {4}[^\n]+\n*)+(?:\n *)+\n?/,as=/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,Is=/^(?:\n *)*\n/,uo=/\r\n?/g,Ho=/^\[\^([^\]]+)](:.*)\n/,Ui=/^\[\^([^\]]+)]/,ls=/\f/g,Rs=/^\s*?\[(x|\s)\]/,Sa=/^ *(#{1,6}) *([^\n]+?)(?: +#*)?(?:\n *)*(?:\n|$)/,Jo=/^([^\n]+)\n *(=|-){3,} *(?:\n *)+\n/,xi=/^ *(?!<[a-z][^ >/]* ?\/>)<([a-z][^ >/]*) ?([^>]*)\/{0}>\n?(\s*(?:<\1[^>]*?>[\s\S]*?<\/\1>|(?!<\1)[\s\S])*?)<\/\1>\n*/i,ka=/&([a-zA-Z]+);/g,Qs=/^<!--[\s\S]*?(?:-->)/,qs=/^(data|aria|x)-[a-z_][a-z\d_.-]*$/,ws=/^ *<([a-z][a-z0-9:]*)(?:\s+((?:<.*?>|[^>])*))?\/?>(?!<\/\1>)(\s*\n)?/i,Ka=/^\{.*\}$/,Ea=/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,za=/^<([^ >]+@[^ >]+)>/,ea=/^<([^ >]+:\/[^ >]+)>/,Ma=/-([a-z])?/gi,$a=/^(.*\|?.*)\n *(\|? *[-:]+ *\|[-| :]*)\n((?:.*\|.*\n)*)\n?/,Ha=/^\[([^\]]*)\]:\s+<?([^\s>]+)>?\s*("([^"]*)")?/,oo=/^!\[([^\]]*)\] ?\[([^\]]*)\]/,ta=/^\[([^\]]*)\] ?\[([^\]]*)\]/,Yi=/(\[|\])/g,Ia=/(\n|^[-*]\s|^#|^ {2,}|^-{2,}|^>\s)/,Go=/\t/g,ra=/^ *\| */,Lo=/(^ *\||\| *$)/g,Ra=/ *$/,Co=/^ *:-+: *$/,Xi=/^ *:-+ *$/,us=/^ *-+: *$/,Yo=/^([*_])\1((?:\[.*?\][([].*?[)\]]|<.*?>(?:.*?<.*?>)?|`.*?`|~+.*?~+|.)*?)\1\1(?!\1)/,Fa=/^([*_])((?:\[.*?\][([].*?[)\]]|<.*?>(?:.*?<.*?>)?|`.*?`|~+.*?~+|.)*?)\1(?!\1|\w)/,Os=/^==((?:\[.*?\]|<.*?>(?:.*?<.*?>)?|`.*?`|.)*?)==/,la=/^~~((?:\[.*?\]|<.*?>(?:.*?<.*?>)?|`.*?`|.)*?)~~/,Ja=/^\\([^0-9A-Za-z\s])/,xs=/^[\s\S]+?(?=[^0-9A-Z\s\u00c0-\uffff&;.()'"]|\d+\.|\n\n| {2,}\n|\w+:\S|$)/i,wa=/^\n+/,Ci=/^([ \t]*)/,cs=/\\([^\\])/g,Fs=/ *\n+$/,fs=/(?:^|\n)( *)$/,ja="(?:\\d+\\.)",js="(?:[*+-])";function Ns(i){return"( *)("+(i===1?ja:js)+") +"}const ua=Ns(1),Xo=Ns(2);function Ls(i){return new RegExp("^"+(i===1?ua:Xo))}const Ga=Ls(1),ds=Ls(2);function bo(i){return new RegExp("^"+(i===1?ua:Xo)+"[^\\n]*(?:\\n(?!\\1"+(i===1?ja:js)+" )[^\\n]*)*(\\n|$)","gm")}const Qo=bo(1),ca=bo(2);function Oa(i){const c=i===1?ja:js;return new RegExp("^( *)("+c+") [\\s\\S]+?(?:\\n{2,}(?! )(?!\\1"+c+" (?!"+c+" ))\\n*|\\s*\\n*$)")}const Bs=Oa(1),C=Oa(2);function U(i,c){const d=c===1,E=d?Bs:C,S=d?Qo:ca,k=d?Ga:ds;return{t(J,le,me){const de=fs.exec(me);return de&&(le.o||!le._&&!le.u)?E.exec(J=de[1]+J):null},i:Pn.HIGH,l(J,le,me){const de=d?+J[2]:void 0,Be=J[0].replace(Ms,`
`).match(S);let ze=!1;return{p:Be.map(function(et,we){const Ye=k.exec(et)[0].length,Ue=new RegExp("^ {1,"+Ye+"}","gm"),Et=et.replace(Ue,"").replace(k,""),Dt=we===Be.length-1,Ut=Et.indexOf(`

`)!==-1||Dt&&ze;ze=Ut;const $t=me._,rr=me.o;let hr;me.o=!0,Ut?(me._=!1,hr=Et.replace(Fs,`

`)):(me._=!0,hr=Et.replace(Fs,""));const Mr=le(hr,me);return me._=$t,me.o=rr,Mr}),m:d,g:de}},h:(J,le,me)=>i(J.m?"ol":"ul",{key:me.k,start:J.g},J.p.map(function(de,Be){return i("li",{key:Be},le(de,me))}))}}const oe=/^\[([^\]]*)]\( *((?:\([^)]*\)|[^() ])*) *"?([^)"]*)?"?\)/,Ce=/^!\[([^\]]*)]\( *((?:\([^)]*\)|[^() ])*) *"?([^)"]*)?"?\)/,De=[Es,Xs,Da,Sa,Jo,Qs,$a,Qo,Bs,ca,C],Re=[...De,/^[^\n]+(?:  \n|\n{2,})/,xi,ws];function ut(i){return i.replace(/[]/g,"a").replace(/[]/g,"c").replace(/[]/g,"d").replace(/[]/g,"e").replace(/[]/g,"i").replace(/[]/g,"n").replace(/[]/g,"o").replace(/[]/g,"u").replace(/[]/g,"y").replace(/[^a-z0-9- ]/gi,"").replace(/ /gi,"-").toLowerCase()}function It(i){return us.test(i)?"right":Co.test(i)?"center":Xi.test(i)?"left":null}function Pt(i,c,d){const E=d.v;d.v=!0;const S=c(i.trim(),d);d.v=E;let k=[[]];return S.forEach(function(J,le){J.type==="tableSeparator"?le!==0&&le!==S.length-1&&k.push([]):(J.type!=="text"||S[le+1]!=null&&S[le+1].type!=="tableSeparator"||(J.$=J.$.replace(Ra,"")),k[k.length-1].push(J))}),k}function or(i,c,d){d._=!0;const E=Pt(i[1],c,d),S=i[2].replace(Lo,"").split("|").map(It),k=function(J,le,me){return J.trim().split(`
`).map(function(de){return Pt(de,le,me)})}(i[3],c,d);return d._=!1,{S,A:k,L:E,type:"table"}}function vr(i,c){return i.S[c]==null?{}:{textAlign:i.S[c]}}function Ar(i){return function(c,d){return d._?i.exec(c):null}}function Br(i){return function(c,d){return d._||d.u?i.exec(c):null}}function Sn(i){return function(c,d){return d._||d.u?null:i.exec(c)}}function Kn(i){return function(c){return i.exec(c)}}function kn(i,c,d){if(c._||c.u||d&&!d.endsWith(`
`))return null;let E="";i.split(`
`).every(k=>!De.some(J=>J.test(k))&&(E+=k+`
`,k.trim()));const S=E.trimEnd();return S==""?null:[E,S]}function Tn(i){try{if(decodeURIComponent(i).replace(/[^A-Za-z0-9/:]/g,"").match(/^\s*(javascript|vbscript|data(?!:image)):/i))return null}catch{return null}return i}function qn(i){return i.replace(cs,"$1")}function vi(i,c,d){const E=d._||!1,S=d.u||!1;d._=!0,d.u=!0;const k=i(c,d);return d._=E,d.u=S,k}function co(i,c,d){const E=d._||!1,S=d.u||!1;d._=!1,d.u=!0;const k=i(c,d);return d._=E,d.u=S,k}function bi(i,c,d){return d._=!1,i(c+`

`,d)}const so=(i,c,d)=>({$:vi(c,i[1],d)});function Gn(){return{}}function Bi(){return null}function Ws(...i){return i.filter(Boolean).join(" ")}function fa(i,c,d){let E=i;const S=c.split(".");for(;S.length&&(E=E[S[0]],E!==void 0);)S.shift();return E||d}var Pn;function na(i,c={}){c.overrides=c.overrides||{},c.slugify=c.slugify||ut,c.namedCodesToUnicode=c.namedCodesToUnicode?vo({},Ys,c.namedCodesToUnicode):Ys;const d=c.createElement||$.createElement;function E(we,Ye,...Ue){const Et=fa(c.overrides,`${we}.props`,{});return d(function(Dt,Ut){const $t=fa(Ut,Dt);return $t?typeof $t=="function"||typeof $t=="object"&&"render"in $t?$t:fa(Ut,`${Dt}.component`,Dt):Dt}(we,c.overrides),vo({},Ye,Et,{className:Ws(Ye==null?void 0:Ye.className,Et.className)||void 0}),...Ue)}function S(we){let Ye=!1;c.forceInline?Ye=!0:c.forceBlock||(Ye=Ia.test(we)===!1);const Ue=Be(de(Ye?we:`${we.trimEnd().replace(wa,"")}

`,{_:Ye}));for(;typeof Ue[Ue.length-1]=="string"&&!Ue[Ue.length-1].trim();)Ue.pop();if(c.wrapper===null)return Ue;const Et=c.wrapper||(Ye?"span":"div");let Dt;if(Ue.length>1||c.forceWrapper)Dt=Ue;else{if(Ue.length===1)return Dt=Ue[0],typeof Dt=="string"?E("span",{key:"outer"},Dt):Dt;Dt=null}return $.createElement(Et,{key:"outer"},Dt)}function k(we){const Ye=we.match(Ta);return Ye?Ye.reduce(function(Ue,Et,Dt){const Ut=Et.indexOf("=");if(Ut!==-1){const $t=function(br){return br.indexOf("-")!==-1&&br.match(qs)===null&&(br=br.replace(Ma,function(ur,Jr){return Jr.toUpperCase()})),br}(Et.slice(0,Ut)).trim(),rr=function(br){const ur=br[0];return(ur==='"'||ur==="'")&&br.length>=2&&br[br.length-1]===ur?br.slice(1,-1):br}(Et.slice(Ut+1).trim()),hr=ss[$t]||$t,Mr=Ue[hr]=function(br,ur){return br==="style"?ur.split(/;\s?/).reduce(function(Jr,pn){const $r=pn.slice(0,pn.indexOf(":"));return Jr[$r.replace(/(-[a-z])/g,on=>on[1].toUpperCase())]=pn.slice($r.length+1).trim(),Jr},{}):br==="href"?Tn(ur):(ur.match(Ka)&&(ur=ur.slice(1,ur.length-1)),ur==="true"||ur!=="false"&&ur)}($t,rr);typeof Mr=="string"&&(xi.test(Mr)||ws.test(Mr))&&(Ue[hr]=$.cloneElement(S(Mr.trim()),{key:Dt}))}else Et!=="style"&&(Ue[ss[Et]||Et]=!0);return Ue},{}):null}const J=[],le={},me={blockQuote:{t:Sn(Es),i:Pn.HIGH,l:(we,Ye,Ue)=>({$:Ye(we[0].replace(ba,""),Ue)}),h:(we,Ye,Ue)=>E("blockquote",{key:Ue.k},Ye(we.$,Ue))},breakLine:{t:Kn(No),i:Pn.HIGH,l:Gn,h:(we,Ye,Ue)=>E("br",{key:Ue.k})},breakThematic:{t:Sn($s),i:Pn.HIGH,l:Gn,h:(we,Ye,Ue)=>E("hr",{key:Ue.k})},codeBlock:{t:Sn(Da),i:Pn.MAX,l:we=>({$:we[0].replace(/^ {4}/gm,"").replace(/\n+$/,""),M:void 0}),h:(we,Ye,Ue)=>E("pre",{key:Ue.k},E("code",vo({},we.I,{className:we.M?`lang-${we.M}`:""}),we.$))},codeFenced:{t:Sn(Xs),i:Pn.MAX,l:we=>({I:k(we[3]||""),$:we[4],M:we[2]||void 0,type:"codeBlock"})},codeInline:{t:Br(as),i:Pn.LOW,l:we=>({$:we[2]}),h:(we,Ye,Ue)=>E("code",{key:Ue.k},we.$)},footnote:{t:Sn(Ho),i:Pn.MAX,l:we=>(J.push({O:we[2],B:we[1]}),{}),h:Bi},footnoteReference:{t:Ar(Ui),i:Pn.HIGH,l:we=>({$:we[1],R:`#${c.slugify(we[1])}`}),h:(we,Ye,Ue)=>E("a",{key:Ue.k,href:Tn(we.R)},E("sup",{key:Ue.k},we.$))},gfmTask:{t:Ar(Rs),i:Pn.HIGH,l:we=>({T:we[1].toLowerCase()==="x"}),h:(we,Ye,Ue)=>E("input",{checked:we.T,key:Ue.k,readOnly:!0,type:"checkbox"})},heading:{t:Sn(Sa),i:Pn.HIGH,l:(we,Ye,Ue)=>({$:vi(Ye,we[2],Ue),j:c.slugify(we[2]),C:we[1].length}),h:(we,Ye,Ue)=>E(`h${we.C}`,{id:we.j,key:Ue.k},Ye(we.$,Ue))},headingSetext:{t:Sn(Jo),i:Pn.MAX,l:(we,Ye,Ue)=>({$:vi(Ye,we[1],Ue),C:we[2]==="="?1:2,type:"heading"})},htmlComment:{t:Kn(Qs),i:Pn.HIGH,l:()=>({}),h:Bi},image:{t:Br(Ce),i:Pn.HIGH,l:we=>({D:we[1],R:qn(we[2]),N:we[3]}),h:(we,Ye,Ue)=>E("img",{key:Ue.k,alt:we.D||void 0,title:we.N||void 0,src:Tn(we.R)})},link:{t:Ar(oe),i:Pn.LOW,l:(we,Ye,Ue)=>({$:co(Ye,we[1],Ue),R:qn(we[2]),N:we[3]}),h:(we,Ye,Ue)=>E("a",{key:Ue.k,href:Tn(we.R),title:we.N},Ye(we.$,Ue))},linkAngleBraceStyleDetector:{t:Ar(ea),i:Pn.MAX,l:we=>({$:[{$:we[1],type:"text"}],R:we[1],type:"link"})},linkBareUrlDetector:{t:(we,Ye)=>Ye.Z?null:Ar(Ea)(we,Ye),i:Pn.MAX,l:we=>({$:[{$:we[1],type:"text"}],R:we[1],N:void 0,type:"link"})},linkMailtoDetector:{t:Ar(za),i:Pn.MAX,l(we){let Ye=we[1],Ue=we[1];return _a.test(Ue)||(Ue="mailto:"+Ue),{$:[{$:Ye.replace("mailto:",""),type:"text"}],R:Ue,type:"link"}}},orderedList:U(E,1),unorderedList:U(E,2),newlineCoalescer:{t:Sn(Is),i:Pn.LOW,l:Gn,h:()=>`
`},paragraph:{t:kn,i:Pn.LOW,l:so,h:(we,Ye,Ue)=>E("p",{key:Ue.k},Ye(we.$,Ue))},ref:{t:Ar(Ha),i:Pn.MAX,l:we=>(le[we[1]]={R:we[2],N:we[4]},{}),h:Bi},refImage:{t:Br(oo),i:Pn.MAX,l:we=>({D:we[1]||void 0,F:we[2]}),h:(we,Ye,Ue)=>E("img",{key:Ue.k,alt:we.D,src:Tn(le[we.F].R),title:le[we.F].N})},refLink:{t:Ar(ta),i:Pn.MAX,l:(we,Ye,Ue)=>({$:Ye(we[1],Ue),P:Ye(we[0].replace(Yi,"\\$1"),Ue),F:we[2]}),h:(we,Ye,Ue)=>le[we.F]?E("a",{key:Ue.k,href:Tn(le[we.F].R),title:le[we.F].N},Ye(we.$,Ue)):E("span",{key:Ue.k},Ye(we.P,Ue))},table:{t:Sn($a),i:Pn.HIGH,l:or,h:(we,Ye,Ue)=>E("table",{key:Ue.k},E("thead",null,E("tr",null,we.L.map(function(Et,Dt){return E("th",{key:Dt,style:vr(we,Dt)},Ye(Et,Ue))}))),E("tbody",null,we.A.map(function(Et,Dt){return E("tr",{key:Dt},Et.map(function(Ut,$t){return E("td",{key:$t,style:vr(we,$t)},Ye(Ut,Ue))}))})))},tableSeparator:{t:function(we,Ye){return Ye.v?ra.exec(we):null},i:Pn.HIGH,l:function(){return{type:"tableSeparator"}},h:()=>" | "},text:{t:Kn(xs),i:Pn.MIN,l:we=>({$:we[0].replace(ka,(Ye,Ue)=>c.namedCodesToUnicode[Ue]?c.namedCodesToUnicode[Ue]:Ye)}),h:we=>we.$},textBolded:{t:Br(Yo),i:Pn.MED,l:(we,Ye,Ue)=>({$:Ye(we[2],Ue)}),h:(we,Ye,Ue)=>E("strong",{key:Ue.k},Ye(we.$,Ue))},textEmphasized:{t:Br(Fa),i:Pn.LOW,l:(we,Ye,Ue)=>({$:Ye(we[2],Ue)}),h:(we,Ye,Ue)=>E("em",{key:Ue.k},Ye(we.$,Ue))},textEscaped:{t:Br(Ja),i:Pn.HIGH,l:we=>({$:we[1],type:"text"})},textMarked:{t:Br(Os),i:Pn.LOW,l:so,h:(we,Ye,Ue)=>E("mark",{key:Ue.k},Ye(we.$,Ue))},textStrikethroughed:{t:Br(la),i:Pn.LOW,l:so,h:(we,Ye,Ue)=>E("del",{key:Ue.k},Ye(we.$,Ue))}};c.disableParsingRawHTML!==!0&&(me.htmlBlock={t:Kn(xi),i:Pn.HIGH,l(we,Ye,Ue){const[,Et]=we[3].match(Ci),Dt=new RegExp(`^${Et}`,"gm"),Ut=we[3].replace(Dt,""),$t=(rr=Ut,Re.some(ur=>ur.test(rr))?bi:vi);var rr;const hr=we[1].toLowerCase(),Mr=Ss.indexOf(hr)!==-1;Ue.Z=Ue.Z||hr==="a";const br=Mr?we[3]:$t(Ye,Ut,Ue);return Ue.Z=!1,{I:k(we[2]),$:br,G:Mr,H:Mr?hr:we[1]}},h:(we,Ye,Ue)=>E(we.H,vo({key:Ue.k},we.I),we.G?we.$:Ye(we.$,Ue))},me.htmlSelfClosing={t:Kn(ws),i:Pn.HIGH,l:we=>({I:k(we[2]||""),H:we[1]}),h:(we,Ye,Ue)=>E(we.H,vo({},we.I,{key:Ue.k}))});const de=function(we){let Ye=Object.keys(we);function Ue(Et,Dt){let Ut=[],$t="";for(;Et;){let rr=0;for(;rr<Ye.length;){const hr=Ye[rr],Mr=we[hr],br=Mr.t(Et,Dt,$t);if(br){const ur=br[0];Et=Et.substring(ur.length);const Jr=Mr.l(br,Ue,Dt);Jr.type==null&&(Jr.type=hr),Ut.push(Jr),$t=ur;break}rr++}}return Ut}return Ye.sort(function(Et,Dt){let Ut=we[Et].i,$t=we[Dt].i;return Ut!==$t?Ut-$t:Et<Dt?-1:1}),function(Et,Dt){return Ue(function(Ut){return Ut.replace(uo,`
`).replace(ls,"").replace(Go,"    ")}(Et),Dt)}}(me),Be=(ze=function(we){return function(Ye,Ue,Et){return we[Ye.type].h(Ye,Ue,Et)}}(me),function we(Ye,Ue={}){if(Array.isArray(Ye)){const Et=Ue.k,Dt=[];let Ut=!1;for(let $t=0;$t<Ye.length;$t++){Ue.k=$t;const rr=we(Ye[$t],Ue),hr=typeof rr=="string";hr&&Ut?Dt[Dt.length-1]+=rr:rr!==null&&Dt.push(rr),Ut=hr}return Ue.k=Et,Dt}return ze(Ye,we,Ue)});var ze;const et=S(i);return J.length?E("div",null,et,E("footer",{key:"footer"},J.map(function(we){return E("div",{id:c.slugify(we.B),key:we.B},we.B,Be(de(we.O,{_:!0})))}))):et}(function(i){i[i.MAX=0]="MAX",i[i.HIGH=1]="HIGH",i[i.MED=2]="MED",i[i.LOW=3]="LOW",i[i.MIN=4]="MIN"})(Pn||(Pn={}));var hs=i=>{let{children:c,options:d}=i,E=function(S,k){if(S==null)return{};var J,le,me={},de=Object.keys(S);for(le=0;le<de.length;le++)k.indexOf(J=de[le])>=0||(me[J]=S[J]);return me}(i,to);return $.cloneElement(na(c,d),E)},Na=u(6279),rl=u(56764);function qo(i,c){return i==null?!0:(0,rl.Z)(i,c)}var La=qo;function Ba(i,c){for(var d=0;d<c.length;d++){var E=c[d];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(i,Ya(E.key),E)}}function fo(i,c,d){return c&&Ba(i.prototype,c),d&&Ba(i,d),Object.defineProperty(i,"prototype",{writable:!1}),i}function Vr(){return Vr=Object.assign?Object.assign.bind():function(i){for(var c=1;c<arguments.length;c++){var d=arguments[c];for(var E in d)Object.prototype.hasOwnProperty.call(d,E)&&(i[E]=d[E])}return i},Vr.apply(this,arguments)}function da(i,c){i.prototype=Object.create(c.prototype),i.prototype.constructor=i,Wa(i,c)}function Wa(i,c){return Wa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(E,S){return E.__proto__=S,E},Wa(i,c)}function Ao(i,c){if(i==null)return{};var d={},E=Object.keys(i),S,k;for(k=0;k<E.length;k++)S=E[k],!(c.indexOf(S)>=0)&&(d[S]=i[S]);return d}function fl(i,c){if(typeof i!="object"||i===null)return i;var d=i[Symbol.toPrimitive];if(d!==void 0){var E=d.call(i,c||"default");if(typeof E!="object")return E;throw new TypeError("@@toPrimitive must return a primitive value.")}return(c==="string"?String:Number)(i)}function Ya(i){var c=fl(i,"string");return typeof c=="symbol"?c:String(c)}var o=["widget","title"],h=["widget","title"],x=["widget","title"];function g(){return(0,qa.x0)()}function L(i){return Array.isArray(i)?i.map(function(c){return{key:g(),item:c}}):[]}function ye(i){return Array.isArray(i)?i.map(function(c){return c.item}):[]}var qe=function(i){da(c,i);function c(E){var S;S=i.call(this,E)||this,S._getNewFormDataRow=function(){var me=S.props,de=me.schema,Be=me.registry,ze=Be.schemaUtils,et=de.items;return(0,at.FZ)(de)&&(0,at.TE)(de)&&(et=de.additionalItems),ze.getDefaultFormState(et)},S.onAddClick=function(me){S._handleAddClick(me)},S.onAddIndexClick=function(me){return function(de){S._handleAddClick(de,me)}},S.onCopyIndexClick=function(me){return function(de){de&&de.preventDefault();var Be=S.props.onChange,ze=S.state.keyedFormData,et={key:g(),item:(0,Js.Z)(ze[me].item)},we=[].concat(ze);me!==void 0?we.splice(me+1,0,et):we.push(et),S.setState({keyedFormData:we,updatedKeyedFormData:!0},function(){return Be(ye(we))})}},S.onDropIndexClick=function(me){return function(de){de&&de.preventDefault();var Be=S.props,ze=Be.onChange,et=Be.errorSchema,we=S.state.keyedFormData,Ye;if(et){Ye={};for(var Ue in et){var Et=parseInt(Ue);Et<me?(0,ks.Z)(Ye,[Et],et[Ue]):Et>me&&(0,ks.Z)(Ye,[Et-1],et[Ue])}}var Dt=we.filter(function(Ut,$t){return $t!==me});S.setState({keyedFormData:Dt,updatedKeyedFormData:!0},function(){return ze(ye(Dt),Ye)})}},S.onReorderClick=function(me,de){return function(Be){Be&&(Be.preventDefault(),Be.currentTarget.blur());var ze=S.props,et=ze.onChange,we=ze.errorSchema,Ye;if(we){Ye={};for(var Ue in we){var Et=parseInt(Ue);Et==me?(0,ks.Z)(Ye,[de],we[me]):Et==de?(0,ks.Z)(Ye,[me],we[de]):(0,ks.Z)(Ye,[Ue],we[Et])}}var Dt=S.state.keyedFormData;function Ut(){var rr=Dt.slice();return rr.splice(me,1),rr.splice(de,0,Dt[me]),rr}var $t=Ut();S.setState({keyedFormData:$t},function(){return et(ye($t),Ye)})}},S.onChangeForIndex=function(me){return function(de,Be,ze){var et,we=S.props,Ye=we.formData,Ue=we.onChange,Et=we.errorSchema,Dt=Array.isArray(Ye)?Ye:[],Ut=Dt.map(function($t,rr){var hr=typeof de=="undefined"?null:de;return me===rr?hr:$t});Ue(Ut,Et&&Et&&Vr({},Et,(et={},et[me]=Be,et)),ze)}},S.onSelectChange=function(me){var de=S.props,Be=de.onChange,ze=de.idSchema;Be(me,void 0,ze&&ze.$id)};var k=E.formData,J=k===void 0?[]:k,le=L(J);return S.state={keyedFormData:le,updatedKeyedFormData:!1},S}c.getDerivedStateFromProps=function(S,k){if(k.updatedKeyedFormData)return{updatedKeyedFormData:!1};var J=Array.isArray(S.formData)?S.formData:[],le=k.keyedFormData||[],me=J.length===le.length?le.map(function(de,Be){return{key:de.key,item:J[Be]}}):L(J);return{keyedFormData:me}};var d=c.prototype;return d.isItemRequired=function(S){return Array.isArray(S.type)?!S.type.includes("null"):S.type!=="null"},d.canAddItem=function(S){var k=this.props,J=k.schema,le=k.uiSchema,me=k.registry,de=(0,at.LI)(le,me.globalUiOptions),Be=de.addable;return Be!==!1&&(J.maxItems!==void 0?Be=S.length<J.maxItems:Be=!0),Be},d._handleAddClick=function(S,k){S&&S.preventDefault();var J=this.props.onChange,le=this.state.keyedFormData,me={key:g(),item:this._getNewFormDataRow()},de=[].concat(le);k!==void 0?de.splice(k,0,me):de.push(me),this.setState({keyedFormData:de,updatedKeyedFormData:!0},function(){return J(ye(de))})},d.render=function(){var S=this.props,k=S.schema,J=S.uiSchema,le=S.idSchema,me=S.registry,de=me.schemaUtils,Be=me.translateString;if(!(at.YU in k)){var ze=(0,at.LI)(J),et=(0,at.t4)("UnsupportedFieldTemplate",me,ze);return(0,bt.jsx)(et,{schema:k,idSchema:le,reason:Be(at.g8.MissingItems),registry:me})}return de.isMultiSelect(k)?this.renderMultiSelect():(0,at.A7)(J)?this.renderCustomWidget():(0,at.FZ)(k)?this.renderFixedArray():de.isFilesArray(k,J)?this.renderFiles():this.renderNormalArray()},d.renderNormalArray=function(){var S=this,k=this.props,J=k.schema,le=k.uiSchema,me=le===void 0?{}:le,de=k.errorSchema,Be=k.idSchema,ze=k.name,et=k.disabled,we=et===void 0?!1:et,Ye=k.readonly,Ue=Ye===void 0?!1:Ye,Et=k.autofocus,Dt=Et===void 0?!1:Et,Ut=k.required,$t=Ut===void 0?!1:Ut,rr=k.registry,hr=k.onBlur,Mr=k.onFocus,br=k.idPrefix,ur=k.idSeparator,Jr=ur===void 0?"_":ur,pn=k.rawErrors,$r=this.state.keyedFormData,on=J.title===void 0?ze:J.title,Ln=rr.schemaUtils,Wn=rr.formContext,Rn=(0,at.LI)(me),ti=(0,zo.Z)(J.items)?J.items:{},ki=Ln.retrieveSchema(ti),ri=ye(this.state.keyedFormData),ni=this.canAddItem(ri),ui={canAdd:ni,items:$r.map(function(_o,Qi){var ps=_o.key,Vs=_o.item,Do=Vs,Mi=Ln.retrieveSchema(ti,Do),ii=de?de[Qi]:void 0,es=Be.$id+Jr+Qi,Qa=Ln.toIdSchema(Mi,es,Do,br,Jr);return S.renderArrayFieldItem({key:ps,index:Qi,name:ze&&ze+"-"+Qi,canAdd:ni,canMoveUp:Qi>0,canMoveDown:Qi<ri.length-1,itemSchema:Mi,itemIdSchema:Qa,itemErrorSchema:ii,itemData:Do,itemUiSchema:me.items,autofocus:Dt&&Qi===0,onBlur:hr,onFocus:Mr,rawErrors:pn,totalItems:$r.length})}),className:"field field-array field-array-of-"+ki.type,disabled:we,idSchema:Be,uiSchema:me,onAddClick:this.onAddClick,readonly:Ue,required:$t,schema:J,title:on,formContext:Wn,formData:ri,rawErrors:pn,registry:rr},Ki=(0,at.t4)("ArrayFieldTemplate",rr,Rn);return(0,bt.jsx)(Ki,Vr({},ui))},d.renderCustomWidget=function(){var S,k=this.props,J=k.schema,le=k.idSchema,me=k.uiSchema,de=k.disabled,Be=de===void 0?!1:de,ze=k.readonly,et=ze===void 0?!1:ze,we=k.autofocus,Ye=we===void 0?!1:we,Ue=k.required,Et=Ue===void 0?!1:Ue,Dt=k.hideError,Ut=k.placeholder,$t=k.onBlur,rr=k.onFocus,hr=k.formData,Mr=hr===void 0?[]:hr,br=k.registry,ur=k.rawErrors,Jr=k.name,pn=br.widgets,$r=br.formContext,on=br.globalUiOptions,Ln=br.schemaUtils,Wn=(0,at.LI)(me,on),Rn=Wn.widget,ti=Wn.title,ki=Ao(Wn,o),ri=(0,at.us)(J,Rn,pn),ni=(S=ti!=null?ti:J.title)!=null?S:Jr,ui=Ln.getDisplayLabel(J,me,on);return(0,bt.jsx)(ri,{id:le.$id,name:Jr,multiple:!0,onChange:this.onSelectChange,onBlur:$t,onFocus:rr,options:ki,schema:J,uiSchema:me,registry:br,value:Mr,disabled:Be,readonly:et,hideError:Dt,required:Et,label:ni,hideLabel:!ui,placeholder:Ut,formContext:$r,autofocus:Ye,rawErrors:ur})},d.renderMultiSelect=function(){var S,k=this.props,J=k.schema,le=k.idSchema,me=k.uiSchema,de=k.formData,Be=de===void 0?[]:de,ze=k.disabled,et=ze===void 0?!1:ze,we=k.readonly,Ye=we===void 0?!1:we,Ue=k.autofocus,Et=Ue===void 0?!1:Ue,Dt=k.required,Ut=Dt===void 0?!1:Dt,$t=k.placeholder,rr=k.onBlur,hr=k.onFocus,Mr=k.registry,br=k.rawErrors,ur=k.name,Jr=Mr.widgets,pn=Mr.schemaUtils,$r=Mr.formContext,on=Mr.globalUiOptions,Ln=pn.retrieveSchema(J.items,Be),Wn=(0,at.pp)(Ln),Rn=(0,at.LI)(me,on),ti=Rn.widget,ki=ti===void 0?"select":ti,ri=Rn.title,ni=Ao(Rn,h),ui=(0,at.us)(J,ki,Jr),Ki=(S=ri!=null?ri:J.title)!=null?S:ur,_o=pn.getDisplayLabel(J,me,on);return(0,bt.jsx)(ui,{id:le.$id,name:ur,multiple:!0,onChange:this.onSelectChange,onBlur:rr,onFocus:hr,options:Vr({},ni,{enumOptions:Wn}),schema:J,uiSchema:me,registry:Mr,value:Be,disabled:et,readonly:Ye,required:Ut,label:Ki,hideLabel:!_o,placeholder:$t,formContext:$r,autofocus:Et,rawErrors:br})},d.renderFiles=function(){var S,k=this.props,J=k.schema,le=k.uiSchema,me=k.idSchema,de=k.name,Be=k.disabled,ze=Be===void 0?!1:Be,et=k.readonly,we=et===void 0?!1:et,Ye=k.autofocus,Ue=Ye===void 0?!1:Ye,Et=k.required,Dt=Et===void 0?!1:Et,Ut=k.onBlur,$t=k.onFocus,rr=k.registry,hr=k.formData,Mr=hr===void 0?[]:hr,br=k.rawErrors,ur=rr.widgets,Jr=rr.formContext,pn=rr.globalUiOptions,$r=rr.schemaUtils,on=(0,at.LI)(le,pn),Ln=on.widget,Wn=Ln===void 0?"files":Ln,Rn=on.title,ti=Ao(on,x),ki=(0,at.us)(J,Wn,ur),ri=(S=Rn!=null?Rn:J.title)!=null?S:de,ni=$r.getDisplayLabel(J,le,pn);return(0,bt.jsx)(ki,{options:ti,id:me.$id,name:de,multiple:!0,onChange:this.onSelectChange,onBlur:Ut,onFocus:$t,schema:J,uiSchema:le,value:Mr,disabled:ze,readonly:we,required:Dt,registry:rr,formContext:Jr,autofocus:Ue,rawErrors:br,label:ri,hideLabel:!ni})},d.renderFixedArray=function(){var S=this,k=this.props,J=k.schema,le=k.uiSchema,me=le===void 0?{}:le,de=k.formData,Be=de===void 0?[]:de,ze=k.errorSchema,et=k.idPrefix,we=k.idSeparator,Ye=we===void 0?"_":we,Ue=k.idSchema,Et=k.name,Dt=k.disabled,Ut=Dt===void 0?!1:Dt,$t=k.readonly,rr=$t===void 0?!1:$t,hr=k.autofocus,Mr=hr===void 0?!1:hr,br=k.required,ur=br===void 0?!1:br,Jr=k.registry,pn=k.onBlur,$r=k.onFocus,on=k.rawErrors,Ln=this.state.keyedFormData,Wn=this.props.formData,Rn=Wn===void 0?[]:Wn,ti=J.title||Et,ki=(0,at.LI)(me),ri=Jr.schemaUtils,ni=Jr.formContext,ui=(0,zo.Z)(J.items)?J.items:[],Ki=ui.map(function(Do,Mi){return ri.retrieveSchema(Do,Be[Mi])}),_o=(0,zo.Z)(J.additionalItems)?ri.retrieveSchema(J.additionalItems,Be):null;(!Rn||Rn.length<Ki.length)&&(Rn=Rn||[],Rn=Rn.concat(new Array(Ki.length-Rn.length)));var Qi=this.canAddItem(Rn)&&!!_o,ps={canAdd:Qi,className:"field field-array field-array-fixed-items",disabled:Ut,idSchema:Ue,formData:Be,items:Ln.map(function(Do,Mi){var ii=Do.key,es=Do.item,Qa=es,cl=Mi>=Ki.length,pl=cl&&(0,zo.Z)(J.additionalItems)?ri.retrieveSchema(J.additionalItems,Qa):Ki[Mi],Rl=Ue.$id+Ye+Mi,Fl=ri.toIdSchema(pl,Rl,Qa,et,Ye),El=cl?me.additionalItems||{}:Array.isArray(me.items)?me.items[Mi]:me.items||{},tl=ze?ze[Mi]:void 0;return S.renderArrayFieldItem({key:ii,index:Mi,name:Et&&Et+"-"+Mi,canAdd:Qi,canRemove:cl,canMoveUp:Mi>=Ki.length+1,canMoveDown:cl&&Mi<Rn.length-1,itemSchema:pl,itemData:Qa,itemUiSchema:El,itemIdSchema:Fl,itemErrorSchema:tl,autofocus:Mr&&Mi===0,onBlur:pn,onFocus:$r,rawErrors:on,totalItems:Ln.length})}),onAddClick:this.onAddClick,readonly:rr,required:ur,registry:Jr,schema:J,uiSchema:me,title:ti,formContext:ni,rawErrors:on},Vs=(0,at.t4)("ArrayFieldTemplate",Jr,ki);return(0,bt.jsx)(Vs,Vr({},ps))},d.renderArrayFieldItem=function(S){var k=S.key,J=S.index,le=S.name,me=S.canAdd,de=S.canRemove,Be=de===void 0?!0:de,ze=S.canMoveUp,et=S.canMoveDown,we=S.itemSchema,Ye=S.itemData,Ue=S.itemUiSchema,Et=S.itemIdSchema,Dt=S.itemErrorSchema,Ut=S.autofocus,$t=S.onBlur,rr=S.onFocus,hr=S.rawErrors,Mr=S.totalItems,br=this.props,ur=br.disabled,Jr=br.hideError,pn=br.idPrefix,$r=br.idSeparator,on=br.readonly,Ln=br.uiSchema,Wn=br.registry,Rn=br.formContext,ti=Wn.fields,ki=ti.ArraySchemaField,ri=ti.SchemaField,ni=Wn.globalUiOptions,ui=ki||ri,Ki=(0,at.LI)(Ln,ni),_o=Ki.orderable,Qi=_o===void 0?!0:_o,ps=Ki.removable,Vs=ps===void 0?!0:ps,Do=Ki.copyable,Mi=Do===void 0?!1:Do,ii={moveUp:Qi&&ze,moveDown:Qi&&et,copy:Mi&&me,remove:Vs&&Be,toolbar:!1};return ii.toolbar=Object.keys(ii).some(function(es){return ii[es]}),{children:(0,bt.jsx)(ui,{name:le,index:J,schema:we,uiSchema:Ue,formData:Ye,formContext:Rn,errorSchema:Dt,idPrefix:pn,idSeparator:$r,idSchema:Et,required:this.isItemRequired(we),onChange:this.onChangeForIndex(J),onBlur:$t,onFocus:rr,registry:Wn,disabled:ur,readonly:on,hideError:Jr,autofocus:Ut,rawErrors:hr}),className:"array-item",disabled:ur,canAdd:me,hasCopy:ii.copy,hasToolbar:ii.toolbar,hasMoveUp:ii.moveUp,hasMoveDown:ii.moveDown,hasRemove:ii.remove,index:J,totalItems:Mr,key:k,onAddIndexClick:this.onAddIndexClick,onCopyIndexClick:this.onCopyIndexClick,onDropIndexClick:this.onDropIndexClick,onReorderClick:this.onReorderClick,readonly:on,registry:Wn,schema:we,uiSchema:Ue}},fo(c,[{key:"itemTitle",get:function(){var S=this.props,k=S.schema,J=S.registry,le=J.translateString;return(0,Zi.Z)(k,[at.YU,"title"],(0,Zi.Z)(k,[at.YU,"description"],le(at.g8.ArrayItemTitle)))}}]),c}($.Component),nt=["widget","title","label"];function ft(i){var c,d=i.schema,E=i.name,S=i.uiSchema,k=i.idSchema,J=i.formData,le=i.registry,me=i.required,de=i.disabled,Be=i.readonly,ze=i.autofocus,et=i.onChange,we=i.onFocus,Ye=i.onBlur,Ue=i.rawErrors,Et=d.title,Dt=le.widgets,Ut=le.formContext,$t=le.translateString,rr=le.globalUiOptions,hr=(0,at.LI)(S,rr),Mr=hr.widget,br=Mr===void 0?"checkbox":Mr,ur=hr.title,Jr=hr.label,pn=Jr===void 0?!0:Jr,$r=Ao(hr,nt),on=(0,at.us)(d,br,Dt),Ln=$t(at.g8.YesLabel),Wn=$t(at.g8.NoLabel),Rn,ti=(c=ur!=null?ur:Et)!=null?c:E;if(Array.isArray(d.oneOf))Rn=(0,at.pp)({oneOf:d.oneOf.map(function(ui){if((0,zo.Z)(ui))return Vr({},ui,{title:ui.title||(ui.const===!0?Ln:Wn)})}).filter(function(ui){return ui})});else{var ki,ri=d,ni=(ki=d.enum)!=null?ki:[!0,!1];!ri.enumNames&&ni.length===2&&ni.every(function(ui){return typeof ui=="boolean"})?Rn=[{value:ni[0],label:ni[0]?Ln:Wn},{value:ni[1],label:ni[1]?Ln:Wn}]:Rn=(0,at.pp)({enum:ni,enumNames:ri.enumNames})}return(0,bt.jsx)(on,{options:Vr({},$r,{enumOptions:Rn}),schema:d,uiSchema:S,id:k.$id,name:E,onChange:et,onFocus:we,onBlur:Ye,label:ti,hideLabel:!pn,value:J,required:me,disabled:de,readonly:Be,registry:le,formContext:Ut,autofocus:ze,rawErrors:Ue})}var Ot=["widget","placeholder","autofocus","autocomplete","title"],xt=function(i){da(c,i);function c(E){var S;S=i.call(this,E)||this,S.onOptionChange=function(Be){var ze=S.state,et=ze.selectedOption,we=ze.retrievedOptions,Ye=S.props,Ue=Ye.formData,Et=Ye.onChange,Dt=Ye.registry,Ut=Dt.schemaUtils,$t=Be!==void 0?parseInt(Be,10):-1;if($t!==et){var rr=$t>=0?we[$t]:void 0,hr=et>=0?we[et]:void 0,Mr=Ut.sanitizeDataForNewSchema(rr,hr,Ue);Mr&&rr&&(Mr=Ut.getDefaultFormState(rr,Mr,"excludeObjectChildren")),Et(Mr,void 0,S.getFieldId()),S.setState({selectedOption:$t})}};var k=S.props,J=k.formData,le=k.options,me=k.registry.schemaUtils,de=le.map(function(Be){return me.retrieveSchema(Be,J)});return S.state={retrievedOptions:de,selectedOption:S.getMatchingOption(0,J,de)},S}var d=c.prototype;return d.componentDidUpdate=function(S,k){var J=this.props,le=J.formData,me=J.options,de=J.idSchema,Be=this.state.selectedOption,ze=this.state;if(!(0,at.qt)(S.options,me)){var et=this.props.registry.schemaUtils,we=me.map(function(Dt){return et.retrieveSchema(Dt,le)});ze={selectedOption:Be,retrievedOptions:we}}if(!(0,at.qt)(le,S.formData)&&de.$id===S.idSchema.$id){var Ye=ze,Ue=Ye.retrievedOptions,Et=this.getMatchingOption(Be,le,Ue);k&&Et!==Be&&(ze={selectedOption:Et,retrievedOptions:Ue})}ze!==this.state&&this.setState(ze)},d.getMatchingOption=function(S,k,J){var le=this.props,me=le.schema,de=le.registry.schemaUtils,Be,ze=(0,Zi.Z)(me,"discriminator.propertyName",void 0);(0,Gs.Z)(ze)?Be=ze:ze!==void 0&&console.warn('Expecting discriminator to be a string, got "'+typeof ze+'" instead');var et=de.getClosestMatchingOption(k,J,S,Be);return et>0?et:S||0},d.getFieldId=function(){var S=this.props,k=S.idSchema,J=S.schema;return""+k.$id+(J.oneOf?"__oneof_select":"__anyof_select")},d.render=function(){var S=this.props,k=S.name,J=S.baseType,le=S.disabled,me=le===void 0?!1:le,de=S.errorSchema,Be=de===void 0?{}:de,ze=S.formContext,et=S.onBlur,we=S.onFocus,Ye=S.registry,Ue=S.schema,Et=S.uiSchema,Dt=Ye.widgets,Ut=Ye.fields,$t=Ye.translateString,rr=Ye.globalUiOptions,hr=Ye.schemaUtils,Mr=Ut.SchemaField,br=this.state,ur=br.selectedOption,Jr=br.retrievedOptions,pn=(0,at.LI)(Et,rr),$r=pn.widget,on=$r===void 0?"select":$r,Ln=pn.placeholder,Wn=pn.autofocus,Rn=pn.autocomplete,ti=pn.title,ki=ti===void 0?Ue.title:ti,ri=Ao(pn,Ot),ni=(0,at.us)({type:"number"},on,Dt),ui=(0,Zi.Z)(Be,at.M9,[]),Ki=(0,jo.Z)(Be,[at.M9]),_o=hr.getDisplayLabel(Ue,Et,rr),Qi=ur>=0&&Jr[ur]||null,ps;Qi&&(ps=Qi.type?Qi:Object.assign({},Qi,{type:J}));var Vs=ki?at.g8.TitleOptionPrefix:at.g8.OptionPrefix,Do=ki?[ki]:[],Mi=Jr.map(function(ii,es){return{label:ii.title||$t(Vs,Do.concat(String(es+1))),value:es}});return(0,bt.jsxs)("div",{className:"panel panel-default panel-body",children:[(0,bt.jsx)("div",{className:"form-group",children:(0,bt.jsx)(ni,{id:this.getFieldId(),name:""+k+(Ue.oneOf?"__oneof_select":"__anyof_select"),schema:{type:"number",default:0},onChange:this.onOptionChange,onBlur:et,onFocus:we,disabled:me||(0,Li.Z)(Mi),multiple:!1,rawErrors:ui,errorSchema:Ki,value:ur>=0?ur:void 0,options:Vr({enumOptions:Mi},ri),registry:Ye,formContext:ze,placeholder:Ln,autocomplete:Rn,autofocus:Wn,label:ki!=null?ki:k,hideLabel:!_o})}),Qi!==null&&(0,bt.jsx)(Mr,Vr({},this.props,{schema:ps}))]})},c}($.Component),a=/\.([0-9]*0)*$/,e=/[0.]0*$/;function t(i){var c=i.registry,d=i.onChange,E=i.formData,S=i.value,k=(0,$.useState)(S),J=k[0],le=k[1],me=c.fields.StringField,de=E,Be=(0,$.useCallback)(function(et){le(et),(""+et).charAt(0)==="."&&(et="0"+et);var we=typeof et=="string"&&et.match(a)?(0,at.mH)(et.replace(e,"")):(0,at.mH)(et);d(we)},[d]);if(typeof J=="string"&&typeof de=="number"){var ze=new RegExp((""+de).replace(".","\\.")+"\\.?0*$");J.match(ze)&&(de=J)}return(0,bt.jsx)(me,Vr({},i,{formData:de,onChange:Be}))}var r=function(i){da(c,i);function c(){for(var E,S=arguments.length,k=new Array(S),J=0;J<S;J++)k[J]=arguments[J];return E=i.call.apply(i,[this].concat(k))||this,E.state={wasPropertyKeyModified:!1,additionalProperties:{}},E.onPropertyChange=function(le,me){return me===void 0&&(me=!1),function(de,Be,ze){var et,we,Ye=E.props,Ue=Ye.formData,Et=Ye.onChange,Dt=Ye.errorSchema;de===void 0&&me&&(de="");var Ut=Vr({},Ue,(et={},et[le]=de,et));Et(Ut,Dt&&Dt&&Vr({},Dt,(we={},we[le]=Be,we)),ze)}},E.onDropPropertyClick=function(le){return function(me){me.preventDefault();var de=E.props,Be=de.onChange,ze=de.formData,et=Vr({},ze);La(et,le),Be(et)}},E.getAvailableKey=function(le,me){for(var de=E.props,Be=de.uiSchema,ze=de.registry,et=(0,at.LI)(Be,ze.globalUiOptions),we=et.duplicateKeySuffixSeparator,Ye=we===void 0?"-":we,Ue=0,Et=le;(0,Na.Z)(me,Et);)Et=""+le+Ye+ ++Ue;return Et},E.onKeyChange=function(le){return function(me,de){var Be,ze;if(le!==me){var et=E.props,we=et.formData,Ye=et.onChange,Ue=et.errorSchema;me=E.getAvailableKey(me,we);var Et=Vr({},we),Dt=(Be={},Be[le]=me,Be),Ut=Object.keys(Et).map(function(rr){var hr,Mr=Dt[rr]||rr;return hr={},hr[Mr]=Et[rr],hr}),$t=Object.assign.apply(Object,[{}].concat(Ut));E.setState({wasPropertyKeyModified:!0}),Ye($t,Ue&&Ue&&Vr({},Ue,(ze={},ze[me]=de,ze)))}}},E.handleAddClick=function(le){return function(){if(le.additionalProperties){var me=E.props,de=me.formData,Be=me.onChange,ze=me.registry,et=Vr({},de),we=void 0;if((0,zo.Z)(le.additionalProperties)){we=le.additionalProperties.type;var Ye=le.additionalProperties;if(at.Sr in Ye){var Ue=ze.schemaUtils;Ye=Ue.retrieveSchema({$ref:Ye[at.Sr]},de),we=Ye.type}!we&&(at.F8 in Ye||at.If in Ye)&&(we="object")}var Et=E.getAvailableKey("newKey",et);(0,ks.Z)(et,Et,E.getDefaultValue(we)),Be(et)}}},E}var d=c.prototype;return d.isRequired=function(S){var k=this.props.schema;return Array.isArray(k.required)&&k.required.indexOf(S)!==-1},d.getDefaultValue=function(S){var k=this.props.registry.translateString;switch(S){case"array":return[];case"boolean":return!1;case"null":return null;case"number":return 0;case"object":return{};case"string":default:return k(at.g8.NewStringDefault)}},d.render=function(){var S,k,J,le=this,me=this.props,de=me.schema,Be=me.uiSchema,ze=Be===void 0?{}:Be,et=me.formData,we=me.errorSchema,Ye=me.idSchema,Ue=me.name,Et=me.required,Dt=Et===void 0?!1:Et,Ut=me.disabled,$t=Ut===void 0?!1:Ut,rr=me.readonly,hr=rr===void 0?!1:rr,Mr=me.hideError,br=me.idPrefix,ur=me.idSeparator,Jr=me.onBlur,pn=me.onFocus,$r=me.registry,on=$r.fields,Ln=$r.formContext,Wn=$r.schemaUtils,Rn=$r.translateString,ti=$r.globalUiOptions,ki=on.SchemaField,ri=Wn.retrieveSchema(de,et),ni=(0,at.LI)(ze,ti),ui=ri.properties,Ki=ui===void 0?{}:ui,_o=(S=(k=ni.title)!=null?k:ri.title)!=null?S:Ue,Qi=(J=ni.description)!=null?J:ri.description,ps;try{var Vs=Object.keys(Ki);ps=(0,at.$2)(Vs,ni.order)}catch(ii){return(0,bt.jsxs)("div",{children:[(0,bt.jsx)("p",{className:"config-error",style:{color:"red"},children:(0,bt.jsx)(hs,{children:Rn(at.g8.InvalidObjectField,[Ue||"root",ii.message])})}),(0,bt.jsx)("pre",{children:JSON.stringify(ri)})]})}var Do=(0,at.t4)("ObjectFieldTemplate",$r,ni),Mi={title:ni.label===!1?"":_o,description:ni.label===!1?void 0:Qi,properties:ps.map(function(ii){var es=(0,Na.Z)(ri,[at.MA,ii,at.jk]),Qa=es?ze.additionalProperties:ze[ii],cl=(0,at.LI)(Qa).widget==="hidden",pl=(0,Zi.Z)(Ye,[ii],{});return{content:(0,bt.jsx)(ki,{name:ii,required:le.isRequired(ii),schema:(0,Zi.Z)(ri,[at.MA,ii],{}),uiSchema:Qa,errorSchema:(0,Zi.Z)(we,ii),idSchema:pl,idPrefix:br,idSeparator:ur,formData:(0,Zi.Z)(et,ii),formContext:Ln,wasPropertyKeyModified:le.state.wasPropertyKeyModified,onKeyChange:le.onKeyChange(ii),onChange:le.onPropertyChange(ii,es),onBlur:Jr,onFocus:pn,registry:$r,disabled:$t,readonly:hr,hideError:Mr,onDropPropertyClick:le.onDropPropertyClick},ii),name:ii,readonly:hr,disabled:$t,required:Dt,hidden:cl}}),readonly:hr,disabled:$t,required:Dt,idSchema:Ye,uiSchema:ze,errorSchema:we,schema:ri,formData:et,formContext:Ln,registry:$r};return(0,bt.jsx)(Do,Vr({},Mi,{onAddClick:this.handleAddClick}))},c}($.Component),l=["__errors"],v={array:"ArrayField",boolean:"BooleanField",integer:"NumberField",number:"NumberField",object:"ObjectField",string:"StringField",null:"NullField"};function A(i,c,d,E){var S=c.field,k=E.fields,J=E.translateString;if(typeof S=="function")return S;if(typeof S=="string"&&S in k)return k[S];var le=(0,at.f_)(i),me=Array.isArray(le)?le[0]:le||"",de=v[me];return!de&&(i.anyOf||i.oneOf)?function(){return null}:de in k?k[de]:function(){var Be=(0,at.t4)("UnsupportedFieldTemplate",E,c);return(0,bt.jsx)(Be,{schema:i,idSchema:d,reason:J(at.g8.UnknownFieldType,[String(i.type)]),registry:E})}}function B(i){var c=i.schema,d=i.idSchema,E=i.uiSchema,S=i.formData,k=i.errorSchema,J=i.idPrefix,le=i.idSeparator,me=i.name,de=i.onChange,Be=i.onKeyChange,ze=i.onDropPropertyClick,et=i.required,we=i.registry,Ye=i.wasPropertyKeyModified,Ue=Ye===void 0?!1:Ye,Et=we.formContext,Dt=we.schemaUtils,Ut=we.globalUiOptions,$t=(0,at.LI)(E,Ut),rr=(0,at.t4)("FieldTemplate",we,$t),hr=(0,at.t4)("DescriptionFieldTemplate",we,$t),Mr=(0,at.t4)("FieldHelpTemplate",we,$t),br=(0,at.t4)("FieldErrorTemplate",we,$t),ur=Dt.retrieveSchema(c,S),Jr=d[at.BO],pn=(0,at.PM)(Dt.toIdSchema(ur,Jr,S,J,le),d),$r=(0,$.useCallback)(function(tl,Ku,zu){var Hu=zu||Jr;return de(tl,Ku,Hu)},[Jr,de]),on=A(ur,$t,pn,we),Ln=Boolean(i.disabled||$t.disabled),Wn=Boolean(i.readonly||$t.readonly||i.schema.readOnly||ur.readOnly),Rn=$t.hideError,ti=Rn===void 0?i.hideError:Boolean(Rn),ki=Boolean(i.autofocus||$t.autofocus);if(Object.keys(ur).length===0)return null;var ri=Dt.getDisplayLabel(ur,E,Ut),ni=k||{},ui=ni.__errors,Ki=Ao(ni,l),_o=(0,jo.Z)(E,["ui:classNames","classNames","ui:style"]);at.ji in _o&&(_o[at.ji]=(0,jo.Z)(_o[at.ji],["classNames","style"]));var Qi=(0,bt.jsx)(on,Vr({},i,{onChange:$r,idSchema:pn,schema:ur,uiSchema:_o,disabled:Ln,readonly:Wn,hideError:ti,autofocus:ki,errorSchema:Ki,formContext:Et,rawErrors:ui})),ps=pn[at.BO],Vs;Ue?Vs=me:Vs=at.jk in ur?me:$t.title||i.schema.title||ur.title||me;var Do=$t.description||i.schema.description||ur.description||"",Mi=$t.help,ii=$t.widget==="hidden",es=["form-group","field","field-"+(0,at.f_)(ur)];!ti&&ui&&ui.length>0&&es.push("field-error has-error has-danger"),E!=null&&E.classNames&&es.push(E.classNames),$t.classNames&&es.push($t.classNames);var Qa=(0,bt.jsx)(Mr,{help:Mi,idSchema:pn,schema:ur,uiSchema:E,hasErrors:!ti&&ui&&ui.length>0,registry:we}),cl=ti?void 0:(0,bt.jsx)(br,{errors:ui,errorSchema:k,idSchema:pn,schema:ur,uiSchema:E,registry:we}),pl={description:(0,bt.jsx)(hr,{id:(0,at.Si)(ps),description:Do,schema:ur,uiSchema:E,registry:we}),rawDescription:Do,help:Qa,rawHelp:typeof Mi=="string"?Mi:void 0,errors:cl,rawErrors:ti?void 0:ui,id:ps,label:Vs,hidden:ii,onChange:de,onKeyChange:Be,onDropPropertyClick:ze,required:et,disabled:Ln,readonly:Wn,hideError:ti,displayLabel:ri,classNames:es.join(" ").trim(),style:$t.style,formContext:Et,formData:S,schema:ur,uiSchema:E,registry:we},Rl=we.fields.AnyOfField,Fl=we.fields.OneOfField,El=(E==null?void 0:E["ui:field"])&&(E==null?void 0:E["ui:fieldReplacesAnyOrOneOf"])===!0;return(0,bt.jsx)(rr,Vr({},pl,{children:(0,bt.jsxs)(bt.Fragment,{children:[Qi,ur.anyOf&&!El&&!Dt.isSelect(ur)&&(0,bt.jsx)(Rl,{name:me,disabled:Ln,readonly:Wn,hideError:ti,errorSchema:k,formData:S,formContext:Et,idPrefix:J,idSchema:pn,idSeparator:le,onBlur:i.onBlur,onChange:i.onChange,onFocus:i.onFocus,options:ur.anyOf.map(function(tl){return Dt.retrieveSchema((0,zo.Z)(tl)?tl:{},S)}),baseType:ur.type,registry:we,schema:ur,uiSchema:E}),ur.oneOf&&!El&&!Dt.isSelect(ur)&&(0,bt.jsx)(Fl,{name:me,disabled:Ln,readonly:Wn,hideError:ti,errorSchema:k,formData:S,formContext:Et,idPrefix:J,idSchema:pn,idSeparator:le,onBlur:i.onBlur,onChange:i.onChange,onFocus:i.onFocus,options:ur.oneOf.map(function(tl){return Dt.retrieveSchema((0,zo.Z)(tl)?tl:{},S)}),baseType:ur.type,registry:we,schema:ur,uiSchema:E})]})}))}var Y=function(i){da(c,i);function c(){return i.apply(this,arguments)||this}var d=c.prototype;return d.shouldComponentUpdate=function(S){return!(0,at.qt)(this.props,S)},d.render=function(){return(0,bt.jsx)(B,Vr({},this.props))},c}($.Component),pe=["widget","placeholder","title"];function he(i){var c,d=i.schema,E=i.name,S=i.uiSchema,k=i.idSchema,J=i.formData,le=i.required,me=i.disabled,de=me===void 0?!1:me,Be=i.readonly,ze=Be===void 0?!1:Be,et=i.autofocus,we=et===void 0?!1:et,Ye=i.onChange,Ue=i.onBlur,Et=i.onFocus,Dt=i.registry,Ut=i.rawErrors,$t=d.title,rr=d.format,hr=Dt.widgets,Mr=Dt.formContext,br=Dt.schemaUtils,ur=Dt.globalUiOptions,Jr=br.isSelect(d)?(0,at.pp)(d):void 0,pn=Jr?"select":"text";rr&&(0,at.H7)(d,rr,hr)&&(pn=rr);var $r=(0,at.LI)(S),on=$r.widget,Ln=on===void 0?pn:on,Wn=$r.placeholder,Rn=Wn===void 0?"":Wn,ti=$r.title,ki=Ao($r,pe),ri=br.getDisplayLabel(d,S,ur),ni=(c=ti!=null?ti:$t)!=null?c:E,ui=(0,at.us)(d,Ln,hr);return(0,bt.jsx)(ui,{options:Vr({},ki,{enumOptions:Jr}),schema:d,uiSchema:S,id:k.$id,name:E,label:ni,hideLabel:!ri,value:J,onChange:Ye,onBlur:Ue,onFocus:Et,required:le,disabled:de,readonly:ze,formContext:Mr,autofocus:we,registry:Dt,placeholder:Rn,rawErrors:Ut})}function ke(i){var c=i.formData,d=i.onChange;return(0,$.useEffect)(function(){c===void 0&&d(null)},[c,d]),null}function it(){return{AnyOfField:xt,ArrayField:qe,BooleanField:ft,NumberField:t,ObjectField:r,OneOfField:xt,SchemaField:Y,StringField:he,NullField:ke}}function pt(i){var c=i.idSchema,d=i.description,E=i.registry,S=i.schema,k=i.uiSchema,J=(0,at.LI)(k,E.globalUiOptions),le=J.label,me=le===void 0?!0:le;if(!d||!me)return null;var de=(0,at.t4)("DescriptionFieldTemplate",E,J);return(0,bt.jsx)(de,{id:(0,at.Si)(c),description:d,schema:S,uiSchema:k,registry:E})}function kt(i){var c=i.children,d=i.className,E=i.disabled,S=i.hasToolbar,k=i.hasMoveDown,J=i.hasMoveUp,le=i.hasRemove,me=i.hasCopy,de=i.index,Be=i.onCopyIndexClick,ze=i.onDropIndexClick,et=i.onReorderClick,we=i.readonly,Ye=i.registry,Ue=i.uiSchema,Et=Ye.templates.ButtonTemplates,Dt=Et.CopyButton,Ut=Et.MoveDownButton,$t=Et.MoveUpButton,rr=Et.RemoveButton,hr={flex:1,paddingLeft:6,paddingRight:6,fontWeight:"bold"};return(0,bt.jsxs)("div",{className:d,children:[(0,bt.jsx)("div",{className:S?"col-xs-9":"col-xs-12",children:c}),S&&(0,bt.jsx)("div",{className:"col-xs-3 array-item-toolbox",children:(0,bt.jsxs)("div",{className:"btn-group",style:{display:"flex",justifyContent:"space-around"},children:[(J||k)&&(0,bt.jsx)($t,{style:hr,disabled:E||we||!J,onClick:et(de,de-1),uiSchema:Ue,registry:Ye}),(J||k)&&(0,bt.jsx)(Ut,{style:hr,disabled:E||we||!k,onClick:et(de,de+1),uiSchema:Ue,registry:Ye}),me&&(0,bt.jsx)(Dt,{style:hr,disabled:E||we,onClick:Be(de),uiSchema:Ue,registry:Ye}),le&&(0,bt.jsx)(rr,{style:hr,disabled:E||we,onClick:ze(de),uiSchema:Ue,registry:Ye})]})})]})}var Jt=["key"];function Rt(i){var c=i.canAdd,d=i.className,E=i.disabled,S=i.idSchema,k=i.uiSchema,J=i.items,le=i.onAddClick,me=i.readonly,de=i.registry,Be=i.required,ze=i.schema,et=i.title,we=(0,at.LI)(k),Ye=(0,at.t4)("ArrayFieldDescriptionTemplate",de,we),Ue=(0,at.t4)("ArrayFieldItemTemplate",de,we),Et=(0,at.t4)("ArrayFieldTitleTemplate",de,we),Dt=de.templates.ButtonTemplates.AddButton;return(0,bt.jsxs)("fieldset",{className:d,id:S.$id,children:[(0,bt.jsx)(Et,{idSchema:S,title:we.title||et,required:Be,schema:ze,uiSchema:k,registry:de}),(0,bt.jsx)(Ye,{idSchema:S,description:we.description||ze.description,schema:ze,uiSchema:k,registry:de}),(0,bt.jsx)("div",{className:"row array-item-list",children:J&&J.map(function(Ut){var $t=Ut.key,rr=Ao(Ut,Jt);return(0,bt.jsx)(Ue,Vr({},rr),$t)})}),c&&(0,bt.jsx)(Dt,{className:"array-item-add",onClick:le,disabled:E||me,uiSchema:k,registry:de})]})}function sr(i){var c=i.idSchema,d=i.title,E=i.schema,S=i.uiSchema,k=i.required,J=i.registry,le=(0,at.LI)(S,J.globalUiOptions),me=le.label,de=me===void 0?!0:me;if(!d||!de)return null;var Be=(0,at.t4)("TitleFieldTemplate",J,le);return(0,bt.jsx)(Be,{id:(0,at.Vt)(c),title:d,required:k,schema:E,uiSchema:S,registry:J})}var er=["id","name","value","readonly","disabled","autofocus","onBlur","onFocus","onChange","onChangeOverride","options","schema","uiSchema","formContext","registry","rawErrors","type","hideLabel","hideError"];function hn(i){var c=i.id,d=i.value,E=i.readonly,S=i.disabled,k=i.autofocus,J=i.onBlur,le=i.onFocus,me=i.onChange,de=i.onChangeOverride,Be=i.options,ze=i.schema,et=i.type,we=Ao(i,er);if(!c)throw console.log("No id for",i),new Error("no id for props "+JSON.stringify(i));var Ye=Vr({},we,(0,at.TC)(ze,et,Be)),Ue;Ye.type==="number"||Ye.type==="integer"?Ue=d||d===0?d:"":Ue=d==null?"":d;var Et=(0,$.useCallback)(function($t){var rr=$t.target.value;return me(rr===""?Be.emptyValue:rr)},[me,Be]),Dt=(0,$.useCallback)(function($t){var rr=$t.target.value;return J(c,rr)},[J,c]),Ut=(0,$.useCallback)(function($t){var rr=$t.target.value;return le(c,rr)},[le,c]);return(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)("input",Vr({id:c,name:c,className:"form-control",readOnly:E,disabled:S,autoFocus:k,value:Ue},Ye,{list:ze.examples?(0,at.RS)(c):void 0,onChange:de||Et,onBlur:Dt,onFocus:Ut,"aria-describedby":(0,at.Jx)(c,!!ze.examples)})),Array.isArray(ze.examples)&&(0,bt.jsx)("datalist",{id:(0,at.RS)(c),children:ze.examples.concat(ze.default&&!ze.examples.includes(ze.default)?[ze.default]:[]).map(function($t){return(0,bt.jsx)("option",{value:$t},$t)})},"datalist_"+c)]})}function Dr(i){var c=i.uiSchema,d=(0,at.rF)(c),E=d.submitText,S=d.norender,k=d.props,J=k===void 0?{}:k;return S?null:(0,bt.jsx)("div",{children:(0,bt.jsx)("button",Vr({type:"submit"},J,{className:"btn btn-info "+(J.className||""),children:E}))})}var nn=["iconType","icon","className","uiSchema","registry"];function qr(i){var c=i.iconType,d=c===void 0?"default":c,E=i.icon,S=i.className,k=Ao(i,nn);return(0,bt.jsx)("button",Vr({type:"button",className:"btn btn-"+d+" "+S},k,{children:(0,bt.jsx)("i",{className:"glyphicon glyphicon-"+E})}))}function hi(i){var c=i.registry.translateString;return(0,bt.jsx)(qr,Vr({title:c(at.g8.CopyButton),className:"array-item-copy"},i,{icon:"copy"}))}function ro(i){var c=i.registry.translateString;return(0,bt.jsx)(qr,Vr({title:c(at.g8.MoveDownButton),className:"array-item-move-down"},i,{icon:"arrow-down"}))}function ho(i){var c=i.registry.translateString;return(0,bt.jsx)(qr,Vr({title:c(at.g8.MoveUpButton),className:"array-item-move-up"},i,{icon:"arrow-up"}))}function Cs(i){var c=i.registry.translateString;return(0,bt.jsx)(qr,Vr({title:c(at.g8.RemoveButton),className:"array-item-remove"},i,{iconType:"danger",icon:"remove"}))}function ia(i){var c=i.className,d=i.onClick,E=i.disabled,S=i.registry,k=S.translateString;return(0,bt.jsx)("div",{className:"row",children:(0,bt.jsx)("p",{className:"col-xs-3 col-xs-offset-9 text-right "+c,children:(0,bt.jsx)(qr,{iconType:"info",icon:"plus",className:"btn-add col-xs-12",title:k(at.g8.AddButton),onClick:d,disabled:E,registry:S})})})}function Zs(){return{SubmitButton:Dr,AddButton:ia,CopyButton:hi,MoveDownButton:ro,MoveUpButton:ho,RemoveButton:Cs}}function Za(i){var c=i.id,d=i.description;return d?typeof d=="string"?(0,bt.jsx)("p",{id:c,className:"field-description",children:d}):(0,bt.jsx)("div",{id:c,className:"field-description",children:d}):null}function Us(i){var c=i.errors,d=i.registry,E=d.translateString;return(0,bt.jsxs)("div",{className:"panel panel-danger errors",children:[(0,bt.jsx)("div",{className:"panel-heading",children:(0,bt.jsx)("h3",{className:"panel-title",children:E(at.g8.ErrorsLabel)})}),(0,bt.jsx)("ul",{className:"list-group",children:c.map(function(S,k){return(0,bt.jsx)("li",{className:"list-group-item text-danger",children:S.stack},k)})})]})}var oa="*";function sa(i){var c=i.label,d=i.required,E=i.id;return c?(0,bt.jsxs)("label",{className:"control-label",htmlFor:E,children:[c,d&&(0,bt.jsx)("span",{className:"required",children:oa})]}):null}function xa(i){var c=i.id,d=i.label,E=i.children,S=i.errors,k=i.help,J=i.description,le=i.hidden,me=i.required,de=i.displayLabel,Be=i.registry,ze=i.uiSchema,et=(0,at.LI)(ze),we=(0,at.t4)("WrapIfAdditionalTemplate",Be,et);return le?(0,bt.jsx)("div",{className:"hidden",children:E}):(0,bt.jsxs)(we,Vr({},i,{children:[de&&(0,bt.jsx)(sa,{label:d,required:me,id:c}),de&&J?J:null,E,S,k]}))}function Ua(i){var c=i.errors,d=c===void 0?[]:c,E=i.idSchema;if(d.length===0)return null;var S=(0,at.UR)(E);return(0,bt.jsx)("div",{children:(0,bt.jsx)("ul",{id:S,className:"error-detail bs-callout bs-callout-info",children:d.filter(function(k){return!!k}).map(function(k,J){return(0,bt.jsx)("li",{className:"text-danger",children:k},J)})})})}function Ca(i){var c=i.idSchema,d=i.help;if(!d)return null;var E=(0,at.JL)(c);return typeof d=="string"?(0,bt.jsx)("p",{id:E,className:"help-block",children:d}):(0,bt.jsx)("div",{id:E,className:"help-block",children:d})}function ha(i){var c=i.description,d=i.disabled,E=i.formData,S=i.idSchema,k=i.onAddClick,J=i.properties,le=i.readonly,me=i.registry,de=i.required,Be=i.schema,ze=i.title,et=i.uiSchema,we=(0,at.LI)(et),Ye=(0,at.t4)("TitleFieldTemplate",me,we),Ue=(0,at.t4)("DescriptionFieldTemplate",me,we),Et=me.templates.ButtonTemplates.AddButton;return(0,bt.jsxs)("fieldset",{id:S.$id,children:[ze&&(0,bt.jsx)(Ye,{id:(0,at.Vt)(S),title:ze,required:de,schema:Be,uiSchema:et,registry:me}),c&&(0,bt.jsx)(Ue,{id:(0,at.Si)(S),description:c,schema:Be,uiSchema:et,registry:me}),J.map(function(Dt){return Dt.content}),(0,at.Rc)(Be,et,E)&&(0,bt.jsx)(Et,{className:"object-property-expand",onClick:k(Be),disabled:d||le,uiSchema:et,registry:me})]})}var wl="*";function Ol(i){var c=i.id,d=i.title,E=i.required;return(0,bt.jsxs)("legend",{id:c,children:[d,E&&(0,bt.jsx)("span",{className:"required",children:wl})]})}function xl(i){var c=i.schema,d=i.idSchema,E=i.reason,S=i.registry,k=S.translateString,J=at.g8.UnsupportedField,le=[];return d&&d.$id&&(J=at.g8.UnsupportedFieldWithId,le.push(d.$id)),E&&(J=J===at.g8.UnsupportedField?at.g8.UnsupportedFieldWithReason:at.g8.UnsupportedFieldWithIdAndReason,le.push(E)),(0,bt.jsxs)("div",{className:"unsupported-field",children:[(0,bt.jsx)("p",{children:(0,bt.jsx)(hs,{children:k(J,le)})}),c&&(0,bt.jsx)("pre",{children:JSON.stringify(c,null,2)})]})}function Cl(i){var c=i.id,d=i.classNames,E=i.style,S=i.disabled,k=i.label,J=i.onKeyChange,le=i.onDropPropertyClick,me=i.readonly,de=i.required,Be=i.schema,ze=i.children,et=i.uiSchema,we=i.registry,Ye=we.templates,Ue=we.translateString,Et=Ye.ButtonTemplates.RemoveButton,Dt=Ue(at.g8.KeyLabel,[k]),Ut=at.jk in Be;return Ut?(0,bt.jsx)("div",{className:d,style:E,children:(0,bt.jsxs)("div",{className:"row",children:[(0,bt.jsx)("div",{className:"col-xs-5 form-additional",children:(0,bt.jsxs)("div",{className:"form-group",children:[(0,bt.jsx)(sa,{label:Dt,required:de,id:c+"-key"}),(0,bt.jsx)("input",{className:"form-control",type:"text",id:c+"-key",onBlur:function(rr){return J(rr.target.value)},defaultValue:k})]})}),(0,bt.jsx)("div",{className:"form-additional form-group col-xs-5",children:ze}),(0,bt.jsx)("div",{className:"col-xs-2",children:(0,bt.jsx)(Et,{className:"array-item-remove btn-block",style:{border:"0"},disabled:S||me,onClick:le(k),uiSchema:et,registry:we})})]})}):(0,bt.jsx)("div",{className:d,style:E,children:ze})}function Al(){return{ArrayFieldDescriptionTemplate:pt,ArrayFieldItemTemplate:kt,ArrayFieldTemplate:Rt,ArrayFieldTitleTemplate:sr,ButtonTemplates:Zs(),BaseInputTemplate:hn,DescriptionFieldTemplate:Za,ErrorListTemplate:Us,FieldTemplate:xa,FieldErrorTemplate:Ua,FieldHelpTemplate:Ca,ObjectFieldTemplate:ha,TitleFieldTemplate:Ol,UnsupportedFieldTemplate:xl,WrapIfAdditionalTemplate:Cl}}function yl(i,c){for(var d=[],E=i;E<=c;E++)d.push({value:E,label:(0,at.vk)(E,2)});return d}function Pl(i){return Object.values(i).every(function(c){return c!==-1})}function Tl(i,c,d){d===void 0&&(d=[1900,new Date().getFullYear()+2]);var E=i.year,S=i.month,k=i.day,J=i.hour,le=i.minute,me=i.second,de=[{type:"year",range:d,value:E},{type:"month",range:[1,12],value:S},{type:"day",range:[1,31],value:k}];return c&&de.push({type:"hour",range:[0,23],value:J},{type:"minute",range:[0,59],value:le},{type:"second",range:[0,59],value:me}),de}function _l(i){var c=i.type,d=i.range,E=i.value,S=i.select,k=i.rootId,J=i.name,le=i.disabled,me=i.readonly,de=i.autofocus,Be=i.registry,ze=i.onBlur,et=i.onFocus,we=k+"_"+c,Ye=Be.widgets.SelectWidget;return(0,bt.jsx)(Ye,{schema:{type:"integer"},id:we,name:J,className:"form-control",options:{enumOptions:yl(d[0],d[1])},placeholder:c,value:E,disabled:le,readonly:me,autofocus:de,onChange:function(Et){return S(c,Et)},onBlur:ze,onFocus:et,registry:Be,label:"","aria-describedby":(0,at.Jx)(k)})}function vl(i){var c=i.time,d=c===void 0?!1:c,E=i.disabled,S=E===void 0?!1:E,k=i.readonly,J=k===void 0?!1:k,le=i.autofocus,me=le===void 0?!1:le,de=i.options,Be=i.id,ze=i.name,et=i.registry,we=i.onBlur,Ye=i.onFocus,Ue=i.onChange,Et=i.value,Dt=et.translateString,Ut=(0,$.useState)(Et),$t=Ut[0],rr=Ut[1],hr=(0,$.useReducer)(function($r,on){return Vr({},$r,on)},(0,at.xk)(Et,d)),Mr=hr[0],br=hr[1];(0,$.useEffect)(function(){var $r=(0,at.tC)(Mr,d);Pl(Mr)&&$r!==Et?Ue($r):$t!==Et&&(rr(Et),br((0,at.xk)(Et,d)))},[d,Et,Ue,Mr,$t]);var ur=(0,$.useCallback)(function($r,on){var Ln;br((Ln={},Ln[$r]=on,Ln))},[]),Jr=(0,$.useCallback)(function($r){if($r.preventDefault(),!(S||J)){var on=(0,at.xk)(new Date().toJSON(),d);Ue((0,at.tC)(on,d))}},[S,J,d]),pn=(0,$.useCallback)(function($r){$r.preventDefault(),!(S||J)&&Ue(void 0)},[S,J,Ue]);return(0,bt.jsxs)("ul",{className:"list-inline",children:[Tl(Mr,d,de.yearsRange).map(function($r,on){return(0,bt.jsx)("li",{className:"list-inline-item",children:(0,bt.jsx)(_l,Vr({rootId:Be,name:ze,select:ur},$r,{disabled:S,readonly:J,registry:et,onBlur:we,onFocus:Ye,autofocus:me&&on===0}))},on)}),(de.hideNowButton!=="undefined"?!de.hideNowButton:!0)&&(0,bt.jsx)("li",{className:"list-inline-item",children:(0,bt.jsx)("a",{href:"#",className:"btn btn-info btn-now",onClick:Jr,children:Dt(at.g8.NowLabel)})}),(de.hideClearButton!=="undefined"?!de.hideClearButton:!0)&&(0,bt.jsx)("li",{className:"list-inline-item",children:(0,bt.jsx)("a",{href:"#",className:"btn btn-warning btn-clear",onClick:pn,children:Dt(at.g8.ClearLabel)})})]})}var Dl=["time"];function f(i){var c=i.time,d=c===void 0?!0:c,E=Ao(i,Dl),S=E.registry.widgets.AltDateWidget;return(0,bt.jsx)(S,Vr({time:d},E))}function n(i){var c,d=i.schema,E=i.uiSchema,S=i.options,k=i.id,J=i.value,le=i.disabled,me=i.readonly,de=i.label,Be=i.hideLabel,ze=i.autofocus,et=ze===void 0?!1:ze,we=i.onBlur,Ye=i.onFocus,Ue=i.onChange,Et=i.registry,Dt=(0,at.t4)("DescriptionFieldTemplate",Et,S),Ut=(0,at.iE)(d),$t=(0,$.useCallback)(function(br){return Ue(br.target.checked)},[Ue]),rr=(0,$.useCallback)(function(br){return we(k,br.target.checked)},[we,k]),hr=(0,$.useCallback)(function(br){return Ye(k,br.target.checked)},[Ye,k]),Mr=(c=S.description)!=null?c:d.description;return(0,bt.jsxs)("div",{className:"checkbox "+(le||me?"disabled":""),children:[!Be&&!!Mr&&(0,bt.jsx)(Dt,{id:(0,at.Si)(k),description:Mr,schema:d,uiSchema:E,registry:Et}),(0,bt.jsxs)("label",{children:[(0,bt.jsx)("input",{type:"checkbox",id:k,name:k,checked:typeof J=="undefined"?!1:J,required:Ut,disabled:le||me,autoFocus:et,onChange:$t,onBlur:rr,onFocus:hr,"aria-describedby":(0,at.Jx)(k)}),(0,at.RY)((0,bt.jsx)("span",{children:de}),Be)]})]})}function m(i){var c=i.id,d=i.disabled,E=i.options,S=E.inline,k=S===void 0?!1:S,J=E.enumOptions,le=E.enumDisabled,me=E.emptyValue,de=i.value,Be=i.autofocus,ze=Be===void 0?!1:Be,et=i.readonly,we=i.onChange,Ye=i.onBlur,Ue=i.onFocus,Et=Array.isArray(de)?de:[de],Dt=(0,$.useCallback)(function($t){var rr=$t.target.value;return Ye(c,(0,at.QP)(rr,J,me))},[Ye,c]),Ut=(0,$.useCallback)(function($t){var rr=$t.target.value;return Ue(c,(0,at.QP)(rr,J,me))},[Ue,c]);return(0,bt.jsx)("div",{className:"checkboxes",id:c,children:Array.isArray(J)&&J.map(function($t,rr){var hr=(0,at.TR)($t.value,Et),Mr=Array.isArray(le)&&le.indexOf($t.value)!==-1,br=d||Mr||et?"disabled":"",ur=function($r){$r.target.checked?we((0,at.U3)(rr,Et,J)):we((0,at.aI)(rr,Et,J))},Jr=(0,bt.jsxs)("span",{children:[(0,bt.jsx)("input",{type:"checkbox",id:(0,at.DK)(c,rr),name:c,checked:hr,value:String(rr),disabled:d||Mr||et,autoFocus:ze&&rr===0,onChange:ur,onBlur:Dt,onFocus:Ut,"aria-describedby":(0,at.Jx)(c)}),(0,bt.jsx)("span",{children:$t.label})]});return k?(0,bt.jsx)("label",{className:"checkbox-inline "+br,children:Jr},rr):(0,bt.jsx)("div",{className:"checkbox "+br,children:(0,bt.jsx)("label",{children:Jr})},rr)})})}function b(i){var c=i.disabled,d=i.readonly,E=i.options,S=i.registry,k=(0,at.t4)("BaseInputTemplate",S,E);return(0,bt.jsx)(k,Vr({type:"color"},i,{disabled:c||d}))}function P(i){var c=i.onChange,d=i.options,E=i.registry,S=(0,at.t4)("BaseInputTemplate",E,d),k=(0,$.useCallback)(function(J){return c(J||void 0)},[c]);return(0,bt.jsx)(S,Vr({type:"date"},i,{onChange:k}))}function W(i){var c=i.onChange,d=i.value,E=i.options,S=i.registry,k=(0,at.t4)("BaseInputTemplate",S,E);return(0,bt.jsx)(k,Vr({type:"datetime-local"},i,{value:(0,at.Yp)(d),onChange:function(le){return c((0,at._4)(le))}}))}function ce(i){var c=i.options,d=i.registry,E=(0,at.t4)("BaseInputTemplate",d,c);return(0,bt.jsx)(E,Vr({type:"email"},i))}function Ae(i,c){return i===null?null:i.replace(";base64",";name="+encodeURIComponent(c)+";base64")}function Me(i){var c=i.name,d=i.size,E=i.type;return new Promise(function(S,k){var J=new window.FileReader;J.onerror=k,J.onload=function(le){var me;typeof((me=le.target)===null||me===void 0?void 0:me.result)=="string"?S({dataURL:Ae(le.target.result,c),name:c,size:d,type:E}):S({dataURL:null,name:c,size:d,type:E})},J.readAsDataURL(i)})}function vt(i){return Promise.all(Array.from(i).map(Me))}function At(i){var c=i.fileInfo,d=i.registry,E=d.translateString,S=c.dataURL,k=c.type,J=c.name;return S?k.indexOf("image")!==-1?(0,bt.jsx)("img",{src:S,style:{maxWidth:"100%"},className:"file-preview"}):(0,bt.jsxs)(bt.Fragment,{children:[" ",(0,bt.jsx)("a",{download:"preview-"+J,href:S,className:"file-download",children:E(at.g8.PreviewLabel)})]}):null}function tr(i){var c=i.filesInfo,d=i.registry,E=i.preview;if(c.length===0)return null;var S=d.translateString;return(0,bt.jsx)("ul",{className:"file-info",children:c.map(function(k,J){var le=k.name,me=k.size,de=k.type;return(0,bt.jsxs)("li",{children:[(0,bt.jsx)(hs,{children:S(at.g8.FilesInfo,[le,de,String(me)])}),E&&(0,bt.jsx)(At,{fileInfo:k,registry:d})]},J)})})}function Gr(i){return i.filter(function(c){return c}).map(function(c){var d=(0,at.OP)(c),E=d.blob,S=d.name;return{dataURL:c,name:S,size:E.size,type:E.type}})}function Nn(i){var c=i.disabled,d=i.readonly,E=i.required,S=i.multiple,k=i.onChange,J=i.value,le=i.options,me=i.registry,de=(0,at.t4)("BaseInputTemplate",me,le),Be=(0,$.useMemo)(function(){return Array.isArray(J)?Gr(J):Gr([J])},[J]),ze=(0,$.useState)(Be),et=ze[0],we=ze[1],Ye=(0,$.useCallback)(function(Ue){Ue.target.files&&vt(Ue.target.files).then(function(Et){we(Et);var Dt=Et.map(function(Ut){return Ut.dataURL});k(S?Dt:Dt[0])})},[S,k]);return(0,bt.jsxs)("div",{children:[(0,bt.jsx)(de,Vr({},i,{disabled:c||d,type:"file",required:J?!1:E,onChangeOverride:Ye,value:"",accept:le.accept?String(le.accept):void 0})),(0,bt.jsx)(tr,{filesInfo:et,registry:me,preview:le.filePreview})]})}function Wi(i){var c=i.id,d=i.value;return(0,bt.jsx)("input",{type:"hidden",id:c,name:c,value:typeof d=="undefined"?"":d})}function aa(i){var c=i.options,d=i.registry,E=(0,at.t4)("BaseInputTemplate",d,c);return(0,bt.jsx)(E,Vr({type:"password"},i))}function nl(i){var c=i.options,d=i.value,E=i.required,S=i.disabled,k=i.readonly,J=i.autofocus,le=J===void 0?!1:J,me=i.onBlur,de=i.onFocus,Be=i.onChange,ze=i.id,et=c.enumOptions,we=c.enumDisabled,Ye=c.inline,Ue=c.emptyValue,Et=(0,$.useCallback)(function(Ut){var $t=Ut.target.value;return me(ze,(0,at.QP)($t,et,Ue))},[me,ze]),Dt=(0,$.useCallback)(function(Ut){var $t=Ut.target.value;return de(ze,(0,at.QP)($t,et,Ue))},[de,ze]);return(0,bt.jsx)("div",{className:"field-radio-group",id:ze,children:Array.isArray(et)&&et.map(function(Ut,$t){var rr=(0,at.TR)(Ut.value,d),hr=Array.isArray(we)&&we.indexOf(Ut.value)!==-1,Mr=S||hr||k?"disabled":"",br=function(){return Be(Ut.value)},ur=(0,bt.jsxs)("span",{children:[(0,bt.jsx)("input",{type:"radio",id:(0,at.DK)(ze,$t),checked:rr,name:ze,required:E,value:String($t),disabled:S||hr||k,autoFocus:le&&$t===0,onChange:br,onBlur:Et,onFocus:Dt,"aria-describedby":(0,at.Jx)(ze)}),(0,bt.jsx)("span",{children:Ut.label})]});return Ye?(0,bt.jsx)("label",{className:"radio-inline "+Mr,children:ur},$t):(0,bt.jsx)("div",{className:"radio "+Mr,children:(0,bt.jsx)("label",{children:ur})},$t)})})}function Xa(i){var c=i.value,d=i.registry.templates.BaseInputTemplate;return(0,bt.jsxs)("div",{className:"field-range-wrapper",children:[(0,bt.jsx)(d,Vr({type:"range"},i)),(0,bt.jsx)("span",{className:"range-view",children:c})]})}function Vi(i,c){return c?Array.from(i.target.options).slice().filter(function(d){return d.selected}).map(function(d){return d.value}):i.target.value}function ma(i){var c=i.schema,d=i.id,E=i.options,S=i.value,k=i.required,J=i.disabled,le=i.readonly,me=i.multiple,de=me===void 0?!1:me,Be=i.autofocus,ze=Be===void 0?!1:Be,et=i.onChange,we=i.onBlur,Ye=i.onFocus,Ue=i.placeholder,Et=E.enumOptions,Dt=E.enumDisabled,Ut=E.emptyValue,$t=de?[]:"",rr=(0,$.useCallback)(function(ur){var Jr=Vi(ur,de);return Ye(d,(0,at.QP)(Jr,Et,Ut))},[Ye,d,c,de,E]),hr=(0,$.useCallback)(function(ur){var Jr=Vi(ur,de);return we(d,(0,at.QP)(Jr,Et,Ut))},[we,d,c,de,E]),Mr=(0,$.useCallback)(function(ur){var Jr=Vi(ur,de);return et((0,at.QP)(Jr,Et,Ut))},[et,c,de,E]),br=(0,at.Rt)(S,Et,de);return(0,bt.jsxs)("select",{id:d,name:d,multiple:de,className:"form-control",value:typeof br=="undefined"?$t:br,required:k,disabled:J||le,autoFocus:ze,onBlur:hr,onFocus:rr,onChange:Mr,"aria-describedby":(0,at.Jx)(d),children:[!de&&c.default===void 0&&(0,bt.jsx)("option",{value:"",children:Ue}),Array.isArray(Et)&&Et.map(function(ur,Jr){var pn=ur.value,$r=ur.label,on=Dt&&Dt.indexOf(pn)!==-1;return(0,bt.jsx)("option",{value:String(Jr),disabled:on,children:$r},Jr)})]})}function ms(i){var c=i.id,d=i.options,E=d===void 0?{}:d,S=i.placeholder,k=i.value,J=i.required,le=i.disabled,me=i.readonly,de=i.autofocus,Be=de===void 0?!1:de,ze=i.onChange,et=i.onBlur,we=i.onFocus,Ye=(0,$.useCallback)(function(Dt){var Ut=Dt.target.value;return ze(Ut===""?E.emptyValue:Ut)},[ze,E.emptyValue]),Ue=(0,$.useCallback)(function(Dt){var Ut=Dt.target.value;return et(c,Ut)},[et,c]),Et=(0,$.useCallback)(function(Dt){var Ut=Dt.target.value;return we(c,Ut)},[c,we]);return(0,bt.jsx)("textarea",{id:c,name:c,className:"form-control",value:k||"",placeholder:S,required:J,disabled:le,readOnly:me,autoFocus:Be,rows:E.rows,onBlur:Ue,onFocus:Et,onChange:Ye,"aria-describedby":(0,at.Jx)(c)})}ms.defaultProps={autofocus:!1,options:{}};function Po(i){var c=i.options,d=i.registry,E=(0,at.t4)("BaseInputTemplate",d,c);return(0,bt.jsx)(E,Vr({},i))}function Aa(i){var c=i.onChange,d=i.options,E=i.registry,S=(0,at.t4)("BaseInputTemplate",E,d),k=(0,$.useCallback)(function(J){return c(J?J+":00":void 0)},[c]);return(0,bt.jsx)(S,Vr({type:"time"},i,{onChange:k}))}function Pa(i){var c=i.options,d=i.registry,E=(0,at.t4)("BaseInputTemplate",d,c);return(0,bt.jsx)(E,Vr({type:"url"},i))}function hl(i){var c=i.options,d=i.registry,E=(0,at.t4)("BaseInputTemplate",d,c);return(0,bt.jsx)(E,Vr({type:"number"},i))}function To(){return{AltDateWidget:vl,AltDateTimeWidget:f,CheckboxWidget:n,CheckboxesWidget:m,ColorWidget:b,DateWidget:P,DateTimeWidget:W,EmailWidget:ce,FileWidget:Nn,HiddenWidget:Wi,PasswordWidget:aa,RadioWidget:nl,RangeWidget:Xa,SelectWidget:ma,TextWidget:Po,TextareaWidget:ms,TimeWidget:Aa,UpDownWidget:hl,URLWidget:Pa}}function Va(){return{fields:it(),templates:Al(),widgets:To(),rootSchema:{},formContext:{},translateString:at.XG}}var il=function(i){da(c,i);function c(E){var S;if(S=i.call(this,E)||this,S.formElement=void 0,S.getUsedFormData=function(k,J){if(J.length===0&&typeof k!="object")return k;var le=Vn(k,J);return Array.isArray(k)?Object.keys(le).map(function(me){return le[me]}):le},S.getFieldNames=function(k,J){var le=function me(de,Be,ze){return Be===void 0&&(Be=[]),ze===void 0&&(ze=[[]]),Object.keys(de).forEach(function(et){if(typeof de[et]=="object"){var we=ze.map(function(Ye){return[].concat(Ye,[et])});de[et][at.g$]&&de[et][at.PK]!==""?Be.push(de[et][at.PK]):me(de[et],Be,we)}else et===at.PK&&de[et]!==""&&ze.forEach(function(Ye){var Ue=(0,Zi.Z)(J,Ye);(typeof Ue!="object"||(0,Li.Z)(Ue))&&Be.push(Ye)})}),Be};return le(k)},S.onChange=function(k,J,le){var me=S.props,de=me.extraErrors,Be=me.omitExtraData,ze=me.liveOmit,et=me.noValidate,we=me.liveValidate,Ye=me.onChange,Ue=S.state,Et=Ue.schemaUtils,Dt=Ue.schema;if((0,at.Kn)(k)||Array.isArray(k)){var Ut=S.getStateFromProps(S.props,k);k=Ut.formData}var $t=!et&&we,rr={formData:k,schema:Dt},hr=k;if(Be===!0&&ze===!0){var Mr=Et.retrieveSchema(Dt,k),br=Et.toPathSchema(Mr,"",k),ur=S.getFieldNames(br,k);hr=S.getUsedFormData(k,ur),rr={formData:hr}}if($t){var Jr=S.validate(hr),pn=Jr.errors,$r=Jr.errorSchema,on=pn,Ln=$r;if(de){var Wn=(0,at.J0)(Jr,de);$r=Wn.errorSchema,pn=Wn.errors}rr={formData:hr,errors:pn,errorSchema:$r,schemaValidationErrors:on,schemaValidationErrorSchema:Ln}}else if(!et&&J){var Rn=de?(0,at.PM)(J,de,"preventDuplicates"):J;rr={formData:hr,errorSchema:Rn,errors:(0,at.mp)(Rn)}}S.setState(rr,function(){return Ye&&Ye(Vr({},S.state,rr),le)})},S.reset=function(){var k=S.props.onChange,J=S.getStateFromProps(S.props,void 0),le=J.formData,me={formData:le,errorSchema:{},errors:[],schemaValidationErrors:[],schemaValidationErrorSchema:{}};S.setState(me,function(){return k&&k(Vr({},S.state,me))})},S.onBlur=function(k,J){var le=S.props.onBlur;le&&le(k,J)},S.onFocus=function(k,J){var le=S.props.onFocus;le&&le(k,J)},S.onSubmit=function(k){if(k.preventDefault(),k.target===k.currentTarget){k.persist();var J=S.props,le=J.omitExtraData,me=J.extraErrors,de=J.noValidate,Be=J.onSubmit,ze=S.state.formData,et=S.state,we=et.schema,Ye=et.schemaUtils;if(le===!0){var Ue=Ye.retrieveSchema(we,ze),Et=Ye.toPathSchema(Ue,"",ze),Dt=S.getFieldNames(Et,ze);ze=S.getUsedFormData(ze,Dt)}if(de||S.validateForm()){var Ut=me||{},$t=me?(0,at.mp)(me):[];S.setState({formData:ze,errors:$t,errorSchema:Ut,schemaValidationErrors:[],schemaValidationErrorSchema:{}},function(){Be&&Be(Vr({},S.state,{formData:ze,status:"submitted"}),k)})}}},!E.validator)throw new Error("A validator is required for Form functionality to work");return S.state=S.getStateFromProps(E,E.formData),S.props.onChange&&!(0,at.qt)(S.state.formData,S.props.formData)&&S.props.onChange(S.state),S.formElement=(0,$.createRef)(),S}var d=c.prototype;return d.UNSAFE_componentWillReceiveProps=function(S){var k=this.getStateFromProps(S,S.formData);!(0,at.qt)(k.formData,S.formData)&&!(0,at.qt)(k.formData,this.state.formData)&&S.onChange&&S.onChange(k),this.setState(k)},d.getStateFromProps=function(S,k){var J=this.state||{},le="schema"in S?S.schema:this.props.schema,me=("uiSchema"in S?S.uiSchema:this.props.uiSchema)||{},de=typeof k!="undefined",Be="liveValidate"in S?S.liveValidate:this.props.liveValidate,ze=de&&!S.noValidate&&Be,et=le,we=J.schemaUtils;(!we||we.doesSchemaUtilsDiffer(S.validator,et))&&(we=(0,at.hf)(S.validator,et));var Ye=we.getDefaultFormState(le,k),Ue=we.retrieveSchema(le,Ye),Et=function(){return S.noValidate?{errors:[],errorSchema:{}}:S.liveValidate?{errors:J.errors||[],errorSchema:J.errorSchema||{}}:{errors:J.schemaValidationErrors||[],errorSchema:J.schemaValidationErrorSchema||{}}},Dt,Ut,$t=J.schemaValidationErrors,rr=J.schemaValidationErrorSchema;if(ze){var hr=this.validate(Ye,le,we);Dt=hr.errors,Ut=hr.errorSchema,$t=Dt,rr=Ut}else{var Mr=Et();Dt=Mr.errors,Ut=Mr.errorSchema}if(S.extraErrors){var br=(0,at.J0)({errorSchema:Ut,errors:Dt},S.extraErrors);Ut=br.errorSchema,Dt=br.errors}var ur=we.toIdSchema(Ue,me["ui:rootFieldId"],Ye,S.idPrefix,S.idSeparator),Jr={schemaUtils:we,schema:le,uiSchema:me,idSchema:ur,formData:Ye,edit:de,errors:Dt,errorSchema:Ut,schemaValidationErrors:$t,schemaValidationErrorSchema:rr};return Jr},d.shouldComponentUpdate=function(S,k){return(0,at.N0)(this,S,k)},d.validate=function(S,k,J){k===void 0&&(k=this.props.schema);var le=J||this.state.schemaUtils,me=this.props,de=me.customValidate,Be=me.transformErrors,ze=me.uiSchema,et=le.retrieveSchema(k,S);return le.getValidator().validateFormData(S,et,de,Be,ze)},d.renderErrors=function(S){var k=this.state,J=k.errors,le=k.errorSchema,me=k.schema,de=k.uiSchema,Be=this.props.formContext,ze=(0,at.LI)(de),et=(0,at.t4)("ErrorListTemplate",S,ze);return J&&J.length?(0,bt.jsx)(et,{errors:J,errorSchema:le||{},schema:me,uiSchema:de,formContext:Be,registry:S}):null},d.getRegistry=function(){var S,k=this.props,J=k.translateString,le=k.uiSchema,me=le===void 0?{}:le,de=this.state.schemaUtils,Be=Va(),ze=Be.fields,et=Be.templates,we=Be.widgets,Ye=Be.formContext,Ue=Be.translateString;return{fields:Vr({},ze,this.props.fields),templates:Vr({},et,this.props.templates,{ButtonTemplates:Vr({},et.ButtonTemplates,(S=this.props.templates)===null||S===void 0?void 0:S.ButtonTemplates)}),widgets:Vr({},we,this.props.widgets),rootSchema:this.props.schema,formContext:this.props.formContext||Ye,schemaUtils:de,translateString:J||Ue,globalUiOptions:me[at.J1]}},d.submit=function(){this.formElement.current&&(this.formElement.current.dispatchEvent(new CustomEvent("submit",{cancelable:!0})),this.formElement.current.requestSubmit())},d.focusOnError=function(S){var k=this.props,J=k.idPrefix,le=J===void 0?"root":J,me=k.idSeparator,de=me===void 0?"_":me,Be=S.property,ze=(0,Ds.Z)(Be);ze[0]===""?ze[0]=le:ze.unshift(le);var et=ze.join(de),we=this.formElement.current.elements[et];we||(we=this.formElement.current.querySelector("input[id^="+et)),we.length&&(we=we[0]),we&&we.focus()},d.validateForm=function(){var S=this.props,k=S.extraErrors,J=S.focusOnFirstError,le=S.onError,me=this.state.formData,de=this.validate(me),Be=de.errors,ze=de.errorSchema,et=Be,we=ze;if(Be.length>0){if(k){var Ye=(0,at.J0)(de,k);ze=Ye.errorSchema,Be=Ye.errors}return J&&(typeof J=="function"?J(de.errors[0]):this.focusOnError(de.errors[0])),this.setState({errors:Be,errorSchema:ze,schemaValidationErrors:et,schemaValidationErrorSchema:we},function(){le?le(Be):console.error("Form validation failed",Be)}),!1}return!0},d.render=function(){var S,k,J=this.props,le=J.children,me=J.id,de=J.idPrefix,Be=J.idSeparator,ze=J.className,et=ze===void 0?"":ze,we=J.tagName,Ye=J.name,Ue=J.method,Et=J.target,Dt=J.action,Ut=J.autoComplete,$t=J.enctype,rr=J.acceptcharset,hr=J.noHtml5Validate,Mr=hr===void 0?!1:hr,br=J.disabled,ur=br===void 0?!1:br,Jr=J.readonly,pn=Jr===void 0?!1:Jr,$r=J.formContext,on=J.showErrorList,Ln=on===void 0?"top":on,Wn=J._internalFormWrapper,Rn=this.state,ti=Rn.schema,ki=Rn.uiSchema,ri=Rn.formData,ni=Rn.errorSchema,ui=Rn.idSchema,Ki=this.getRegistry(),_o=Ki.fields.SchemaField,Qi=Ki.templates.ButtonTemplates.SubmitButton,ps=Wn?we:void 0,Vs=Wn||we||"form",Do=(0,at.LI)(ki),Mi=Do[at.t5],ii=Mi===void 0?{}:Mi;ur&&(ii=Vr({},ii,{props:Vr({},ii.props,{disabled:!0})}));var es=(k={},k[at.ji]=(S={},S[at.t5]=ii,S),k);return(0,bt.jsxs)(Vs,{className:et||"rjsf",id:me,name:Ye,method:Ue,target:Et,action:Dt,autoComplete:Ut,encType:$t,acceptCharset:rr,noValidate:Mr,onSubmit:this.onSubmit,as:ps,ref:this.formElement,children:[Ln==="top"&&this.renderErrors(Ki),(0,bt.jsx)(_o,{name:"",schema:ti,uiSchema:ki,errorSchema:ni,idSchema:ui,idPrefix:de,idSeparator:Be,formContext:$r,formData:ri,onChange:this.onChange,onBlur:this.onBlur,onFocus:this.onFocus,registry:Ki,disabled:ur,readonly:pn}),le||(0,bt.jsx)(Qi,{uiSchema:es,registry:Ki}),Ln==="bottom"&&this.renderErrors(Ki)]})},c}($.Component),ol=["fields","widgets","templates"];function gl(i){return(0,$.forwardRef)(function(c,d){var E,S,k=c.fields,J=c.widgets,le=c.templates,me=Ao(c,ol);return k=Vr({},i==null?void 0:i.fields,k),J=Vr({},i==null?void 0:i.widgets,J),le=Vr({},i==null?void 0:i.templates,le,{ButtonTemplates:Vr({},i==null||(E=i.templates)===null||E===void 0?void 0:E.ButtonTemplates,(S=le)===null||S===void 0?void 0:S.ButtonTemplates)}),(0,bt.jsx)(il,Vr({},i,me,{fields:k,widgets:J,templates:le,ref:d}))})}var sl=u(34520),al=u(73495),ll=u(52160),pa=u(67898),ul=u(27057),ml=u(71140),kl=u(34063),Ul=u(72779),Vl=u.n(Ul),Kl=u(34812),zl=u(91750),Hl=u(70218),bl=u(26228),Jl=u(75951),Gl=u.n(Jl);function Yl(i){(0,$.useEffect)(function(){i()},[])}var Xl=u(82108),Ql=u.n(Xl),ql=u(19996),eu=u(25505),tu=u(38016),ru=u(88013),nu=u(61837),Ml=u(86136),$l=u(49378),Il=u(12231),iu=u(50758),ou=u(79784),su=u(30254),au=u(27604),lu=u(5075),uu=u(43054),Yu=u(18473);function el(i){return typeof i=="object"&&i!==null&&!Array.isArray(i)}function dl(i,c){if(!el(i))return;const{properties:d,items:E,anyOf:S,oneOf:k,allOf:J,dependencies:le}=i;for(const me in i)i.hasOwnProperty(me)&&me.startsWith("ui:")&&(c[me]=i[me],delete i[me]);if(el(d))for(const me in d){if(!d.hasOwnProperty(me))continue;const de=d[me];if(!el(de))continue;const Be={};c[me]=Be,dl(de,Be)}if(el(E)){const me={};c.items=me,dl(E,me)}if(Array.isArray(S))for(const me of S)el(me)&&dl(me,c);if(Array.isArray(k))for(const me of k)el(me)&&dl(me,c);if(Array.isArray(J))for(const me of J)el(me)&&dl(me,c);if(el(le))for(const me of Object.keys(le)){const de=le[me];el(de)&&dl(de,c)}}const Sl=i=>{const c={},d=JSON.parse(JSON.stringify(i));return dl(d,c),{uiSchema:c,schema:d}},cu=()=>{const i={__errors:[],addError:c=>{var d;(d=i.__errors)==null||d.push(c)}};return i};function fu(i){return!!i&&"__errors"in i}function jl(i){var c;if(!i)return!1;for(const d of Object.values(i)){if(fu(d)){if(((c=d.__errors)!=null?c:[]).length>0)return!0;continue}if(jl(d))return!0}return!1}function du(i){return typeof i=="object"&&i!==null&&!Array.isArray(i)}const hu=(i,c,d)=>{async function E(S,k="#",J=S){var le,me;const de=new Ko(i),Be={},ze=async(et,we,Ye,Ue,Et)=>{const Dt=c[et];if(Dt){const Ut=cu();try{await Dt(Ye,Ut,{...d,formData:S,schema:Ue,uiSchema:Et})}catch($t){Ut.addError($t.message)}Be[we]=Ut}};for(const[et,we]of Object.entries(J)){const Ye=`${k}/${et}`,Ue=de.getSchema(Ye,S),{schema:Et,uiSchema:Dt}=Sl(Ue),Ut=Ue&&Ue.items,$t=async(hr,Mr,br)=>{await ze(hr["ui:field"],et,we,Mr,br)},rr=async hr=>{if("ui:field"in hr){const{schema:Mr,uiSchema:br}=Sl(Ue.items);await $t(hr,Mr,br)}};if(Ue&&"ui:field"in Ue)await $t(Ue,Et,Dt);else if(Ut&&"ui:field"in Ue.items)await rr(Ue.items);else if(Ut&&Ue.items.type==="object"){const hr=(me=(le=Ue.items)==null?void 0:le.properties)!=null?me:[];for(const[,Mr]of Object.entries(hr))await rr(Mr)}else du(we)&&(Be[et]=await E(S,Ye,we))}return Be}return async S=>await E(S)},mu=i=>{const c=Object.fromEntries(Object.entries(i.formState).map(([d,E])=>{var S;for(const k of i.schemas){const le=new Ko(k.mergedSchema).getSchema(`#/${d}`,i.formState);if(le){const me=(S=le["ui:backstage"])==null?void 0:S.review;if(me){if(me.mask)return[d,me.mask];if(me.show===!1)return[]}if(le["ui:widget"]==="password")return[d,"******"]}}return[d,E]}));return $.createElement(Fn.xT,{metadata:c})},pu=i=>{const c=(0,s.h_)(s.W0);return{steps:i.steps.map(({title:S,description:k,schema:J})=>({title:S,description:k,mergedSchema:J,...Sl(J)})).filter(S=>{var k;const J=(k=S.uiSchema["ui:backstage"])==null?void 0:k.featureFlag;return J?c.isActive(J):!0}).map(S=>{var k,J;return{...S,schema:{...S.schema,title:void 0,properties:Object.fromEntries(Object.entries((J=(k=S.schema)==null?void 0:k.properties)!=null?J:[]).filter(([le])=>{var me,de;const Be=(de=(me=S.uiSchema[le])==null?void 0:me["ui:backstage"])==null?void 0:de.featureFlag;return Be?c.isActive(Be):!0}))}}})}},gu=i=>(0,$.useState)(()=>{if(i)return i;const c=os().parse(window.location.search,{ignoreQueryPrefix:!0});try{return JSON.parse(c.formData)}catch{return{}}}),yu=i=>{const c=(0,s.h_)(_s.s),{value:d,loading:E,error:S}=(0,Ts.default)(()=>c.getTemplateParameterSchema(i),[c,i]);return{manifest:d,loading:E,error:S}},vu=(i,c={})=>{var d;const{layouts:E=[]}=c,S=i==null?void 0:i.uiSchema["ui:ObjectFieldTemplate"];if(typeof S!="string")return i;const k=(d=E.find(J=>J.name===S))==null?void 0:d.component;return k?{...i,uiSchema:{...i.uiSchema,["ui:ObjectFieldTemplate"]:k}}:i};var bu=Object.freeze({__proto__:null,DescriptionField:({description:i})=>i&&$.createElement(Fn.SA,{content:i,linkTarget:"_blank"})});const Nl=gl(u(80070).Q2),Su=(0,p.Z)(i=>({backButton:{marginRight:i.spacing(1)},footer:{display:"flex",flexDirection:"row",justifyContent:"right",marginTop:i.spacing(2)},formWrapper:{padding:i.spacing(2)}})),Ll=i=>{var c;const{layouts:d=[],components:E={},...S}=i,{ReviewStateComponent:k=mu,createButtonText:J="Create",reviewButtonText:le="Review"}=E,me=(0,s.z$)(),{steps:de}=pu(S.manifest),Be=(0,s.I_)(),[ze,et]=(0,$.useState)(0),[we,Ye]=(0,$.useState)(!1),[Ue,Et]=gu(S.initialState),[Dt,Ut]=(0,$.useState)(),$t=Su(),rr=(0,$.useMemo)(()=>Object.fromEntries(S.extensions.map(({name:$r,component:on})=>[$r,on])),[S.extensions]),hr=(0,$.useMemo)(()=>Object.fromEntries(S.extensions.map(({name:$r,validation:on})=>[$r,on])),[S.extensions]),Mr=(0,$.useMemo)(()=>{var $r;return hu(($r=de[ze])==null?void 0:$r.mergedSchema,hr,{apiHolder:Be})},[de,ze,hr,Be]),br=()=>{et($r=>$r-1)},ur=(0,$.useCallback)($r=>Et(on=>({...on,...$r.formData})),[Et]),Jr=vu(de[ze],{layouts:d}),pn=async({formData:$r={}})=>{Ut(void 0),Ye(!0);const on=await Mr($r);Ye(!1),jl(on)?Ut(on):(Ut(void 0),et(Ln=>{const Wn=Ln+1;return me.captureEvent("click",`Next Step (${Wn})`),Wn})),Et(Ln=>({...Ln,...$r}))};return $.createElement($.Fragment,null,we&&$.createElement(R.Z,{variant:"indeterminate"}),$.createElement(O.Z,{activeStep:ze,alternativeLabel:!0,variant:"elevation"},de.map(($r,on)=>$.createElement(_.Z,{key:on},$.createElement(D.Z,null,$r.title))),$.createElement(_.Z,null,$.createElement(D.Z,null,"Review"))),$.createElement("div",{className:$t.formWrapper},ze<de.length?$.createElement(Nl,{validator:ns.Z,extraErrors:Dt,formData:Ue,formContext:{formData:Ue},schema:Jr.schema,uiSchema:Jr.uiSchema,onSubmit:pn,fields:{...bu,...rr},showErrorList:!1,onChange:ur,...(c=S.FormProps)!=null?c:{}},$.createElement("div",{className:$t.footer},$.createElement(N.Z,{onClick:br,className:$t.backButton,disabled:ze<1||we},"Back"),$.createElement(N.Z,{variant:"contained",color:"primary",type:"submit",disabled:we},ze===de.length-1?le:"Next"))):$.createElement($.Fragment,null,$.createElement(k,{formState:Ue,schemas:de}),$.createElement("div",{className:$t.footer},$.createElement(N.Z,{onClick:br,className:$t.backButton,disabled:ze<1},"Back"),$.createElement(N.Z,{variant:"contained",color:"primary",onClick:()=>{var $r;S.onCreate(Ue);const on=typeof Ue.name=="string"?Ue.name:void 0;me.captureEvent("create",($r=on!=null?on:S.templateName)!=null?$r:"unknown")}},J)))))},Eu=(0,p.Z)(()=>({header:{backgroundImage:({cardBackgroundImage:i})=>i,color:({cardFontColor:i})=>i},subtitleWrapper:{display:"flex",justifyContent:"space-between"}})),wu=i=>{const{template:{metadata:{title:c,name:d},spec:{type:E}}}=i,{getPageTheme:S}=(0,j.Z)(),k=S({themeId:E}),J=Eu({cardFontColor:k.fontColor,cardBackgroundImage:k.backgroundImage}),le=$.createElement("div",{className:J.subtitleWrapper},$.createElement("div",null,E),$.createElement("div",null,$.createElement(al.LH,{entity:i.template,style:{padding:0}})));return $.createElement(Fn.hu,{title:c!=null?c:d,subtitle:le,classes:{root:J.header}})},Ou=(0,p.Z)(()=>({linkText:{display:"inline-flex",alignItems:"center"}})),Bl=({icon:i,text:c,url:d})=>{const E=Ou();return $.createElement("div",{className:E.linkText},$.createElement(i,{fontSize:"small"}),$.createElement(Fn.rU,{style:{marginLeft:"8px"},to:d},c||d))},xu=(0,p.Z)(i=>({box:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box","-webkit-line-clamp":10,"-webkit-box-orient":"vertical"},markdown:{"& :first-child":{margin:0}},label:{color:i.palette.text.secondary,textTransform:"uppercase",fontWeight:"bold",letterSpacing:.5,lineHeight:1,fontSize:"0.75rem"},footer:{display:"flex",justifyContent:"space-between",flex:1,alignItems:"center"},ownedBy:{display:"flex",alignItems:"center",flex:1,color:i.palette.link}})),Cu=i=>{var c,d,E,S,k,J,le;const{template:me}=i,de=xu(),Be=(0,al.hF)(me,sl.S4),ze=(0,s.qD)(),et=we=>{var Ye;return we&&(Ye=ze.getSystemIcon(we))!=null?Ye:ll.Z};return $.createElement(I.Z,null,$.createElement(wu,{template:me}),$.createElement(G.Z,null,$.createElement(z.Z,{container:!0,spacing:2},$.createElement(z.Z,{item:!0,xs:12},$.createElement(re.Z,{className:de.box},$.createElement(Fn.SA,{className:de.markdown,content:(c=me.metadata.description)!=null?c:"No description"}))),((E=(d=me.metadata.tags)==null?void 0:d.length)!=null?E:0)>0&&$.createElement($.Fragment,null,$.createElement(z.Z,{item:!0,xs:12},$.createElement(ne.Z,null)),$.createElement(z.Z,{item:!0,xs:12},$.createElement(z.Z,{container:!0,spacing:2},(S=me.metadata.tags)==null?void 0:S.map(we=>$.createElement(z.Z,{item:!0},$.createElement(ae.Z,{style:{margin:0},size:"small",label:we,key:we})))))),(i.additionalLinks||((k=me.metadata.links)==null?void 0:k.length))&&$.createElement($.Fragment,null,$.createElement(z.Z,{item:!0,xs:12},$.createElement(ne.Z,null)),$.createElement(z.Z,{item:!0,xs:12},$.createElement(z.Z,{container:!0,spacing:2},(J=i.additionalLinks)==null?void 0:J.map(({icon:we,text:Ye,url:Ue},Et)=>$.createElement(z.Z,{className:de.linkText,item:!0,xs:6,key:Et},$.createElement(Bl,{icon:we,text:Ye,url:Ue}))),(le=me.metadata.links)==null?void 0:le.map(({url:we,icon:Ye,title:Ue},Et)=>$.createElement(z.Z,{className:de.linkText,item:!0,xs:6,key:Et},$.createElement(Bl,{icon:et(Ye),text:Ue||we,url:we})))))))),$.createElement(ve.Z,{style:{padding:"16px",flex:1,alignItems:"flex-end"}},$.createElement("div",{className:de.footer},$.createElement("div",{className:de.ownedBy},Be.length>0&&$.createElement($.Fragment,null,$.createElement(Fn.tB,{fontSize:"small"}),$.createElement(al.rI,{style:{marginLeft:"8px"},entityRefs:Be,defaultKind:"Group"}))),$.createElement(N.Z,{size:"small",variant:"outlined",color:"primary",onClick:()=>{var we;return(we=i.onSelected)==null?void 0:we.call(i,me)}},"Choose"))))},Wl=i=>{const{templates:c,title:d,components:{CardComponent:E}={},onSelected:S}=i,k=typeof d=="string"?$.createElement(Fn.yW,{title:d}):d;if(c.length===0)return $.createElement(Fn.VY,null,k,$.createElement(M.Z,{variant:"body2"},"No templates found that match your filter. Learn more about"," ",$.createElement(Fn.rU,{to:"https://backstage.io/docs/features/software-templates/adding-templates"},"adding templates"),"."));const J=E||Cu;return $.createElement(Fn.VY,null,k,$.createElement(Fn.Oh,null,c.map(({template:le,additionalLinks:me})=>$.createElement(J,{key:(0,sl.eE)(le),additionalLinks:me,template:le,onSelected:S}))))},Au=i=>{const{loading:c,error:d,entities:E}=(0,al.wp)(),{groups:S,templateFilter:k,TemplateCardComponent:J,onTemplateSelected:le}=i,me=(0,s.h_)(s.VE),de=(0,$.useCallback)(Be=>{le==null||le(Be)},[le]);return c?$.createElement(Fn.Ex,null):d?(me.post(d),null):!E||!E.length?$.createElement(M.Z,{variant:"body2"},"No templates found that match your filter. Learn more about"," ",$.createElement(Fn.rU,{to:"https://backstage.io/docs/features/software-templates/adding-templates"},"adding templates"),"."):$.createElement($.Fragment,null,S.map(({title:Be,filter:ze},et)=>{const we=E.filter(pa.t).filter(Ye=>k?k(Ye):!0).filter(ze).map(Ye=>{var Ue,Et;const Dt=(Et=(Ue=i.additionalLinksForEntity)==null?void 0:Ue.call(i,Ye))!=null?Et:[];return{template:Ye,additionalLinks:Dt}});return $.createElement(Wl,{key:et,templates:we,title:Be,components:{CardComponent:J},onSelected:de})}))},Pu=(0,p.Z)(()=>({markdown:{"& :first-child":{marginTop:0},"& :last-child":{marginBottom:0}}})),Zl=i=>{var c;const{title:d,description:E,namespace:S,templateName:k,...J}=i,le=Pu(),me=(0,sl.eE)({kind:"Template",namespace:S,name:k}),de=(0,s.h_)(s.VE),{loading:Be,manifest:ze,error:et}=yu(me);return(0,$.useEffect)(()=>{et&&de.post(new Error(`Failed to load template, ${et}`))},[et,de]),et?J.onError(et):$.createElement(Fn.VY,null,Be&&$.createElement(Fn.Ex,null),ze&&$.createElement(Fn.rJ,{title:d!=null?d:ze.title,subheader:$.createElement(Fn.SA,{className:le.markdown,content:(c=E!=null?E:ze.description)!=null?c:"No description"}),noPadding:!0,titleTypographyProps:{component:"h2"}},$.createElement(Ll,{manifest:ze,...J})))},Qu=i=>React.createElement(SecretsContextProvider,null,React.createElement(Zl,{...i})),Tu=(0,p.Z)({root:{"&:hover":{textDecoration:"none"}}}),_u=i=>{const{links:c=[]}=i.output,d=Tu(),E=(0,s.qD)(),S=(0,s.tg)(al.wi),k=J=>{var le;return(le=E.getSystemIcon(J))!=null?le:ul.Z};return $.createElement($.Fragment,null,c.filter(({url:J,entityRef:le})=>J||le).map(({url:J,entityRef:le,title:me,icon:de})=>{if(le){const Be=(0,sl.of)(le),ze=S(Be);return{title:me,icon:de,url:ze}}return{title:me,icon:de,url:J}}).map(({url:J,title:le,icon:me},de)=>{const Be=k(me);return $.createElement(Fn.rU,{to:J,key:de,classes:{root:d.root}},$.createElement(N.Z,{startIcon:$.createElement(Be,null),component:"div",color:"primary"},le))}))},Du=i=>{const{output:{text:c=[]},index:d,setIndex:E}=i,S=(0,s.qD)(),k=J=>{var le;return(le=S.getSystemIcon(J))!=null?le:ul.Z};return $.createElement($.Fragment,null,c.filter(({content:J})=>J!==void 0).map(({title:J,icon:le},me)=>{const de=k(le);return $.createElement(N.Z,{key:me,startIcon:$.createElement(de,null),component:"div",color:"primary",onClick:()=>E==null?void 0:E(d!==me?me:void 0),variant:d===me?"outlined":void 0},J)}))},ku=i=>{var c,d;const[E,S]=(0,$.useState)(),k=(0,$.useMemo)(()=>{var J,le;return E!==void 0?(le=(J=i.output)==null?void 0:J.text)==null?void 0:le[E]:null},[i.output,E]);return i.output?$.createElement($.Fragment,null,$.createElement(re.Z,{paddingBottom:2},$.createElement(H.Z,null,$.createElement(re.Z,{padding:2,justifyContent:"center",display:"flex",gridGap:16},$.createElement(Du,{output:i.output,index:E,setIndex:S}),$.createElement(_u,{output:i.output})))),k?$.createElement(re.Z,{paddingBottom:2},$.createElement(Fn.rJ,{title:(c=k.title)!=null?c:"Text Output",noPadding:!0,titleTypographyProps:{component:"h2"}},$.createElement(re.Z,{padding:2,height:"100%"},$.createElement(Fn.SA,{content:(d=k.content)!=null?d:""})))):null):null},Mu=(0,p.Z)(i=>({root:{color:i.palette.text.disabled},completed:{color:i.palette.status.ok},error:{color:i.palette.status.error}})),$u=i=>{const c=Mu(),{active:d,completed:E,error:S,skipped:k}=i,J=()=>d?$.createElement(ue.Z,{size:"20px"}):E?$.createElement(Kl.Z,null):S?$.createElement(zl.Z,null):k?$.createElement(ml.Z,null):$.createElement(kl.Z,null);return $.createElement("div",{className:Vl()(c.root,{[c.completed]:E,[c.error]:S})},J())},Iu=i=>{const[c,d]=(0,$.useState)(""),{step:E}=i,S=(0,$.useCallback)(()=>{if(!E.startedAt){d("");return}const k=E.endedAt?bl.ou.fromISO(E.endedAt):bl.ou.local(),J=bl.ou.fromISO(E.startedAt),le=bl.Xp.fromDateTimes(J,k).toDuration().valueOf();d(Gl()(le,{round:!0}))},[E.endedAt,E.startedAt]);return Yl(()=>S()),(0,Hl.Z)(()=>!E.endedAt&&S(),1e3),$.createElement(M.Z,{variant:"caption"},c)},Ru=(0,p.Z)(i=>({failed:{backgroundColor:i.palette.error.main},success:{backgroundColor:i.palette.success.main}})),Fu=i=>{const c=Ru();return i.isComplete?$.createElement(R.Z,{variant:"determinate",classes:{bar:i.isError?c.failed:c.success},value:100}):$.createElement(R.Z,{variant:"indeterminate"})},ju=i=>{var c,d;return $.createElement(H.Z,{style:{position:"relative",overflow:"hidden"}},$.createElement(Fu,{isComplete:(c=i.isComplete)!=null?c:!1,isError:(d=i.isError)!=null?d:!1}),$.createElement(re.Z,{padding:2},$.createElement(O.Z,{activeStep:i.activeStep,alternativeLabel:!0,variant:"elevation"},i.steps.map((E,S)=>{const k=E.status==="completed",J=E.status==="failed",le=E.status==="processing",me=E.status==="skipped",de={completed:k,error:J,active:le,skipped:me};return $.createElement(_.Z,{key:S},$.createElement(X.Z,null,$.createElement(D.Z,{StepIconProps:de,StepIconComponent:$u,"data-testid":"step-label"},$.createElement(re.Z,null,E.name),!me&&$.createElement(Iu,{step:E}))))}))))},Nu=(0,p.Z)({root:{width:"100%",height:"100%",position:"relative"}}),Lu=i=>{const c=Nu();return $.createElement("div",{className:c.root},$.createElement(Fn.nU,{text:Object.values(i.logs).map(d=>d.join(`
`)).filter(Boolean).join(`
`)}))},Bu=$.createElement(eu.Z,{fontSize:"small"}),Wu=$.createElement(ql.Z,{fontSize:"small"}),Zu=()=>{const i=(0,s.h_)(s.$v),{error:c,loading:d,availableTypes:E,selectedTypes:S,setSelectedTypes:k}=(0,al.Uh)();return d?$.createElement(Fn.Ex,null):c?(i.post({message:`Failed to load entity types with error: ${c}`,severity:"error"}),null):E?$.createElement(re.Z,{pb:1,pt:1},$.createElement(M.Z,{variant:"button",component:"label",htmlFor:"categories-picker"},"Categories"),$.createElement(ru.ZP,{multiple:!0,id:"categories-picker",options:E,value:S,onChange:(J,le)=>k(le),renderOption:(J,{selected:le})=>$.createElement(se.Z,{control:$.createElement(fe.Z,{icon:Bu,checkedIcon:Wu,checked:le}),label:Ql()(J)}),size:"small",popupIcon:$.createElement(tu.Z,null),renderInput:J=>$.createElement(ee.Z,{...J,variant:"outlined"})})):null},Uu=(0,p.Z)(i=>({button:{color:i.page.fontColor}}));function Vu(i){const{onEditorClicked:c,onActionsClicked:d,onTasksClicked:E}=i,S=Uu(),[k,J]=(0,$.useState)();if(!c&&!d)return null;const le=de=>{J(de.currentTarget)},me=()=>{J(void 0)};return $.createElement($.Fragment,null,$.createElement(nu.Z,{id:"long-menu","aria-label":"more","aria-controls":"long-menu","aria-expanded":!!k,"aria-haspopup":"true",role:"button",onClick:le,"data-testid":"menu-button",color:"inherit",className:S.button},$.createElement(uu.Z,null)),$.createElement(ou.ZP,{"aria-labelledby":"long-menu",open:Boolean(k),onClose:me,anchorEl:k,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"}},$.createElement(iu.Z,null,c&&$.createElement(Il.Z,{onClick:c},$.createElement(Ml.Z,null,$.createElement(au.Z,{fontSize:"small"})),$.createElement($l.Z,{primary:"Template Editor"})),d&&$.createElement(Il.Z,{onClick:d},$.createElement(Ml.Z,null,$.createElement(su.Z,{fontSize:"small"})),$.createElement($l.Z,{primary:"Installed Actions"})),E&&$.createElement(Il.Z,{onClick:E},$.createElement(Ml.Z,null,$.createElement(lu.Z,{fontSize:"small"})),$.createElement($l.Z,{primary:"Task List"})))))}function qu(i){return{expose(){const c=()=>null;return attachComponentData(c,FIELD_EXTENSION_KEY,i),c}}}},30411:function(Le,w,u){"use strict";u.d(w,{D:function(){return ae},L:function(){return se}});var s=u(23054),p=u(80236),R=u(30705),O=u(73495),_=u(64279),D=u(2784),N=u(12053),j=u(29181),I=u(26228),G=u(75951),z=u.n(G),re=u(90436),ne=u(34520);const ae=[{component:s.x,name:"EntityPicker",schema:s.y},{component:s.z,name:"EntityNamePicker",validation:s.A,schema:s.B},{component:s.C,name:"EntityTagsPicker",schema:s.D},{component:s.F,name:"RepoUrlPicker",validation:s.h,schema:s.G},{component:s.H,name:"OwnerPicker",schema:s.I},{component:s.J,name:"OwnedEntityPicker",schema:s.K}],ve=({createdAt:fe})=>{const ee=I.ou.fromISO(fe),$=I.Xp.fromDateTimes(ee,I.ou.local()).toDuration().valueOf();return D.createElement(re.Z,{paragraph:!0},z()($,{round:!0})," ago")},M=({entityRef:fe})=>{var ee,$,Se;const Ie=(0,R.h_)(O.Ah),{value:Oe,loading:We,error:Ge}=(0,_.default)(()=>Ie.getEntityByRef(fe||""),[Ie,fe]);return fe?We||Ge?null:D.createElement(O.dx,{entityRef:(0,ne.of)(fe),title:(Se=($=(ee=Oe==null?void 0:Oe.spec)==null?void 0:ee.profile)==null?void 0:$.displayName)!=null?Se:Oe==null?void 0:Oe.metadata.name}):D.createElement(re.Z,{paragraph:!0},"Unknown")},H=({status:fe})=>{switch(fe){case"processing":return D.createElement(p.wA,null,fe);case"completed":return D.createElement(p.Kq,null,fe);case"error":default:return D.createElement(p.vK,null,fe)}},ue=({entityRef:fe})=>{const ee=(0,R.h_)(N.lc),{value:$,loading:Se,error:Ie}=(0,_.default)(()=>ee.getTemplateParameterSchema(fe||""),[ee,fe]);return Se||Ie||!fe?null:D.createElement(O.dx,{entityRef:(0,ne.of)(fe),title:$==null?void 0:$.title})},X=fe=>{var ee;const{initiallySelectedFilter:$="owned"}=fe,Se=(0,R.h_)(N.lc),Ie=(0,R.tg)(s.r),[Oe,We]=(0,D.useState)($),{value:Ge,loading:lt,error:Qe}=(0,_.default)(()=>{var He;return Se.listTasks?(He=Se.listTasks)==null?void 0:He.call(Se,{filterByOwnership:Oe}):(console.warn("listTasks is not implemented in the scaffolderApi, please make sure to implement this method."),Promise.resolve({tasks:[]}))},[Se,Oe]);return lt?D.createElement(p.Ex,null):Qe?D.createElement(D.Fragment,null,D.createElement(p.yu,{error:Qe}),D.createElement(p.ub,{missing:"info",title:"No information to display",description:"There is no Tasks or there was an issue communicating with backend."})):D.createElement(O._i,null,D.createElement(O._i.Filters,null,D.createElement(j.O,{filter:Oe,onSelectOwner:He=>We(He)})),D.createElement(O._i.Content,null,D.createElement(p.iA,{data:(ee=Ge==null?void 0:Ge.tasks)!=null?ee:[],title:"Tasks",columns:[{title:"Task ID",field:"id",render:He=>D.createElement(p.rU,{to:`${Ie()}/tasks/${He.id}`},He.id)},{title:"Template",render:He=>{var St;return D.createElement(ue,{entityRef:(St=He.spec.templateInfo)==null?void 0:St.entityRef})}},{title:"Created",field:"createdAt",render:He=>D.createElement(ve,{createdAt:He.createdAt})},{title:"Owner",field:"createdBy",render:He=>{var St,qt;return D.createElement(M,{entityRef:(qt=(St=He.spec)==null?void 0:St.user)==null?void 0:qt.ref})}},{title:"Status",field:"status",render:He=>D.createElement(H,{status:He.status})}]})))},se=fe=>D.createElement(p.T3,{themeId:"home"},D.createElement(p.h4,{pageTitleOverride:"Templates Tasks",title:D.createElement(D.Fragment,null,"List template tasks ",D.createElement(p.Fw,{shorthand:!0,alpha:!0})),subtitle:"All tasks that have been started"}),D.createElement(p.VY,null,D.createElement(X,{...fe})))},29181:function(Le,w,u){"use strict";u.d(w,{A:function(){return yn},D:function(){return Ht},O:function(){return En},T:function(){return Hi},W:function(){return Pe},a:function(){return Mo},b:function(){return xe},c:function(){return ts},d:function(){return si},e:function(){return Ks},u:function(){return be}});var s=u(2784),p=u(64279),R=u(12053),O=u(79692),_=u(60905),D=u(95544),N=u(90436),j=u(91256),I=u(27556),G=u(37390),z=u(58987),re=u(89571),ne=u(15584),ae=u(97485),ve=u(82113),M=u(27616),H=u(8284),ue=u(70660),X=u(94339),se=u(11776),fe=u(12231),ee=u(86136),$=u(49378),Se=u(80030),Ie=u(61837),Oe=u(85256),We=u(72779),Ge=u.n(We),lt=u(38016),Qe=u(84905),He=u(30705),St=u(80236),qt=u(7089),dt=u(47603),wt=u(56881),rt=u(78887),Ze=function(gt){return(gt+1)%Number.MAX_SAFE_INTEGER};function yt(){var gt=(0,rt.F)(0),Je=gt[1];return(0,s.useCallback)(function(){Je(Ze)},[])}var tt=u(51967);function ge(gt){var Je=(0,s.useRef)();return(0,s.useEffect)(function(){Je.current=gt}),Je.current}var $e=u(77246),mt=u(29862),_t=u(16303),Vt=function(gt,Je,Bt){if(Bt||arguments.length===2)for(var Kt=0,nr=Je.length,Ur;Kt<nr;Kt++)(Ur||!(Kt in Je))&&(Ur||(Ur=Array.prototype.slice.call(Je,0,Kt)),Ur[Kt]=Je[Kt]);return gt.concat(Ur||Array.prototype.slice.call(Je))};function Cr(gt){for(var Je=[],Bt=1;Bt<arguments.length;Bt++)Je[Bt-1]=arguments[Bt];var Kt=(0,mt.t)(),nr=(0,$e.x)(Je[1]),Ur=(0,s.useMemo)(function(){return function(){for(var Fr=[],en=0;en<arguments.length;en++)Fr[en]=arguments[en];Kt()&&(typeof nr.current=="function"?nr.current.apply(this,Fr):typeof nr.current.handleEvent=="function"&&nr.current.handleEvent.apply(this,Fr))}},[]);(0,s.useEffect)(function(){var Fr=gt&&(0,_t.nr)(gt,"current")?gt.current:gt;if(Fr){var en=Je.slice(2);return _t.on.apply(void 0,Vt([Fr,Je[0],Ur],en,!1)),function(){return _t.S1.apply(void 0,Vt([Fr,Je[0],Ur],en,!1))}}},[gt,Je[0]])}var Ve=u(24947),K=function(gt){return typeof gt=="function"?gt:typeof gt=="string"?function(Je){return Je.key===gt}:gt?_t.cI:_t.Vp},Z=Ve.jU?window:null;function Q(gt,Je,Bt,Kt){Kt===void 0&&(Kt={});var nr=Kt.event,Ur=nr===void 0?"keydown":nr,Fr=Kt.target,en=Fr===void 0?Z:Fr,ai=Kt.eventOptions,Hn=(0,$e.x)(Je),Yn=(0,s.useMemo)(function(){var rn=K(gt);return function(Zn){rn(Zn)&&Hn.current.call(this,Zn)}},Bt);Cr(en,Ur,Yn,ai)}var ie=u(10921),Te=u(38402),Xe=u(9520),ct=u(49166),Mt=u(98281),Qt=u(22983),Yt=u(77120),zt=u(42123),Xt=u(6487),ot=u(99152),Ct=u(2552),Nt=u(23054),fr=u(87685),Or=u(49423),xr=u(96401),ar=u(7896),Ft=u(96234),jr=u(59740),yr=u(6277),dr=u(15459),pr=u(24514),cr=s.createContext({}),Wr=cr,Tr={root:{padding:0,margin:0,listStyle:"none"}};function Ne(gt,Je){if(gt.length!==Je.length)return!0;for(var Bt=0;Bt<gt.length;Bt+=1)if(gt[Bt]!==Je[Bt])return!0;return!1}var Gt=function(Je,Bt,Kt){for(var nr=Bt;nr<Je.length;nr+=1)if(Kt===Je[nr])return nr;return-1},ir=[],lr=[],Sr=s.forwardRef(function(Je,Bt){var Kt=Je.children,nr=Je.classes,Ur=Je.className,Fr=Je.defaultCollapseIcon,en=Je.defaultEndIcon,ai=Je.defaultExpanded,Hn=ai===void 0?ir:ai,Yn=Je.defaultExpandIcon,rn=Je.defaultParentIcon,tn=Je.defaultSelected,Zn=tn===void 0?lr:tn,an=Je.disableSelection,mi=an===void 0?!1:an,Pi=Je.multiSelect,ji=Pi===void 0?!1:Pi,qi=Je.expanded,Xn=Je.onNodeSelect,_n=Je.onNodeToggle,Fi=Je.selected,An=(0,jr.Z)(Je,["children","classes","className","defaultCollapseIcon","defaultEndIcon","defaultExpanded","defaultExpandIcon","defaultParentIcon","defaultSelected","disableSelection","multiSelect","expanded","onNodeSelect","onNodeToggle","selected"]),Zo=s.useState(null),Ji=Zo[0],ci=Zo[1],Eo=s.useState(null),wo=Eo[0],$o=Eo[1],fi=s.useRef({}),no=s.useRef({}),Ti=s.useRef([]),mo=(0,pr.Z)({controlled:qi,default:Hn,name:"TreeView",state:"expanded"}),Io=(0,Ft.Z)(mo,2),ao=Io[0],As=Io[1],zs=(0,pr.Z)({controlled:Fi,default:Zn,name:"TreeView",state:"selected"}),ys=(0,Ft.Z)(zs,2),Dn=ys[0],Ro=ys[1],Gi=s.useCallback(function(zr){return Array.isArray(ao)?ao.indexOf(zr)!==-1:!1},[ao]),Uo=s.useCallback(function(zr){return Array.isArray(Dn)?Dn.indexOf(zr)!==-1:Dn===zr},[Dn]),eo=function(wr){return Ji===wr},dn=function(wr){return wo===wr},Ps=function(wr){var gr=Ti.current.indexOf(wr);return gr!==-1&&gr+1<Ti.current.length?Ti.current[gr+1]:null},_i=function(wr){var gr=Ti.current.indexOf(wr);return gr!==-1&&gr-1>=0?Ti.current[gr-1]:null},Vo=function(){return Ti.current[Ti.current.length-1]},gi=function(){return Ti.current[0]},Bn=function(wr){return fi.current[wr].parent},Oo=function(wr,gr){var Hr=Ti.current.indexOf(wr),wn=Ti.current.indexOf(gr),xn=Math.min(Hr,wn),di=Math.max(Hr,wn);return Ti.current.slice(xn,di+1)},Un=function(wr){wr&&(ci(wr),$o(wr))},Oi=function(wr){return Un(Ps(wr))},pi=function(wr){return Un(_i(wr))},li=function(){return Un(gi())},Ko=function(){return Un(Vo())},po=function(wr,gr){var Hr,wn,xn=gr.toLowerCase(),di=[],yi=[];Object.keys(no.current).forEach(function(yo){var jn=no.current[yo],Vn=fi.current[yo],Ds=Vn.parent?Gi(Vn.parent):!0;Ds&&(di.push(yo),yi.push(jn))}),Hr=di.indexOf(wr)+1,Hr===fi.current.length&&(Hr=0),wn=Gt(yi,Hr,xn),wn===-1&&(wn=Gt(yi,0,xn)),wn>-1&&Un(di[wn])},vs=function(wr){var gr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:wo,Hr;ao.indexOf(gr)!==-1?(Hr=ao.filter(function(wn){return wn!==gr}),ci(function(wn){var xn=fi.current[wn];return wn&&(xn&&xn.parent?xn.parent.id:null)===gr?gr:wn})):Hr=[gr].concat(ao),_n&&_n(wr,Hr),As(Hr)},ei=function(wr,gr){var Hr=fi.current[gr],wn=fi.current[Hr.parent],xn;if(wn)xn=wn.children.filter(function(yo){return!Gi(yo)});else{var di=fi.current[-1].children;xn=di.filter(function(yo){return!Gi(yo)})}var yi=ao.concat(xn);xn.length>0&&(As(yi),_n&&_n(wr,yi))},io=s.useRef(null),lo=s.useRef(!1),Ni=s.useRef([]),Fo=function(wr,gr){var Hr=Dn,wn=gr.start,xn=gr.next,di=gr.current;!xn||!di||(Ni.current.indexOf(di)===-1&&(Ni.current=[]),lo.current?Ni.current.indexOf(xn)!==-1?(Hr=Hr.filter(function(yi){return yi===wn||yi!==di}),Ni.current=Ni.current.filter(function(yi){return yi===wn||yi!==di})):(Hr.push(xn),Ni.current.push(xn)):(Hr.push(xn),Ni.current.push(di,xn)),Xn&&Xn(wr,Hr),Ro(Hr))},Ei=function(wr,gr){var Hr=Dn,wn=gr.start,xn=gr.end;lo.current&&(Hr=Dn.filter(function(yo){return Ni.current.indexOf(yo)===-1}));var di=Oo(wn,xn);Ni.current=di;var yi=Hr.concat(di);yi=yi.filter(function(yo,jn){return yi.indexOf(yo)===jn}),Xn&&Xn(wr,yi),Ro(yi)},bs=function(wr,gr){var Hr=[];Dn.indexOf(gr)!==-1?Hr=Dn.filter(function(wn){return wn!==gr}):Hr=[gr].concat(Dn),Xn&&Xn(wr,Hr),Ro(Hr)},xo=function(wr,gr){var Hr=ji?[gr]:gr;Xn&&Xn(wr,Hr),Ro(Hr)},Jn=function(wr,gr){var Hr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return gr?(Hr?bs(wr,gr):xo(wr,gr),io.current=gr,lo.current=!1,Ni.current=[],!0):!1},Di=function(wr,gr){var Hr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,wn=gr.start,xn=wn===void 0?io.current:wn,di=gr.end,yi=gr.current;return Hr?Fo(wr,{start:xn,next:di,current:yi}):Ei(wr,{start:xn,end:di}),lo.current=!0,!0},kr=function(wr,gr){io.current||(io.current=gr);var Hr=lo.current?io.current:gr;return Di(wr,{start:Hr,end:gi()})},Qn=function(wr,gr){io.current||(io.current=gr);var Hr=lo.current?io.current:gr;return Di(wr,{start:Hr,end:Vo()})},go=function(wr,gr){return Di(wr,{end:Ps(gr),current:gr},!0)},rs=function(wr,gr){return Di(wr,{end:_i(gr),current:gr},!0)},Hs=function(wr){return Di(wr,{start:gi(),end:Vo()})},Fn=function(wr,gr){var Hr=fi.current[wr];fi.current[wr]=(0,ar.Z)({},Hr,{children:gr,id:wr}),gr.forEach(function(wn){var xn=fi.current[wn];fi.current[wn]=(0,ar.Z)({},xn,{parent:wr,id:wn})})},ns=s.useCallback(function(zr){var wr=fi.current[zr],gr=[];return wr&&(gr.push(zr),wr.children&&(gr.concat(wr.children),wr.children.forEach(function(Hr){gr.concat(ns(Hr))}))),gr},[]),is=s.useCallback(function(zr){var wr=(0,ar.Z)({},no.current);zr.forEach(function(gr){wr[gr]&&delete wr[gr]}),no.current=wr},[]),os=s.useCallback(function(zr){var wr=ns(zr);is(wr);var gr=(0,ar.Z)({},fi.current);wr.forEach(function(Hr){var wn=gr[Hr];if(wn){if(wn.parent){var xn=gr[wn.parent];if(xn&&xn.children){var di=xn.children.filter(function(yi){return yi!==Hr});gr[wn.parent]=(0,ar.Z)({},xn,{children:di})}}delete gr[Hr]}}),fi.current=gr,$o(function(Hr){return Hr===zr?null:Hr})},[ns,is]),Ts=function(wr,gr){no.current[wr]=gr},_s=s.useRef([]),bt=s.useState(!1),at=bt[0],Zi=bt[1];s.useEffect(function(){var zr=[];s.Children.forEach(Kt,function(wr){s.isValidElement(wr)&&wr.props.nodeId&&zr.push(wr.props.nodeId)}),Ne(_s.current,zr)&&(fi.current[-1]={parent:null,children:zr},zr.forEach(function(wr,gr){gr===0&&ci(wr)}),Ti.current=fi.current[-1].children,_s.current=zr,Zi(!0))},[Kt]),s.useEffect(function(){var zr=function wr(gr){for(var Hr=[],wn=0;wn<gr.length;wn+=1){var xn=gr[wn];Hr.push(xn);var di=fi.current[xn].children;Gi(xn)&&di&&(Hr=Hr.concat(wr(di)))}return Hr};at&&(Ti.current=zr(fi.current[-1].children))},[ao,at,Gi,Kt]);var Li=function(){return!1};return s.createElement(Wr.Provider,{value:{icons:{defaultCollapseIcon:Fr,defaultExpandIcon:Yn,defaultParentIcon:rn,defaultEndIcon:en},focus:Un,focusFirstNode:li,focusLastNode:Ko,focusNextNode:Oi,focusPreviousNode:pi,focusByFirstCharacter:po,expandAllSiblings:ei,toggleExpansion:vs,isExpanded:Gi,isFocused:dn,isSelected:Uo,selectNode:mi?Li:Jn,selectRange:mi?Li:Di,selectNextNode:mi?Li:go,selectPreviousNode:mi?Li:rs,rangeSelectToFirst:mi?Li:kr,rangeSelectToLast:mi?Li:Qn,selectAllNodes:mi?Li:Hs,isTabbable:eo,multiSelect:ji,getParent:Bn,mapFirstChar:Ts,addNodeToNodeMap:Fn,removeNodeFromNodeMap:os}},s.createElement("ul",(0,ar.Z)({role:"tree","aria-multiselectable":ji,className:(0,yr.default)(nr.root,Ur),ref:Bt},An),Kt))}),_r=(0,dr.Z)(Tr,{name:"MuiTreeView"})(Sr),Er=u(51209),Zr=u(41128),Ir=u(60364),Rr=u(85974),Xr=function(Je){return{root:{listStyle:"none",margin:0,padding:0,outline:0,WebkitTapHighlightColor:"transparent","&:focus > $content $label":{backgroundColor:Je.palette.action.hover},"&$selected > $content $label":{backgroundColor:(0,Zr.Fq)(Je.palette.primary.main,Je.palette.action.selectedOpacity)},"&$selected > $content $label:hover, &$selected:focus > $content $label":{backgroundColor:(0,Zr.Fq)(Je.palette.primary.main,Je.palette.action.selectedOpacity+Je.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},expanded:{},selected:{},group:{margin:0,padding:0,marginLeft:17},content:{width:"100%",display:"flex",alignItems:"center",cursor:"pointer"},iconContainer:{marginRight:4,width:15,display:"flex",flexShrink:0,justifyContent:"center","& svg":{fontSize:18}},label:{width:"100%",paddingLeft:4,position:"relative","&:hover":{backgroundColor:Je.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}}}},fn=function(Je){return Je&&Je.length===1&&Je.match(/\S/)},Nr=s.forwardRef(function(Je,Bt){var Kt=Je.children,nr=Je.classes,Ur=Je.className,Fr=Je.collapseIcon,en=Je.endIcon,ai=Je.expandIcon,Hn=Je.icon,Yn=Je.label,rn=Je.nodeId,tn=Je.onClick,Zn=Je.onLabelClick,an=Je.onIconClick,mi=Je.onFocus,Pi=Je.onKeyDown,ji=Je.onMouseDown,qi=Je.TransitionComponent,Xn=qi===void 0?ve.Z:qi,_n=Je.TransitionProps,Fi=(0,jr.Z)(Je,["children","classes","className","collapseIcon","endIcon","expandIcon","icon","label","nodeId","onClick","onLabelClick","onIconClick","onFocus","onKeyDown","onMouseDown","TransitionComponent","TransitionProps"]),An=s.useContext(Wr),Zo=An.icons,Ji=An.focus,ci=An.focusFirstNode,Eo=An.focusLastNode,wo=An.focusNextNode,$o=An.focusPreviousNode,fi=An.focusByFirstCharacter,no=An.selectNode,Ti=An.selectRange,mo=An.selectNextNode,Io=An.selectPreviousNode,ao=An.rangeSelectToFirst,As=An.rangeSelectToLast,zs=An.selectAllNodes,ys=An.expandAllSiblings,Dn=An.toggleExpansion,Ro=An.isExpanded,Gi=An.isFocused,Uo=An.isSelected,eo=An.isTabbable,dn=An.multiSelect,Ps=An.getParent,_i=An.mapFirstChar,Vo=An.addNodeToNodeMap,gi=An.removeNodeFromNodeMap,Bn=s.useRef(null),Oo=s.useRef(null),Un=(0,Rr.Z)(Bn,Bt),Oi=Hn,pi=Boolean(Array.isArray(Kt)?Kt.length:Kt),li=Ro?Ro(rn):!1,Ko=Gi?Gi(rn):!1,po=eo?eo(rn):!1,vs=Uo?Uo(rn):!1,ei=Zo||{},io=(0,Ir.Z)();Oi||(pi?(li?Oi=Fr||ei.defaultCollapseIcon:Oi=ai||ei.defaultExpandIcon,Oi||(Oi=ei.defaultParentIcon)):Oi=en||ei.defaultEndIcon);var lo=function(kr){Ko||Ji(rn);var Qn=dn&&(kr.shiftKey||kr.ctrlKey||kr.metaKey);pi&&!kr.defaultPrevented&&!(Qn&&Ro(rn))&&Dn(kr,rn),Qn?kr.shiftKey?Ti(kr,{end:rn}):no(kr,rn,!0):no(kr,rn),tn&&tn(kr)},Ni=function(kr){(kr.shiftKey||kr.ctrlKey||kr.metaKey)&&kr.preventDefault(),ji&&ji(kr)},Fo=function(kr){return pi&&(li?wo(rn):Dn(kr)),!0},Ei=function(kr){if(li)return Dn(kr,rn),!0;var Qn=Ps(rn);return Qn?(Ji(Qn),!0):!1},bs=function(kr){var Qn=!1,go=kr.key;if(!(kr.altKey||kr.currentTarget!==kr.target)){var rs=kr.ctrlKey||kr.metaKey;switch(go){case" ":Bn.current===kr.currentTarget&&(dn&&kr.shiftKey?Qn=Ti(kr,{end:rn}):dn?Qn=no(kr,rn,!0):Qn=no(kr,rn)),kr.stopPropagation();break;case"Enter":Bn.current===kr.currentTarget&&pi&&(Dn(kr),Qn=!0),kr.stopPropagation();break;case"ArrowDown":dn&&kr.shiftKey&&mo(kr,rn),wo(rn),Qn=!0;break;case"ArrowUp":dn&&kr.shiftKey&&Io(kr,rn),$o(rn),Qn=!0;break;case"ArrowRight":io.direction==="rtl"?Qn=Ei(kr):Qn=Fo(kr);break;case"ArrowLeft":io.direction==="rtl"?Qn=Fo(kr):Qn=Ei(kr);break;case"Home":dn&&rs&&kr.shiftKey&&ao(kr,rn),ci(),Qn=!0;break;case"End":dn&&rs&&kr.shiftKey&&As(kr,rn),Eo(),Qn=!0;break;default:go==="*"?(ys(kr,rn),Qn=!0):dn&&rs&&go.toLowerCase()==="a"?Qn=zs(kr):!rs&&!kr.shiftKey&&fn(go)&&(fi(rn,go),Qn=!0)}Qn&&(kr.preventDefault(),kr.stopPropagation()),Pi&&Pi(kr)}},xo=function(kr){!Ko&&kr.currentTarget===kr.target&&Ji(rn),mi&&mi(kr)};s.useEffect(function(){if(Vo){var Di=[];s.Children.forEach(Kt,function(kr){s.isValidElement(kr)&&kr.props.nodeId&&Di.push(kr.props.nodeId)}),Vo(rn,Di)}},[Kt,rn,Vo]),s.useEffect(function(){if(gi)return function(){gi(rn)}},[rn,gi]),s.useEffect(function(){_i&&Yn&&_i(rn,Oo.current.textContent.substring(0,1).toLowerCase())},[_i,rn,Yn]),s.useEffect(function(){Ko&&Bn.current.focus()},[Ko]);var Jn;return dn?Jn=vs:vs&&(Jn=!0),s.createElement("li",(0,ar.Z)({className:(0,yr.default)(nr.root,Ur,li&&nr.expanded,vs&&nr.selected),role:"treeitem",onKeyDown:bs,onFocus:xo,"aria-expanded":pi?li:null,"aria-selected":Jn,ref:Un,tabIndex:po?0:-1},Fi),s.createElement("div",{className:nr.content,onClick:lo,onMouseDown:Ni,ref:Oo},s.createElement("div",{onClick:an,className:nr.iconContainer},Oi),s.createElement(N.Z,{onClick:Zn,component:"div",className:nr.label},Yn)),Kt&&s.createElement(Xn,(0,ar.Z)({unmountOnExit:!0,className:nr.group,in:li,component:"ul",role:"group"},_n),Kt))}),ln=(0,dr.Z)(Xr,{name:"MuiTreeItem"})(Nr),mn=u(65329),vn=u(25417),gn=u(24579),un=u(82726);const cn=(0,O.Z)(gt=>({code:{fontFamily:"Menlo, monospace",padding:gt.spacing(1),backgroundColor:gt.palette.type==="dark"?gt.palette.grey[700]:gt.palette.grey[300],display:"inline-block",borderRadius:5,border:`1px solid ${gt.palette.grey[500]}`,position:"relative"},codeRequired:{"&::after":{position:"absolute",content:'"*"',top:0,right:gt.spacing(.5),fontWeight:"bolder",color:gt.palette.error.light}}})),Yr=gt=>s.createElement(_.Z,{container:!0},gt.examples.map((Je,Bt)=>s.createElement(s.Fragment,{key:`example-${Bt}`},s.createElement(_.Z,{item:!0,lg:3},s.createElement(D.Z,{padding:4},s.createElement(N.Z,null,Je.description))),s.createElement(_.Z,{item:!0,lg:9},s.createElement(D.Z,{padding:1},s.createElement(St.Oi,{text:Je.example,showLineNumbers:!0,showCopyCodeButton:!0,language:"yaml"})))))),yn=()=>{const gt=(0,He.h_)(R.lc),Je=cn(),{loading:Bt,value:Kt,error:nr}=(0,p.default)(async()=>gt.listActions()),[Ur,Fr]=(0,s.useState)({});if(Bt)return s.createElement(St.Ex,null);if(nr)return s.createElement(St.mf,{statusMessage:"Failed to load installed actions",status:"500"});const en=tn=>!tn||tn.length<1?s.createElement(N.Z,null,"No schema defined"):s.createElement(j.Z,{component:I.Z},s.createElement(G.Z,{size:"small"},s.createElement(z.Z,null,s.createElement(re.Z,null,s.createElement(ne.Z,null,"Name"),s.createElement(ne.Z,null,"Title"),s.createElement(ne.Z,null,"Description"),s.createElement(ne.Z,null,"Type"))),s.createElement(ae.Z,null,tn))),ai=tn=>{var Zn,an;return tn.type?tn.type!=="array"?[tn.type].flat():[`${tn.type}(${(an=(Zn=tn.items)==null?void 0:Zn.type)!=null?an:"unknown"})`]:["unknown"]},Hn=(tn,Zn)=>{const an=Zn==null?void 0:Zn.properties;if(an)return Object.entries(an).map(mi=>{var Pi,ji,qi;const[Xn]=mi,_n=`${tn}.${Xn}`,Fi=mi[1],An=Ge()(Je.code,{[Je.codeRequired]:(Pi=Zn.required)==null?void 0:Pi.includes(Xn)}),Zo=ai(Fi);return s.createElement(s.Fragment,{key:_n},s.createElement(re.Z,{key:_n},s.createElement(ne.Z,null,s.createElement("div",{className:An},Xn)),s.createElement(ne.Z,null,Fi.title),s.createElement(ne.Z,null,Fi.description),s.createElement(ne.Z,null,Zo.map(Ji=>Ji.includes("object")?s.createElement(qt.Z,{label:Ji,key:Ji,icon:Ur[_n]?s.createElement(Qe.Z,null):s.createElement(lt.Z,null),variant:"outlined",onClick:()=>Fr(ci=>{const Eo={...ci};return Eo[_n]=!ci[_n],Eo})}):s.createElement(qt.Z,{label:Ji,key:Ji,variant:"outlined"})))),s.createElement(re.Z,null,s.createElement(ne.Z,{style:{paddingBottom:0,paddingTop:0},colSpan:6},s.createElement(ve.Z,{in:Ur[_n],timeout:"auto",unmountOnExit:!0},s.createElement(D.Z,{sx:{margin:1}},s.createElement(N.Z,{variant:"h6",component:"div"},Xn),en(Hn(_n,Fi.type==="array"?{properties:(qi=(ji=Fi.items)==null?void 0:ji.properties)!=null?qi:{}}:Fi)))))))})},Yn=(tn,Zn,an)=>{if(an)return s.createElement(s.Fragment,null,s.createElement(N.Z,{variant:"h6",component:"h4"},tn),an.map((mi,Pi)=>s.createElement("div",{key:Pi},en(Hn(`${Zn}.${Pi}`,mi)))))},rn=Kt==null?void 0:Kt.map(tn=>{var Zn,an,mi,Pi,ji,qi;if(tn.id.startsWith("legacy:"))return;const Xn=Yn("oneOf",`${tn.id}.input`,(an=(Zn=tn.schema)==null?void 0:Zn.input)==null?void 0:an.oneOf);return s.createElement(D.Z,{pb:4,key:tn.id},s.createElement(N.Z,{variant:"h4",component:"h2",className:Je.code},tn.id),tn.description&&s.createElement(St.SA,{content:tn.description}),((mi=tn.schema)==null?void 0:mi.input)&&s.createElement(D.Z,{pb:2},s.createElement(N.Z,{variant:"h5",component:"h3"},"Input"),en(Hn(`${tn.id}.input`,(Pi=tn==null?void 0:tn.schema)==null?void 0:Pi.input)),Xn),((ji=tn.schema)==null?void 0:ji.output)&&s.createElement(D.Z,{pb:2},s.createElement(N.Z,{variant:"h5",component:"h3"},"Output"),en(Hn(`${tn.id}.output`,(qi=tn==null?void 0:tn.schema)==null?void 0:qi.output))),tn.examples&&s.createElement(M.Z,null,s.createElement(H.Z,{expandIcon:s.createElement(lt.Z,null)},s.createElement(N.Z,{variant:"h5",component:"h3"},"Examples")),s.createElement(ue.Z,null,s.createElement(D.Z,{pb:2},s.createElement(Yr,{examples:tn.examples})))))});return s.createElement(St.T3,{themeId:"home"},s.createElement(St.h4,{pageTitleOverride:"Create a New Component",title:"Installed actions",subtitle:"This is the collection of all installed actions"}),s.createElement(St.VY,null,rn))},sn=(0,O.Z)(gt=>({root:{backgroundColor:"rgba(0, 0, 0, .11)",boxShadow:"none",margin:gt.spacing(1,0,1,0)},title:{margin:gt.spacing(1,0,0,1),textTransform:"uppercase",fontSize:12,fontWeight:"bold"},listIcon:{minWidth:30,color:gt.palette.text.primary},menuItem:{minHeight:gt.spacing(6)},groupWrapper:{margin:gt.spacing(1,1,2,1)}}),{name:"ScaffolderReactOwnerListPicker"});function Qr(){return[{name:"Task Owner",items:[{id:"owned",label:"Owned",icon:dt.Z},{id:"all",label:"All",icon:wt.Z}]}]}const En=gt=>{const{filter:Je,onSelectOwner:Bt}=gt,Kt=sn(),nr=Qr();return s.createElement(X.Z,{className:Kt.root},nr.map(Ur=>s.createElement(s.Fragment,{key:Ur.name},s.createElement(N.Z,{variant:"subtitle2",component:"span",className:Kt.title},Ur.name),s.createElement(X.Z,{className:Kt.groupWrapper},s.createElement(se.Z,{disablePadding:!0,dense:!0,role:"menu"},Ur.items.map(Fr=>s.createElement(fe.Z,{key:Fr.id,button:!0,divider:!0,ContainerProps:{role:"menuitem"},onClick:()=>Bt(Fr.id),selected:Fr.id===Je,className:Kt.menuItem,"data-testid":`owner-picker-${Fr.id}`},Fr.icon&&s.createElement(ee.Z,{className:Kt.listIcon},s.createElement(Fr.icon,{fontSize:"small"})),s.createElement($.Z,null,s.createElement(N.Z,{variant:"body1"},Fr.label)))))))))},bn=window.showDirectoryPicker;class oi{constructor(Je,Bt){this.path=Je,this.handle=Bt}file(){return this.handle.getFile()}async save(Je){const Bt=await this.handle.createWritable();await Bt.write(Je),await Bt.close()}}class zi{constructor(Je){this.handle=Je}async listFiles(){const Je=[];for await(const Bt of this.listDirectoryContents(this.handle))Je.push(Bt);return Je}async*listDirectoryContents(Je,Bt=[]){for await(const Kt of Je.values())if(Kt.kind==="file")yield new oi([...Bt,Kt.name].join("/"),Kt);else if(Kt.kind==="directory"){if(Kt.name===".git")continue;yield*this.listDirectoryContents(Kt,[...Bt,Kt.name])}}}class Pe{static isSupported(){return Boolean(bn)}static async requestDirectoryAccess(){if(!bn)throw new Error("File system access is not supported");const Je=await bn();return new zi(Je)}constructor(){}}const y=64*1024,T=32*1024,V=(0,s.createContext)(void 0);function te(gt){if(gt.length>y)return window.btoa("<file too large>");try{return window.btoa(gt)}catch{const Bt=new TextEncoder().encode(gt),Kt=new Array;for(let nr=0;nr<Bt.length;nr+=T)Kt.push(String.fromCharCode(...Bt.slice(nr,nr+T)));return window.btoa(Kt.join(""))}}function xe(gt){const Je=(0,He.h_)(R.lc),[Bt,Kt]=(0,s.useState)({results:[],selectedResult:void 0}),nr=(0,s.useRef)(1),Ur=(0,s.useCallback)(Hn=>{Kt(Yn=>{const rn=Yn.results.find(tn=>tn.id===Hn);return rn===Yn.selectedResult?Yn:{results:Yn.results,selectedResult:rn}})},[]),Fr=(0,s.useCallback)(Hn=>{Kt(Yn=>{var rn;const tn=Yn.results.findIndex(mi=>mi.id===Hn);if(tn===-1)return Yn;const Zn=Yn.results.slice(),[an]=Zn.splice(tn,1);return{results:Zn,selectedResult:((rn=Yn.selectedResult)==null?void 0:rn.id)===an.id?Zn[0]:Yn.selectedResult}})},[]),en=(0,s.useCallback)(async Hn=>{if(!Je.dryRun)throw new Error("Scaffolder API does not support dry-run");const Yn=ie.ZP.parse(Hn.templateContent),tn={...await Je.dryRun({template:Yn,values:Hn.values,secrets:{},directoryContents:Hn.files.map(Zn=>({path:Zn.path,base64Content:te(Zn.content)}))}),id:nr.current++};Kt(Zn=>{var an;return{results:[...Zn.results,tn],selectedResult:(an=Zn.selectedResult)!=null?an:tn}})},[Je]),ai=(0,s.useMemo)(()=>({...Bt,selectResult:Ur,deleteResult:Fr,execute:en}),[Bt,Ur,Fr,en]);return s.createElement(V.Provider,{value:ai},gt.children)}function be(){const gt=(0,s.useContext)(V);if(!gt)throw new Error("must be used within a DryRunProvider");return gt}var Ke=(gt,Je,Bt)=>{if(!Je.has(gt))throw TypeError("Cannot "+Bt)},je=(gt,Je,Bt)=>(Ke(gt,Je,"read from private field"),Bt?Bt.call(gt):Je.get(gt)),Tt=(gt,Je,Bt)=>{if(Je.has(gt))throw TypeError("Cannot add the same private member more than once");Je instanceof WeakSet?Je.add(gt):Je.set(gt,Bt)},jt=(gt,Je,Bt,Kt)=>(Ke(gt,Je,"write to private field"),Kt?Kt.call(gt,Bt):Je.set(gt,Bt),Bt),Zt,Pr,mr,On,Mn,zn,$i,Ii,Cn;const Bo=1024*1024,So="This file is too large to be displayed";class ko{constructor(Je,Bt){Tt(this,Zt,void 0),Tt(this,Pr,void 0),Tt(this,mr,void 0),Tt(this,On,void 0),jt(this,Zt,Je),jt(this,Pr,Bt)}get path(){return je(this,Zt).path}get content(){var Je;return(Je=je(this,mr))!=null?Je:So}updateContent(Je){je(this,mr)!==void 0&&(jt(this,mr,Je),je(this,Pr).call(this))}get dirty(){return je(this,mr)!==je(this,On)}async save(){je(this,mr)!==void 0&&(await je(this,Zt).save(je(this,mr)),jt(this,On,je(this,mr)),je(this,Pr).call(this))}async reload(){const Je=await je(this,Zt).file();if(Je.size>Bo){je(this,mr)!==void 0&&(jt(this,mr,void 0),jt(this,On,void 0),je(this,Pr).call(this));return}const Bt=await Je.text();je(this,mr)!==Bt&&(jt(this,mr,Bt),jt(this,On,Bt),je(this,Pr).call(this))}}Zt=new WeakMap,Pr=new WeakMap,mr=new WeakMap,On=new WeakMap;class $n{constructor(Je){Tt(this,Mn,void 0),Tt(this,zn,new Set),Tt(this,$i,[]),Tt(this,Ii,void 0),this.setSelectedFile=Bt=>{const Kt=je(this,Ii),nr=je(this,$i).find(Ur=>Ur.path===Bt);Kt!==nr&&(jt(this,Ii,nr),je(this,Cn).call(this))},Tt(this,Cn,()=>{je(this,zn).forEach(Bt=>Bt())}),jt(this,Mn,Je)}get files(){return je(this,$i)}get selectedFile(){return je(this,Ii)}get dirty(){return je(this,$i).some(Je=>Je.dirty)}async save(){await Promise.all(je(this,$i).map(Je=>Je.save()))}async reload(){var Je;const Bt=(Je=je(this,Ii))==null?void 0:Je.path,Kt=await je(this,Mn).listFiles(),nr=await Promise.all(Kt.map(async Ur=>{const Fr=new ko(Ur,je(this,Cn));return await Fr.reload(),Fr}));je(this,$i).length=0,je(this,$i).push(...nr),this.setSelectedFile(Bt),je(this,Cn).call(this)}subscribe(Je){return je(this,zn).add(Je),()=>{je(this,zn).delete(Je)}}}Mn=new WeakMap,zn=new WeakMap,$i=new WeakMap,Ii=new WeakMap,Cn=new WeakMap;const Ri=(0,s.createContext)(void 0);function Mo(){const gt=(0,s.useContext)(Ri),Je=yt();if((0,s.useEffect)(()=>gt==null?void 0:gt.subscribe(Je),[gt,Je]),!gt)throw new Error("must be used within a DirectoryEditorProvider");return gt}function Ht(gt){const{directory:Je}=gt,[{result:Bt,error:Kt},{execute:nr}]=(0,tt.r)(async Ur=>{const Fr=new $n(Ur);await Fr.reload();const en=Fr.files.find(ai=>ai.path.match(/\.ya?ml$/));return en&&Fr.setSelectedFile(en.path),Fr});return(0,s.useEffect)(()=>{nr(Je)},[nr,Je]),Kt?s.createElement(St.yu,{error:Kt}):Bt?s.createElement(Ri.Provider,{value:Bt},gt.children):s.createElement(St.Ex,null)}const Ee=(0,O.Z)(gt=>({root:{overflowY:"auto",background:gt.palette.background.default},iconSuccess:{minWidth:0,marginRight:gt.spacing(1),color:gt.palette.status.ok},iconFailure:{minWidth:0,marginRight:gt.spacing(1),color:gt.palette.status.error}}));function F(){const gt=Ee(),Je=be();return s.createElement(se.Z,{className:gt.root,dense:!0},Je.results.map(Bt=>{var Kt;const nr=Bt.log.some(Ur=>Ur.body.status==="failed");return s.createElement(Te.Z,{button:!0,key:Bt.id,selected:((Kt=Je.selectedResult)==null?void 0:Kt.id)===Bt.id,onClick:()=>Je.selectResult(Bt.id)},s.createElement(ee.Z,{className:nr?gt.iconFailure:gt.iconSuccess},nr?s.createElement(ct.Z,null):s.createElement(Mt.Z,null)),s.createElement($.Z,{primary:`Result ${Bt.id}`}),s.createElement(Xe.Z,null,s.createElement(Ie.Z,{edge:"end","aria-label":"delete",onClick:()=>Je.deleteResult(Bt.id)},s.createElement(Qt.Z,null))))}))}const q=(0,O.Z)({root:{whiteSpace:"nowrap",overflowY:"auto"}});function _e(gt){const Je={type:"directory",name:"",path:"",children:[]};for(const Bt of gt.slice().sort()){const Kt=Bt.split("/");let nr=Je;for(let Ur=0;Ur<Kt.length;Ur++){const Fr=Kt[Ur];if(Fr==="")throw new Error("Invalid path part: ''");const en=Kt.slice(0,Ur+1).join("/"),ai=nr.children.find(Hn=>Hn.name===Fr);if((ai==null?void 0:ai.type)==="file")throw new Error(`Duplicate filename at '${en}'`);if(ai)nr=ai;else if(Ur<Kt.length-1){const Hn={type:"directory",name:Fr,path:en,children:[]},Yn=nr.children.findIndex(rn=>rn.type==="file");nr.children.splice(Yn,0,Hn),nr=Hn}else nr.children.push({type:"file",name:Fr,path:en})}}return Je.children}function Fe({entry:gt}){return gt.type==="file"?s.createElement(ln,{nodeId:gt.path,label:gt.name}):s.createElement(ln,{nodeId:gt.path,label:gt.name},gt.children.map(Je=>s.createElement(Fe,{key:Je.path,entry:Je})))}function st(gt){const Je=q(),Bt=(0,s.useMemo)(()=>_e(gt.filePaths),[gt.filePaths]);return s.createElement(_r,{selected:gt.selected,className:Je.root,defaultCollapseIcon:s.createElement(lt.Z,null),defaultExpandIcon:s.createElement(Er.Z,null),onNodeSelect:(Kt,nr)=>{gt.onSelect&&gt.filePaths.includes(nr)&&gt.onSelect(nr)}},Bt.map(Kt=>s.createElement(Fe,{key:Kt.path,entry:Kt})))}const ht=(0,O.Z)(gt=>({root:{display:"grid",gridTemplateColumns:"280px auto 3fr",gridTemplateRows:"1fr"},child:{overflowY:"auto",height:"100%",minHeight:0},firstChild:{background:gt.palette.background.paper}}));function Wt(gt){const Je=ht(),Bt=s.Children.toArray(gt.children);if(Bt.length!==2)throw new Error("must have exactly 2 children");return s.createElement("div",{className:Je.root},s.createElement("div",{className:Ge()(Je.child,Je.firstChild)},Bt[0]),s.createElement(Oe.Z,{orientation:"horizontal"}),s.createElement("div",{className:Je.child},Bt[1]))}const Lt=(0,O.Z)({root:{display:"flex",flexFlow:"column nowrap"},contentWrapper:{flex:1,position:"relative"},content:{position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex","& > *":{flex:1}},codeMirror:{height:"100%",overflowY:"auto"}});function Lr(){const gt=Lt(),{selectedResult:Je}=be(),[Bt,Kt]=(0,s.useState)(""),nr=Je==null?void 0:Je.directoryContents.find(Ur=>Ur.path===Bt);return(0,s.useEffect)(()=>{if(Je){const[Ur]=Je.directoryContents;Kt(Ur?Ur.path:"")}},[Je]),Je?s.createElement(Wt,null,s.createElement(st,{selected:Bt,onSelect:Kt,filePaths:Je.directoryContents.map(Ur=>Ur.path)}),s.createElement(Ct.ZP,{className:gt.codeMirror,theme:"dark",height:"100%",extensions:[Yt.il.define(zt.r)],readOnly:!0,value:nr!=null&&nr.base64Content?atob(nr.base64Content):""})):null}function Kr(){var gt,Je;const{selectedResult:Bt}=be(),[Kt,nr]=(0,s.useState)(),Ur=(0,s.useMemo)(()=>{var en;return Bt?(en=Bt.steps.map(ai=>{var Hn,Yn;const rn=Bt.log.filter(tn=>tn.body.stepId===ai.id);return{id:ai.id,name:ai.name,logString:rn.map(tn=>tn.body.message).join(`
`),status:(Yn=(Hn=rn[rn.length-1])==null?void 0:Hn.body.status)!=null?Yn:"completed"}}))!=null?en:[]:[]},[Bt]);if(!Bt)return null;const Fr=(gt=Ur.find(en=>en.id===Kt))!=null?gt:Ur[0];return s.createElement(Wt,null,s.createElement(Nt.l,{steps:Ur,currentStepId:Fr.id,onUserStepChange:nr}),s.createElement(St.nU,{text:(Je=Fr==null?void 0:Fr.logString)!=null?Je:""}))}function In(){var gt,Je;const Bt=Lt(),{selectedResult:Kt}=be();return Kt?s.createElement(Wt,null,s.createElement(D.Z,{pt:2},((Je=(gt=Kt.output)==null?void 0:gt.links)==null?void 0:Je.length)&&s.createElement(Nt.n,{output:Kt.output})),s.createElement(Ct.ZP,{className:Bt.codeMirror,theme:"dark",height:"100%",extensions:[Yt.il.define(zt.r)],readOnly:!0,value:JSON.stringify(Kt.output,null,2)})):null}function wi(){const gt=Lt(),[Je,Bt]=(0,s.useState)("files");return s.createElement("div",{className:gt.root},s.createElement(ot.Z,{value:Je,onChange:(Kt,nr)=>Bt(nr)},s.createElement(Xt.Z,{value:"files",label:"Files"}),s.createElement(Xt.Z,{value:"log",label:"Log"}),s.createElement(Xt.Z,{value:"output",label:"Output"})),s.createElement(Oe.Z,null),s.createElement("div",{className:gt.contentWrapper},s.createElement("div",{className:gt.content},Je==="files"&&s.createElement(Lr,null),Je==="log"&&s.createElement(Kr,null),Je==="output"&&s.createElement(In,null))))}const Ai=(0,O.Z)(gt=>({header:{height:48,minHeight:0,"&.Mui-expanded":{height:48,minHeight:0}},content:{display:"grid",background:gt.palette.background.default,gridTemplateColumns:"180px auto 1fr",gridTemplateRows:"1fr",padding:0,height:400}}));function si(){const gt=Ai(),Je=be(),[Bt,Kt]=(0,s.useState)(!1),[nr,Ur]=(0,s.useState)(!0),Fr=Je.results.length,en=ge(Fr);return(0,s.useEffect)(()=>{en===0&&Fr===1?(Ur(!1),Kt(!0)):en===1&&Fr===0&&Kt(!1)},[en,Fr]),s.createElement(s.Fragment,null,s.createElement(M.Z,{variant:"outlined",expanded:Bt,hidden:Fr===0&&nr,onChange:(ai,Hn)=>Kt(Hn),onTransitionEnd:()=>Fr===0&&Ur(!0)},s.createElement(H.Z,{className:gt.header,expandIcon:s.createElement(Qe.Z,null)},s.createElement(N.Z,null,"Dry-run results")),s.createElement(Oe.Z,{orientation:"horizontal"}),s.createElement(ue.Z,{className:gt.content},s.createElement(F,null),s.createElement(Oe.Z,{orientation:"horizontal"}),s.createElement(wi,null))))}const Si=(0,O.Z)(gt=>({button:{padding:gt.spacing(1)},buttons:{display:"flex",flexFlow:"row nowrap",alignItems:"center",justifyContent:"flex-start"},buttonsGap:{flex:"1 1 auto"},buttonsDivider:{marginBottom:gt.spacing(1)}}));function Hi(gt){var Je,Bt;const Kt=Si(),nr=Mo(),Ur=nr.files.filter(en=>en.dirty),Fr=()=>{gt.onClose&&(Ur.length>0&&!window.confirm("Are you sure? Unsaved changes will be lost")||gt.onClose())};return s.createElement(s.Fragment,null,s.createElement("div",{className:Kt.buttons},s.createElement(Se.ZP,{title:"Save all files"},s.createElement(Ie.Z,{className:Kt.button,disabled:nr.files.every(en=>!en.dirty),onClick:()=>nr.save()},s.createElement(xr.Z,null))),s.createElement(Se.ZP,{title:"Reload directory"},s.createElement(Ie.Z,{className:Kt.button,onClick:()=>nr.reload()},s.createElement(Or.Z,null))),s.createElement("div",{className:Kt.buttonsGap}),s.createElement(Se.ZP,{title:"Close directory"},s.createElement(Ie.Z,{className:Kt.button,onClick:Fr},s.createElement(fr.Z,null)))),s.createElement(Oe.Z,{className:Kt.buttonsDivider}),s.createElement(st,{selected:(Bt=(Je=nr.selectedFile)==null?void 0:Je.path)!=null?Bt:"",onSelect:nr.setSelectedFile,filePaths:nr.files.map(en=>en.path)}))}const gs=(0,O.Z)(gt=>({container:{position:"relative",width:"100%",height:"100%"},codeMirror:{position:"absolute",top:0,bottom:0,left:0,right:0},errorPanel:{color:gt.palette.error.main,lineHeight:2,margin:gt.spacing(0,1)},floatingButtons:{position:"absolute",top:gt.spacing(1),right:gt.spacing(3)},floatingButton:{padding:gt.spacing(1)}}));function ts(gt){const{errorText:Je}=gt,Bt=gs(),Kt=(0,s.useMemo)(()=>{if(!Je)return mn.mH.of(null);const nr=document.createElement("div");return nr.classList.add(Bt.errorPanel),nr.textContent=Je,mn.mH.of(()=>({dom:nr,bottom:!0}))},[Bt,Je]);return Q(nr=>nr.key==="s"&&(nr.ctrlKey||nr.metaKey),nr=>{nr.preventDefault(),gt.onSave&&gt.onSave()}),s.createElement("div",{className:Bt.container},s.createElement(Ct.ZP,{className:Bt.codeMirror,theme:"dark",height:"100%",extensions:[Yt.il.define(zt.r),Kt],value:gt.content,onChange:gt.onUpdate}),(gt.onSave||gt.onReload)&&s.createElement("div",{className:Bt.floatingButtons},s.createElement(I.Z,null,gt.onSave&&s.createElement(Se.ZP,{title:"Save file"},s.createElement(Ie.Z,{className:Bt.floatingButton,onClick:()=>{var nr;return(nr=gt.onSave)==null?void 0:nr.call(gt)}},s.createElement(xr.Z,null))),gt.onReload&&s.createElement(Se.ZP,{title:"Reload file"},s.createElement(Ie.Z,{className:Bt.floatingButton,onClick:()=>{var nr;return(nr=gt.onReload)==null?void 0:nr.call(gt)}},s.createElement(Or.Z,null))))))}function va(gt){var Je,Bt;const Kt=Mo(),nr=(Je=Kt.selectedFile)!=null&&Je.dirty?{onSave:()=>Kt.save(),onReload:()=>Kt.reload()}:{onReload:()=>Kt.reload()};return s.createElement(ts,{errorText:gt.errorText,content:(Bt=Kt.selectedFile)==null?void 0:Bt.content,onUpdate:Ur=>{var Fr;return(Fr=Kt.selectedFile)==null?void 0:Fr.updateContent(Ur)},...nr})}ts.DirectoryEditor=va;const Wo=(0,O.Z)(gt=>({introText:{textAlign:"center",marginTop:gt.spacing(2)},card:{position:"relative",maxWidth:340,marginTop:gt.spacing(4),margin:gt.spacing(0,2)},infoIcon:{position:"absolute",top:gt.spacing(1),right:gt.spacing(1)}}));function Ks(gt){const Je=Wo(),Bt=Pe.isSupported(),Kt=s.createElement(X.Z,{className:Je.card,elevation:4},s.createElement(vn.Z,{disabled:!Bt,onClick:()=>{var Fr;return(Fr=gt.onSelect)==null?void 0:Fr.call(gt,"local")}},s.createElement(gn.Z,null,s.createElement(N.Z,{variant:"h4",component:"h3",gutterBottom:!0,color:Bt?void 0:"textSecondary",style:{display:"flex",flexFlow:"row nowrap"}},"Load Template Directory"),s.createElement(N.Z,{variant:"body1",color:Bt?void 0:"textSecondary"},"Load a local template directory, allowing you to both edit and try executing your own template."))),!Bt&&s.createElement("div",{className:Je.infoIcon},s.createElement(Se.ZP,{placement:"top",title:"Only supported in some Chromium-based browsers"},s.createElement(un.Z,null)))),nr=s.createElement(X.Z,{className:Je.card,elevation:4},s.createElement(vn.Z,{onClick:()=>{var Fr;return(Fr=gt.onSelect)==null?void 0:Fr.call(gt,"form")}},s.createElement(gn.Z,null,s.createElement(N.Z,{variant:"h4",component:"h3",gutterBottom:!0},"Edit Template Form"),s.createElement(N.Z,{variant:"body1"},"Preview and edit a template form, either using a sample template or by loading a template from the catalog.")))),Ur=s.createElement(X.Z,{className:Je.card,elevation:4},s.createElement(vn.Z,{onClick:()=>{var Fr;return(Fr=gt.onSelect)==null?void 0:Fr.call(gt,"field-explorer")}},s.createElement(gn.Z,null,s.createElement(N.Z,{variant:"h4",component:"h3",gutterBottom:!0},"Custom Field Explorer"),s.createElement(N.Z,{variant:"body1"},"View and play around with available installed custom field extensions."))));return s.createElement("div",{style:gt.style},s.createElement(N.Z,{variant:"h4",component:"h2",className:Je.introText},"Get started by choosing one of the options below"),s.createElement("div",{style:{display:"flex",flexFlow:"row wrap",alignItems:"flex-start",justifyContent:"center",alignContent:"flex-start"}},Bt&&Kt,nr,!Bt&&Kt,Ur))}},34812:function(Le,w,u){"use strict";var s,p=u(71600),R=u(34590);s={value:!0},w.Z=void 0;var O=R(u(2784)),_=p(u(50175)),D=(0,_.default)(O.createElement("path",{d:"M16.59 7.58L10 14.17l-3.59-3.58L5 12l5 5 8-8zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"CheckCircleOutline");w.Z=D},22983:function(Le,w,u){"use strict";var s,p=u(71600),R=u(34590);s={value:!0},w.Z=void 0;var O=R(u(2784)),_=p(u(50175)),D=(0,_.default)(O.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");w.Z=D},16715:function(Le,w,u){"use strict";var s,p=u(71600),R=u(34590);s={value:!0},w.Z=void 0;var O=R(u(2784)),_=p(u(50175)),D=(0,_.default)(O.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"}),"Error");w.Z=D},82726:function(Le,w,u){"use strict";var s,p=u(71600),R=u(34590);s={value:!0},w.Z=void 0;var O=R(u(2784)),_=p(u(50175)),D=(0,_.default)(O.createElement("path",{d:"M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}),"InfoOutlined");w.Z=D},5075:function(Le,w,u){"use strict";var s,p=u(71600),R=u(34590);s={value:!0},w.Z=void 0;var O=R(u(2784)),_=p(u(50175)),D=(0,_.default)(O.createElement("path",{d:"M3 13h2v-2H3v2zm0 4h2v-2H3v2zm0-8h2V7H3v2zm4 4h14v-2H7v2zm0 4h14v-2H7v2zM7 7v2h14V7H7z"}),"List");w.Z=D},34063:function(Le,w,u){"use strict";var s,p=u(71600),R=u(34590);s={value:!0},w.Z=void 0;var O=R(u(2784)),_=p(u(50175)),D=(0,_.default)(O.createElement("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}),"PanoramaFishEye");w.Z=D},49423:function(Le,w,u){"use strict";var s,p=u(71600),R=u(34590);s={value:!0},w.Z=void 0;var O=R(u(2784)),_=p(u(50175)),D=(0,_.default)(O.createElement("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"}),"Refresh");w.Z=D},71140:function(Le,w,u){"use strict";var s,p=u(71600),R=u(34590);s={value:!0},w.Z=void 0;var O=R(u(2784)),_=p(u(50175)),D=(0,_.default)(O.createElement("path",{d:"M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}),"RemoveCircleOutline");w.Z=D},96401:function(Le,w,u){"use strict";var s,p=u(71600),R=u(34590);s={value:!0},w.Z=void 0;var O=R(u(2784)),_=p(u(50175)),D=(0,_.default)(O.createElement("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"}),"Save");w.Z=D},27057:function(Le,w,u){"use strict";var s,p=u(71600),R=u(34590);s={value:!0},w.Z=void 0;var O=R(u(2784)),_=p(u(50175)),D=(0,_.default)(O.createElement("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-5 14H4v-4h11v4zm0-5H4V9h11v4zm5 5h-4V9h4v9z"}),"Web");w.Z=D},51967:function(Le,w,u){"use strict";u.d(w,{r:function(){return _}});var s=u(2784),p=u(78887),R=u(77246),O=function(){return O=Object.assign||function(D){for(var N,j=1,I=arguments.length;j<I;j++){N=arguments[j];for(var G in N)Object.prototype.hasOwnProperty.call(N,G)&&(D[G]=N[G])}return D},O.apply(this,arguments)};function _(D,N){var j=(0,p.F)({status:"not-executed",error:void 0,result:N}),I=j[0],G=j[1],z=(0,s.useRef)(),re=(0,s.useRef)(),ne=(0,R.x)({execute:function(){for(var ae=[],ve=0;ve<arguments.length;ve++)ae[ve]=arguments[ve];re.current=ae;var M=D.apply(void 0,ae);return z.current=M,G(function(H){return O(O({},H),{status:"loading"})}),M.then(function(H){M===z.current&&G(function(ue){return O(O({},ue),{status:"success",error:void 0,result:H})})},function(H){M===z.current&&G(function(ue){return O(O({},ue),{status:"error",error:H})})}),M},reset:function(){G({status:"not-executed",error:void 0,result:N}),z.current=void 0,re.current=void 0}});return[I,(0,s.useMemo)(function(){return{reset:function(){ne.current.reset()},execute:function(){for(var ae,ve=[],M=0;M<arguments.length;M++)ve[M]=arguments[M];return(ae=ne.current).execute.apply(ae,ve)}}},[]),{promise:z.current,lastArgs:re.current}]}},78887:function(Le,w,u){"use strict";u.d(w,{F:function(){return R}});var s=u(2784),p=u(29862);function R(O){var _=(0,s.useState)(O),D=_[0],N=_[1],j=(0,p.t)(!0);return[D,(0,s.useCallback)(function(I){j()&&N(I)},[])]}},74182:function(Le,w,u){"use strict";u.d(w,{ZP:function(){return Ya},P6:function(){return s},Zz:function(){return fl}});var s={};u.r(s),u.d(s,{jk:function(){return Lo},TE:function(){return Ga},mH:function(){return Fs},Rc:function(){return Co},OP:function(){return qn},qt:function(){return Pt},Tx:function(){return la},c6:function(){return Xi},ON:function(){return wa},Ek:function(){return co},f_:function(){return us},LI:function(){return xs},us:function(){return Yo},sm:function(){return Qo},H7:function(){return Fa},nb:function(){return Xo},FZ:function(){return Ls},qX:function(){return ua},Kn:function(){return Ci},pA:function(){return Ns},_4:function(){return kn},PM:function(){return cs},pp:function(){return ds},$2:function(){return fs},vk:function(){return Tn},xk:function(){return Br},um:function(){return vi},u6:function(){return C},iE:function(){return bi},N0:function(){return or},tC:function(){return Sn},iZ:function(){return vr},J2:function(){return Ar},Yp:function(){return Kn}});var p=u(2784),R=u(13888),O=u.n(R),_=u(72579),D=u.n(_),N=u(45455),j=u.n(N);function I(o){var h=o.errors;return p.createElement("div",{className:"panel panel-danger errors"},p.createElement("div",{className:"panel-heading"},p.createElement("h3",{className:"panel-title"},"Errors")),p.createElement("ul",{className:"list-group"},h.map(function(x,g){return p.createElement("li",{key:g,className:"list-group-item text-danger"},x.stack)})))}var G=u(38294),z=u(76485),re=u.n(z),ne=u(29320),ae=u.n(ne),ve=u(26139),M=u.n(ve),H=u(404);function ue(){return ue=Object.assign||function(o){for(var h=1;h<arguments.length;h++){var x=arguments[h];for(var g in x)Object.prototype.hasOwnProperty.call(x,g)&&(o[g]=x[g])}return o},ue.apply(this,arguments)}function X(o,h){if(o==null)return{};var x=se(o,h),g,L;if(Object.getOwnPropertySymbols){var ye=Object.getOwnPropertySymbols(o);for(L=0;L<ye.length;L++)g=ye[L],!(h.indexOf(g)>=0)&&Object.prototype.propertyIsEnumerable.call(o,g)&&(x[g]=o[g])}return x}function se(o,h){if(o==null)return{};var x={},g=Object.keys(o),L,ye;for(ye=0;ye<g.length;ye++)L=g[ye],!(h.indexOf(L)>=0)&&(x[L]=o[L]);return x}function fe(o){var h=o.type,x=h===void 0?"default":h,g=o.icon,L=o.className,ye=X(o,["type","icon","className"]);return p.createElement("button",ue({type:"button",className:"btn btn-".concat(x," ").concat(L)},ye),p.createElement("i",{className:"glyphicon glyphicon-".concat(g)}))}function ee(o){var h=o.className,x=o.onClick,g=o.disabled;return p.createElement("div",{className:"row"},p.createElement("p",{className:"col-xs-3 col-xs-offset-9 text-right ".concat(h)},p.createElement(fe,{type:"info",icon:"plus",className:"btn-add col-xs-12","aria-label":"Add",tabIndex:"0",onClick:x,disabled:g})))}var $=u(5594),Se=u.n($),Ie=u(13980),Oe=u.n(Ie),We=Oe().shape({ArrayFieldTemplate:Oe().elementType,FieldTemplate:Oe().elementType,ObjectFieldTemplate:Oe().elementType,definitions:Oe().object.isRequired,rootSchema:Oe().object,fields:Oe().objectOf(Oe().elementType).isRequired,formContext:Oe().object.isRequired,widgets:Oe().objectOf(Oe().oneOfType([Oe().func,Oe().object])).isRequired}),Ge={autofocus:Oe().bool,disabled:Oe().bool,errorSchema:Oe().object,formData:Oe().any,idSchema:Oe().object,onBlur:Oe().func,onChange:Oe().func.isRequired,onFocus:Oe().func,rawErrors:Oe().arrayOf(Oe().string),readonly:Oe().bool,registry:We.isRequired,required:Oe().bool,schema:Oe().object.isRequired,uiSchema:Oe().shape({"ui:options":Oe().shape({addable:Oe().bool,orderable:Oe().bool,removable:Oe().bool})})},lt=u(37164);function Qe(o){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Qe=function(x){return typeof x}:Qe=function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},Qe(o)}function He(o,h){if(o==null)return{};var x=St(o,h),g,L;if(Object.getOwnPropertySymbols){var ye=Object.getOwnPropertySymbols(o);for(L=0;L<ye.length;L++)g=ye[L],!(h.indexOf(g)>=0)&&Object.prototype.propertyIsEnumerable.call(o,g)&&(x[g]=o[g])}return x}function St(o,h){if(o==null)return{};var x={},g=Object.keys(o),L,ye;for(ye=0;ye<g.length;ye++)L=g[ye],!(h.indexOf(L)>=0)&&(x[L]=o[L]);return x}function qt(o){for(var h=1;h<arguments.length;h++){var x=arguments[h]!=null?arguments[h]:{},g=Object.keys(x);typeof Object.getOwnPropertySymbols=="function"&&(g=g.concat(Object.getOwnPropertySymbols(x).filter(function(L){return Object.getOwnPropertyDescriptor(x,L).enumerable}))),g.forEach(function(L){Ve(o,L,x[L])})}return o}function dt(o){return Ze(o)||rt(o)||wt()}function wt(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function rt(o){if(Symbol.iterator in Object(o)||Object.prototype.toString.call(o)==="[object Arguments]")return Array.from(o)}function Ze(o){if(Array.isArray(o)){for(var h=0,x=new Array(o.length);h<o.length;h++)x[h]=o[h];return x}}function yt(o,h){if(!(o instanceof h))throw new TypeError("Cannot call a class as a function")}function tt(o,h){for(var x=0;x<h.length;x++){var g=h[x];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(o,g.key,g)}}function ge(o,h,x){return h&&tt(o.prototype,h),x&&tt(o,x),o}function $e(o,h){return h&&(Qe(h)==="object"||typeof h=="function")?h:_t(o)}function mt(o){return mt=Object.setPrototypeOf?Object.getPrototypeOf:function(x){return x.__proto__||Object.getPrototypeOf(x)},mt(o)}function _t(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function Vt(o,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(h&&h.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),h&&Cr(o,h)}function Cr(o,h){return Cr=Object.setPrototypeOf||function(g,L){return g.__proto__=L,g},Cr(o,h)}function Ve(o,h,x){return h in o?Object.defineProperty(o,h,{value:x,enumerable:!0,configurable:!0,writable:!0}):o[h]=x,o}function K(o){var h=o.TitleField,x=o.idSchema,g=o.title,L=o.required;if(!g)return null;var ye="".concat(x.$id,"__title");return p.createElement(h,{id:ye,title:g,required:L})}function Z(o){var h=o.DescriptionField,x=o.idSchema,g=o.description;if(!g)return null;var L="".concat(x.$id,"__description");return p.createElement(h,{id:L,description:g})}function Q(o){var h={flex:1,paddingLeft:6,paddingRight:6,fontWeight:"bold"};return p.createElement("div",{key:o.key,className:o.className},p.createElement("div",{className:o.hasToolbar?"col-xs-9":"col-xs-12"},o.children),o.hasToolbar&&p.createElement("div",{className:"col-xs-3 array-item-toolbox"},p.createElement("div",{className:"btn-group",style:{display:"flex",justifyContent:"space-around"}},(o.hasMoveUp||o.hasMoveDown)&&p.createElement(fe,{icon:"arrow-up","aria-label":"Move up",className:"array-item-move-up",tabIndex:"-1",style:h,disabled:o.disabled||o.readonly||!o.hasMoveUp,onClick:o.onReorderClick(o.index,o.index-1)}),(o.hasMoveUp||o.hasMoveDown)&&p.createElement(fe,{icon:"arrow-down",className:"array-item-move-down","aria-label":"Move down",tabIndex:"-1",style:h,disabled:o.disabled||o.readonly||!o.hasMoveDown,onClick:o.onReorderClick(o.index,o.index+1)}),o.hasRemove&&p.createElement(fe,{type:"danger",icon:"remove","aria-label":"Remove",className:"array-item-remove",tabIndex:"-1",style:h,disabled:o.disabled||o.readonly,onClick:o.onDropIndexClick(o.index)}))))}function ie(o){return p.createElement("fieldset",{className:o.className,id:o.idSchema.$id},p.createElement(K,{key:"array-field-title-".concat(o.idSchema.$id),TitleField:o.TitleField,idSchema:o.idSchema,title:o.uiSchema["ui:title"]||o.title,required:o.required}),(o.uiSchema["ui:description"]||o.schema.description)&&p.createElement("div",{className:"field-description",key:"field-description-".concat(o.idSchema.$id)},o.uiSchema["ui:description"]||o.schema.description),p.createElement("div",{className:"row array-item-list",key:"array-item-list-".concat(o.idSchema.$id)},o.items&&o.items.map(Q)),o.canAdd&&p.createElement(ee,{className:"array-item-add",onClick:o.onAddClick,disabled:o.disabled||o.readonly}))}function Te(o){return p.createElement("fieldset",{className:o.className,id:o.idSchema.$id},p.createElement(K,{key:"array-field-title-".concat(o.idSchema.$id),TitleField:o.TitleField,idSchema:o.idSchema,title:o.uiSchema["ui:title"]||o.title,required:o.required}),(o.uiSchema["ui:description"]||o.schema.description)&&p.createElement(Z,{key:"array-field-description-".concat(o.idSchema.$id),DescriptionField:o.DescriptionField,idSchema:o.idSchema,description:o.uiSchema["ui:description"]||o.schema.description}),p.createElement("div",{className:"row array-item-list",key:"array-item-list-".concat(o.idSchema.$id)},o.items&&o.items.map(function(h){return Q(h)})),o.canAdd&&p.createElement(ee,{className:"array-item-add",onClick:o.onAddClick,disabled:o.disabled||o.readonly}))}function Xe(){return(0,lt.x0)()}function ct(o){return Array.isArray(o)?o.map(function(h){return{key:Xe(),item:h}}):[]}function Mt(o){return o.map(function(h){return h.item})}var Qt=function(o){Vt(h,o);function h(x){var g;yt(this,h),g=$e(this,mt(h).call(this,x)),Ve(_t(g),"_getNewFormDataRow",function(){var qe=g.props,nt=qe.schema,ft=qe.registry,Ot=ft===void 0?Xi():ft,xt=Ot.rootSchema,a=nt.items;return Ls(nt)&&Ga(nt)&&(a=nt.additionalItems),la(a,void 0,xt)}),Ve(_t(g),"onAddClick",function(qe){qe&&qe.preventDefault();var nt=g.props.onChange,ft={key:Xe(),item:g._getNewFormDataRow()},Ot=[].concat(dt(g.state.keyedFormData),[ft]);g.setState({keyedFormData:Ot,updatedKeyedFormData:!0},function(){return nt(Mt(Ot))})}),Ve(_t(g),"onAddIndexClick",function(qe){return function(nt){nt&&nt.preventDefault();var ft=g.props.onChange,Ot={key:Xe(),item:g._getNewFormDataRow()},xt=dt(g.state.keyedFormData);xt.splice(qe,0,Ot),g.setState({keyedFormData:xt,updatedKeyedFormData:!0},function(){return ft(Mt(xt))})}}),Ve(_t(g),"onDropIndexClick",function(qe){return function(nt){nt&&nt.preventDefault();var ft=g.props.onChange,Ot=g.state.keyedFormData,xt;if(g.props.errorSchema){xt={};var a=g.props.errorSchema;for(var e in a)e=parseInt(e),e<qe?xt[e]=a[e]:e>qe&&(xt[e-1]=a[e])}var t=Ot.filter(function(r,l){return l!==qe});g.setState({keyedFormData:t,updatedKeyedFormData:!0},function(){return ft(Mt(t),xt)})}}),Ve(_t(g),"onReorderClick",function(qe,nt){return function(ft){ft&&(ft.preventDefault(),ft.target.blur());var Ot=g.props.onChange,xt;if(g.props.errorSchema){xt={};var a=g.props.errorSchema;for(var e in a)e==qe?xt[nt]=a[qe]:e==nt?xt[qe]=a[nt]:xt[e]=a[e]}var t=g.state.keyedFormData;function r(){var v=t.slice();return v.splice(qe,1),v.splice(nt,0,t[qe]),v}var l=r();g.setState({keyedFormData:l},function(){return Ot(Mt(l),xt)})}}),Ve(_t(g),"onChangeForIndex",function(qe){return function(nt,ft){var Ot=g.props,xt=Ot.formData,a=Ot.onChange,e=xt.map(function(t,r){var l=typeof nt=="undefined"?null:nt;return qe===r?l:t});a(e,ft&&g.props.errorSchema&&qt({},g.props.errorSchema,Ve({},qe,ft)))}}),Ve(_t(g),"onSelectChange",function(qe){g.props.onChange(qe)});var L=x.formData,ye=ct(L);return g.state={keyedFormData:ye,updatedKeyedFormData:!1},g}return ge(h,[{key:"isItemRequired",value:function(g){return Array.isArray(g.type)?!Se()(g.type,"null"):g.type!=="null"}},{key:"canAddItem",value:function(g){var L=this.props,ye=L.schema,qe=L.uiSchema,nt=xs(qe),ft=nt.addable;return ft!==!1&&(ye.maxItems!==void 0?ft=g.length<ye.maxItems:ft=!0),ft}},{key:"render",value:function(){var g=this.props,L=g.schema,ye=g.uiSchema,qe=g.idSchema,nt=g.registry,ft=nt===void 0?Xi():nt,Ot=ft.rootSchema;if(!L.hasOwnProperty("items")){var xt=ft.fields,a=xt.UnsupportedField;return p.createElement(a,{schema:L,idSchema:qe,reason:"Missing items definition"})}return Ls(L)?this.renderFixedArray():Xo(L,ye,Ot)?this.renderFiles():ua(L,Ot)?this.renderMultiSelect():this.renderNormalArray()}},{key:"renderNormalArray",value:function(){var g=this,L=this.props,ye=L.schema,qe=L.uiSchema,nt=L.errorSchema,ft=L.idSchema,Ot=L.name,xt=L.required,a=L.disabled,e=L.readonly,t=L.autofocus,r=L.registry,l=r===void 0?Xi():r,v=L.onBlur,A=L.onFocus,B=L.idPrefix,Y=L.rawErrors,pe=ye.title===void 0?Ot:ye.title,he=l.ArrayFieldTemplate,ke=l.rootSchema,it=l.fields,pt=l.formContext,kt=it.TitleField,Jt=it.DescriptionField,Rt=C(ye.items,ke),sr=Mt(this.state.keyedFormData),er={canAdd:this.canAddItem(sr),items:this.state.keyedFormData.map(function(Dr,nn){var qr=Dr.key,hi=Dr.item,ro=C(ye.items,ke,hi),ho=nt?nt[nn]:void 0,Cs=ft.$id+"_"+nn,ia=vr(ro,Cs,ke,hi,B);return g.renderArrayFieldItem({key:qr,index:nn,canMoveUp:nn>0,canMoveDown:nn<sr.length-1,itemSchema:ro,itemIdSchema:ia,itemErrorSchema:ho,itemData:hi,itemUiSchema:qe.items,autofocus:t&&nn===0,onBlur:v,onFocus:A})}),className:"field field-array field-array-of-".concat(Rt.type),DescriptionField:Jt,disabled:a,idSchema:ft,uiSchema:qe,onAddClick:this.onAddClick,readonly:e,required:xt,schema:ye,title:pe,TitleField:kt,formContext:pt,formData:sr,rawErrors:Y,registry:l},hn=qe["ui:ArrayFieldTemplate"]||he||Te;return p.createElement(hn,er)}},{key:"renderMultiSelect",value:function(){var g=this.props,L=g.schema,ye=g.idSchema,qe=g.uiSchema,nt=g.formData,ft=g.disabled,Ot=g.readonly,xt=g.required,a=g.placeholder,e=g.autofocus,t=g.onBlur,r=g.onFocus,l=g.registry,v=l===void 0?Xi():l,A=g.rawErrors,B=g.name,Y=this.props.formData,pe=v.widgets,he=v.rootSchema,ke=v.formContext,it=C(L.items,he,nt),pt=L.title||B,kt=ds(it),Jt=qt({},xs(qe),{enumOptions:kt}),Rt=Jt.widget,sr=Rt===void 0?"select":Rt,er=He(Jt,["widget"]),hn=Yo(L,sr,pe);return p.createElement(hn,{id:ye&&ye.$id,multiple:!0,onChange:this.onSelectChange,onBlur:t,onFocus:r,options:er,schema:L,registry:v,value:Y,disabled:ft,readonly:Ot,required:xt,label:pt,placeholder:a,formContext:ke,autofocus:e,rawErrors:A})}},{key:"renderFiles",value:function(){var g=this.props,L=g.schema,ye=g.uiSchema,qe=g.idSchema,nt=g.name,ft=g.disabled,Ot=g.readonly,xt=g.autofocus,a=g.onBlur,e=g.onFocus,t=g.registry,r=t===void 0?Xi():t,l=g.rawErrors,v=L.title||nt,A=this.props.formData,B=r.widgets,Y=r.formContext,pe=xs(ye),he=pe.widget,ke=he===void 0?"files":he,it=He(pe,["widget"]),pt=Yo(L,ke,B);return p.createElement(pt,{options:it,id:qe&&qe.$id,multiple:!0,onChange:this.onSelectChange,onBlur:a,onFocus:e,schema:L,title:v,value:A,disabled:ft,readonly:Ot,formContext:Y,autofocus:xt,rawErrors:l})}},{key:"renderFixedArray",value:function(){var g=this,L=this.props,ye=L.schema,qe=L.uiSchema,nt=L.formData,ft=L.errorSchema,Ot=L.idPrefix,xt=L.idSchema,a=L.name,e=L.required,t=L.disabled,r=L.readonly,l=L.autofocus,v=L.registry,A=v===void 0?Xi():v,B=L.onBlur,Y=L.onFocus,pe=L.rawErrors,he=ye.title||a,ke=this.props.formData,it=A.ArrayFieldTemplate,pt=A.rootSchema,kt=A.fields,Jt=A.formContext,Rt=kt.TitleField,sr=ye.items.map(function(nn,qr){return C(nn,pt,nt[qr])}),er=Ga(ye)?C(ye.additionalItems,pt,nt):null;(!ke||ke.length<sr.length)&&(ke=ke||[],ke=ke.concat(new Array(sr.length-ke.length)));var hn={canAdd:this.canAddItem(ke)&&er,className:"field field-array field-array-fixed-items",disabled:t,idSchema:xt,formData:nt,items:this.state.keyedFormData.map(function(nn,qr){var hi=nn.key,ro=nn.item,ho=qr>=sr.length,Cs=ho?C(ye.additionalItems,pt,ro):sr[qr],ia=xt.$id+"_"+qr,Zs=vr(Cs,ia,pt,ro,Ot),Za=ho?qe.additionalItems||{}:Array.isArray(qe.items)?qe.items[qr]:qe.items||{},Us=ft?ft[qr]:void 0;return g.renderArrayFieldItem({key:hi,index:qr,canRemove:ho,canMoveUp:qr>=sr.length+1,canMoveDown:ho&&qr<ke.length-1,itemSchema:Cs,itemData:ro,itemUiSchema:Za,itemIdSchema:Zs,itemErrorSchema:Us,autofocus:l&&qr===0,onBlur:B,onFocus:Y})}),onAddClick:this.onAddClick,readonly:r,required:e,schema:ye,uiSchema:qe,title:he,TitleField:Rt,formContext:Jt,rawErrors:pe},Dr=qe["ui:ArrayFieldTemplate"]||it||ie;return p.createElement(Dr,hn)}},{key:"renderArrayFieldItem",value:function(g){var L=g.key,ye=g.index,qe=g.canRemove,nt=qe===void 0?!0:qe,ft=g.canMoveUp,Ot=ft===void 0?!0:ft,xt=g.canMoveDown,a=xt===void 0?!0:xt,e=g.itemSchema,t=g.itemData,r=g.itemUiSchema,l=g.itemIdSchema,v=g.itemErrorSchema,A=g.autofocus,B=g.onBlur,Y=g.onFocus,pe=g.rawErrors,he=this.props,ke=he.disabled,it=he.readonly,pt=he.uiSchema,kt=he.registry,Jt=kt===void 0?Xi():kt,Rt=Jt.fields.SchemaField,sr=qt({orderable:!0,removable:!0},pt["ui:options"]),er=sr.orderable,hn=sr.removable,Dr={moveUp:er&&Ot,moveDown:er&&a,remove:hn&&nt};return Dr.toolbar=Object.keys(Dr).some(function(nn){return Dr[nn]}),{children:p.createElement(Rt,{index:ye,schema:e,uiSchema:r,formData:t,errorSchema:v,idSchema:l,required:this.isItemRequired(e),onChange:this.onChangeForIndex(ye),onBlur:B,onFocus:Y,registry:this.props.registry,disabled:this.props.disabled,readonly:this.props.readonly,autofocus:A,rawErrors:pe}),className:"array-item",disabled:ke,hasToolbar:Dr.toolbar,hasMoveUp:Dr.moveUp,hasMoveDown:Dr.moveDown,hasRemove:Dr.remove,index:ye,key:L,onAddIndexClick:this.onAddIndexClick,onDropIndexClick:this.onDropIndexClick,onReorderClick:this.onReorderClick,readonly:it}}},{key:"itemTitle",get:function(){var g=this.props.schema;return g.items.title||g.items.description||"Item"}}],[{key:"getDerivedStateFromProps",value:function(g,L){if(L.updatedKeyedFormData)return{updatedKeyedFormData:!1};var ye=g.formData||[],qe=L.keyedFormData||[],nt=ye.length===qe.length?qe.map(function(ft,Ot){return{key:ft.key,item:ye[Ot]}}):ct(ye);return{keyedFormData:nt}}}]),h}(p.Component);Ve(Qt,"defaultProps",{uiSchema:{},formData:[],idSchema:{},required:!1,disabled:!1,readonly:!1,autofocus:!1});var Yt=Qt;function zt(o){for(var h=1;h<arguments.length;h++){var x=arguments[h]!=null?arguments[h]:{},g=Object.keys(x);typeof Object.getOwnPropertySymbols=="function"&&(g=g.concat(Object.getOwnPropertySymbols(x).filter(function(L){return Object.getOwnPropertyDescriptor(x,L).enumerable}))),g.forEach(function(L){Xt(o,L,x[L])})}return o}function Xt(o,h,x){return h in o?Object.defineProperty(o,h,{value:x,enumerable:!0,configurable:!0,writable:!0}):o[h]=x,o}function ot(o,h){if(o==null)return{};var x=Ct(o,h),g,L;if(Object.getOwnPropertySymbols){var ye=Object.getOwnPropertySymbols(o);for(L=0;L<ye.length;L++)g=ye[L],!(h.indexOf(g)>=0)&&Object.prototype.propertyIsEnumerable.call(o,g)&&(x[g]=o[g])}return x}function Ct(o,h){if(o==null)return{};var x={},g=Object.keys(o),L,ye;for(ye=0;ye<g.length;ye++)L=g[ye],!(h.indexOf(L)>=0)&&(x[L]=o[L]);return x}function Nt(o){var h=o.schema,x=o.name,g=o.uiSchema,L=o.idSchema,ye=o.formData,qe=o.registry,nt=qe===void 0?Xi():qe,ft=o.required,Ot=o.disabled,xt=o.readonly,a=o.autofocus,e=o.onChange,t=o.onFocus,r=o.onBlur,l=o.rawErrors,v=h.title,A=nt.widgets,B=nt.formContext,Y=nt.fields,pe=xs(g),he=pe.widget,ke=he===void 0?"checkbox":he,it=ot(pe,["widget"]),pt=Yo(h,ke,A),kt;return Array.isArray(h.oneOf)?kt=ds({oneOf:h.oneOf.map(function(Jt){return zt({},Jt,{title:Jt.title||(Jt.const===!0?"Yes":"No")})})}):kt=ds({enum:h.enum||[!0,!1],enumNames:h.enumNames||(h.enum&&h.enum[0]===!1?["No","Yes"]:["Yes","No"])}),p.createElement(pt,{options:zt({},it,{enumOptions:kt}),schema:h,uiSchema:g,id:L&&L.$id,onChange:e,onFocus:t,onBlur:r,label:v===void 0?x:v,value:ye,required:ft,disabled:Ot,readonly:xt,registry:nt,formContext:B,autofocus:a,rawErrors:l,DescriptionField:Y.DescriptionField})}Nt.defaultProps={uiSchema:{},disabled:!1,readonly:!1,autofocus:!1};var fr=Nt;function Or(o){var h=o.id,x=o.description;return x?typeof x=="string"?p.createElement("p",{id:h,className:"field-description"},x):p.createElement("div",{id:h,className:"field-description"},x):null}var xr=Or;function ar(o){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ar=function(x){return typeof x}:ar=function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},ar(o)}function Ft(){return Ft=Object.assign||function(o){for(var h=1;h<arguments.length;h++){var x=arguments[h];for(var g in x)Object.prototype.hasOwnProperty.call(x,g)&&(o[g]=x[g])}return o},Ft.apply(this,arguments)}function jr(o,h){if(o==null)return{};var x=yr(o,h),g,L;if(Object.getOwnPropertySymbols){var ye=Object.getOwnPropertySymbols(o);for(L=0;L<ye.length;L++)g=ye[L],!(h.indexOf(g)>=0)&&Object.prototype.propertyIsEnumerable.call(o,g)&&(x[g]=o[g])}return x}function yr(o,h){if(o==null)return{};var x={},g=Object.keys(o),L,ye;for(ye=0;ye<g.length;ye++)L=g[ye],!(h.indexOf(L)>=0)&&(x[L]=o[L]);return x}function dr(o,h){if(!(o instanceof h))throw new TypeError("Cannot call a class as a function")}function pr(o,h){for(var x=0;x<h.length;x++){var g=h[x];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(o,g.key,g)}}function cr(o,h,x){return h&&pr(o.prototype,h),x&&pr(o,x),o}function Wr(o,h){return h&&(ar(h)==="object"||typeof h=="function")?h:Ne(o)}function Tr(o){return Tr=Object.setPrototypeOf?Object.getPrototypeOf:function(x){return x.__proto__||Object.getPrototypeOf(x)},Tr(o)}function Ne(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function Gt(o,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(h&&h.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),h&&ir(o,h)}function ir(o,h){return ir=Object.setPrototypeOf||function(g,L){return g.__proto__=L,g},ir(o,h)}function lr(o,h,x){return h in o?Object.defineProperty(o,h,{value:x,enumerable:!0,configurable:!0,writable:!0}):o[h]=x,o}var Sr=function(o){Gt(h,o);function h(x){var g;dr(this,h),g=Wr(this,Tr(h).call(this,x)),lr(Ne(g),"onOptionChange",function(nt){var ft=parseInt(nt,10),Ot=g.props,xt=Ot.formData,a=Ot.onChange,e=Ot.options,t=Ot.registry,r=t.rootSchema,l=C(e[ft],r,xt),v=void 0;if(Qo(xt)==="object"&&(l.type==="object"||l.properties)){v=Object.assign({},xt);var A=e.slice();A.splice(ft,1);var B=!0,Y=!1,pe=void 0;try{for(var he=A[Symbol.iterator](),ke;!(B=(ke=he.next()).done);B=!0){var it=ke.value;if(it.properties)for(var pt in it.properties)v.hasOwnProperty(pt)&&delete v[pt]}}catch(kt){Y=!0,pe=kt}finally{try{!B&&he.return!=null&&he.return()}finally{if(Y)throw pe}}}a(la(e[ft],v,r)),g.setState({selectedOption:parseInt(nt,10)})});var L=g.props,ye=L.formData,qe=L.options;return g.state={selectedOption:g.getMatchingOption(ye,qe)},g}return cr(h,[{key:"componentDidUpdate",value:function(g,L){if(!Pt(this.props.formData,g.formData)&&this.props.idSchema.$id===g.idSchema.$id){var ye=this.getMatchingOption(this.props.formData,this.props.options);if(!L||ye===this.state.selectedOption)return;this.setState({selectedOption:ye})}}},{key:"getMatchingOption",value:function(g,L){var ye=this.props.registry.rootSchema,qe=co(g,L,ye);return qe!==0?qe:this&&this.state?this.state.selectedOption:0}},{key:"render",value:function(){var g=this.props,L=g.baseType,ye=g.disabled,qe=g.errorSchema,nt=g.formData,ft=g.idPrefix,Ot=g.idSchema,xt=g.onBlur,a=g.onChange,e=g.onFocus,t=g.options,r=g.registry,l=g.uiSchema,v=g.schema,A=r.fields.SchemaField,B=r.widgets,Y=this.state.selectedOption,pe=xs(l),he=pe.widget,ke=he===void 0?"select":he,it=jr(pe,["widget"]),pt=Yo({type:"number"},ke,B),kt=t[Y]||null,Jt;kt&&(Jt=kt.type?kt:Object.assign({},kt,{type:L}));var Rt=t.map(function(sr,er){return{label:sr.title||"Option ".concat(er+1),value:er}});return p.createElement("div",{className:"panel panel-default panel-body"},p.createElement("div",{className:"form-group"},p.createElement(pt,Ft({id:"".concat(Ot.$id).concat(v.oneOf?"__oneof_select":"__anyof_select"),schema:{type:"number",default:0},onChange:this.onOptionChange,onBlur:xt,onFocus:e,value:Y,options:{enumOptions:Rt}},it))),kt!==null&&p.createElement(A,{schema:Jt,uiSchema:l,errorSchema:qe,idSchema:Ot,idPrefix:ft,formData:nt,onChange:a,onBlur:xt,onFocus:e,registry:r,disabled:ye}))}}]),h}(p.Component);Sr.defaultProps={disabled:!1,errorSchema:{},idSchema:{},uiSchema:{}};var _r=Sr;function Er(o){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Er=function(x){return typeof x}:Er=function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},Er(o)}function Zr(){return Zr=Object.assign||function(o){for(var h=1;h<arguments.length;h++){var x=arguments[h];for(var g in x)Object.prototype.hasOwnProperty.call(x,g)&&(o[g]=x[g])}return o},Zr.apply(this,arguments)}function Ir(o,h){if(o==null)return{};var x=Rr(o,h),g,L;if(Object.getOwnPropertySymbols){var ye=Object.getOwnPropertySymbols(o);for(L=0;L<ye.length;L++)g=ye[L],!(h.indexOf(g)>=0)&&Object.prototype.propertyIsEnumerable.call(o,g)&&(x[g]=o[g])}return x}function Rr(o,h){if(o==null)return{};var x={},g=Object.keys(o),L,ye;for(ye=0;ye<g.length;ye++)L=g[ye],!(h.indexOf(L)>=0)&&(x[L]=o[L]);return x}function Xr(o,h){if(!(o instanceof h))throw new TypeError("Cannot call a class as a function")}function fn(o,h){for(var x=0;x<h.length;x++){var g=h[x];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(o,g.key,g)}}function Nr(o,h,x){return h&&fn(o.prototype,h),x&&fn(o,x),o}function ln(o,h){return h&&(Er(h)==="object"||typeof h=="function")?h:vn(o)}function mn(o){return mn=Object.setPrototypeOf?Object.getPrototypeOf:function(x){return x.__proto__||Object.getPrototypeOf(x)},mn(o)}function vn(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function gn(o,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(h&&h.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),h&&un(o,h)}function un(o,h){return un=Object.setPrototypeOf||function(g,L){return g.__proto__=L,g},un(o,h)}function cn(o,h,x){return h in o?Object.defineProperty(o,h,{value:x,enumerable:!0,configurable:!0,writable:!0}):o[h]=x,o}var Yr=/\.([0-9]*0)*$/,yn=/[0.]0*$/,sn=function(o){gn(h,o);function h(x){var g;return Xr(this,h),g=ln(this,mn(h).call(this,x)),cn(vn(g),"handleChange",function(L){g.setState({lastValue:L}),"".concat(L).charAt(0)==="."&&(L="0".concat(L));var ye=typeof L=="string"&&L.match(Yr)?Fs(L.replace(yn,"")):Fs(L);g.props.onChange(ye)}),g.state={lastValue:x.value},g}return Nr(h,[{key:"render",value:function(){var g=this.props.registry.fields.StringField,L=this.props,ye=L.formData,qe=Ir(L,["formData"]),nt=this.state.lastValue,ft=ye;if(typeof nt=="string"&&typeof ft=="number"){var Ot=new RegExp("".concat(ft).replace(".","\\.")+"\\.?0*$");nt.match(Ot)&&(ft=nt)}return p.createElement(g,Zr({},qe,{formData:ft,onChange:this.handleChange}))}}]),h}(p.Component);sn.defaultProps={uiSchema:{}};var Qr=sn;function En(o){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?En=function(x){return typeof x}:En=function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},En(o)}function bn(){return bn=Object.assign||function(o){for(var h=1;h<arguments.length;h++){var x=arguments[h];for(var g in x)Object.prototype.hasOwnProperty.call(x,g)&&(o[g]=x[g])}return o},bn.apply(this,arguments)}function oi(o){return y(o)||Pe(o)||zi()}function zi(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function Pe(o){if(Symbol.iterator in Object(o)||Object.prototype.toString.call(o)==="[object Arguments]")return Array.from(o)}function y(o){if(Array.isArray(o)){for(var h=0,x=new Array(o.length);h<o.length;h++)x[h]=o[h];return x}}function T(o){for(var h=1;h<arguments.length;h++){var x=arguments[h]!=null?arguments[h]:{},g=Object.keys(x);typeof Object.getOwnPropertySymbols=="function"&&(g=g.concat(Object.getOwnPropertySymbols(x).filter(function(L){return Object.getOwnPropertyDescriptor(x,L).enumerable}))),g.forEach(function(L){Zt(o,L,x[L])})}return o}function V(o,h){if(!(o instanceof h))throw new TypeError("Cannot call a class as a function")}function te(o,h){for(var x=0;x<h.length;x++){var g=h[x];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(o,g.key,g)}}function xe(o,h,x){return h&&te(o.prototype,h),x&&te(o,x),o}function be(o,h){return h&&(En(h)==="object"||typeof h=="function")?h:je(o)}function Ke(o){return Ke=Object.setPrototypeOf?Object.getPrototypeOf:function(x){return x.__proto__||Object.getPrototypeOf(x)},Ke(o)}function je(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function Tt(o,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(h&&h.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),h&&jt(o,h)}function jt(o,h){return jt=Object.setPrototypeOf||function(g,L){return g.__proto__=L,g},jt(o,h)}function Zt(o,h,x){return h in o?Object.defineProperty(o,h,{value:x,enumerable:!0,configurable:!0,writable:!0}):o[h]=x,o}function Pr(o){var h=o.TitleField,x=o.DescriptionField;return p.createElement("fieldset",{id:o.idSchema.$id},(o.uiSchema["ui:title"]||o.title)&&p.createElement(h,{id:"".concat(o.idSchema.$id,"__title"),title:o.title||o.uiSchema["ui:title"],required:o.required,formContext:o.formContext}),o.description&&p.createElement(x,{id:"".concat(o.idSchema.$id,"__description"),description:o.description,formContext:o.formContext}),o.properties.map(function(g){return g.content}),Co(o.schema,o.uiSchema,o.formData)&&p.createElement(ee,{className:"object-property-expand",onClick:o.onAddClick(o.schema),disabled:o.disabled||o.readonly}))}var mr=function(o){Tt(h,o);function h(){var x,g;V(this,h);for(var L=arguments.length,ye=new Array(L),qe=0;qe<L;qe++)ye[qe]=arguments[qe];return g=be(this,(x=Ke(h)).call.apply(x,[this].concat(ye))),Zt(je(g),"state",{wasPropertyKeyModified:!1,additionalProperties:{}}),Zt(je(g),"onPropertyChange",function(nt){var ft=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return function(Ot,xt){Ot===void 0&&ft&&(Ot="");var a=T({},g.props.formData,Zt({},nt,Ot));g.props.onChange(a,xt&&g.props.errorSchema&&T({},g.props.errorSchema,Zt({},nt,xt)))}}),Zt(je(g),"onDropPropertyClick",function(nt){return function(ft){ft.preventDefault();var Ot=g.props,xt=Ot.onChange,a=Ot.formData,e=T({},a);delete e[nt],xt(e)}}),Zt(je(g),"getAvailableKey",function(nt,ft){for(var Ot=0,xt=nt;ft.hasOwnProperty(xt);)xt="".concat(nt,"-").concat(++Ot);return xt}),Zt(je(g),"onKeyChange",function(nt){return function(ft,Ot){if(nt!==ft){ft=g.getAvailableKey(ft,g.props.formData);var xt=T({},g.props.formData),a=Zt({},nt,ft),e=Object.keys(xt).map(function(r){var l=a[r]||r;return Zt({},l,xt[r])}),t=Object.assign.apply(Object,[{}].concat(oi(e)));g.setState({wasPropertyKeyModified:!0}),g.props.onChange(t,Ot&&g.props.errorSchema&&T({},g.props.errorSchema,Zt({},ft,Ot)))}}}),Zt(je(g),"handleAddClick",function(nt){return function(){var ft=nt.additionalProperties.type,Ot=T({},g.props.formData);if(nt.additionalProperties.hasOwnProperty("$ref")){var xt=g.props.registry,a=xt===void 0?Xi():xt,e=C({$ref:nt.additionalProperties.$ref},a.rootSchema,g.props.formData);ft=e.type}Ot[g.getAvailableKey("newKey",Ot)]=g.getDefaultValue(ft),g.props.onChange(Ot)}}),g}return xe(h,[{key:"isRequired",value:function(g){var L=this.props.schema;return Array.isArray(L.required)&&L.required.indexOf(g)!==-1}},{key:"getDefaultValue",value:function(g){switch(g){case"string":return"New Value";case"array":return[];case"boolean":return!1;case"null":return null;case"number":return 0;case"object":return{};default:return"New Value"}}},{key:"render",value:function(){var g=this,L=this.props,ye=L.uiSchema,qe=L.formData,nt=L.errorSchema,ft=L.idSchema,Ot=L.name,xt=L.required,a=L.disabled,e=L.readonly,t=L.idPrefix,r=L.onBlur,l=L.onFocus,v=L.registry,A=v===void 0?Xi():v,B=A.rootSchema,Y=A.fields,pe=A.formContext,he=Y.SchemaField,ke=Y.TitleField,it=Y.DescriptionField,pt=C(this.props.schema,B,qe),kt=pt.title===void 0?Ot:pt.title,Jt=ye["ui:description"]||pt.description,Rt;try{var sr=Object.keys(pt.properties||{});Rt=fs(sr,ye["ui:order"])}catch(Dr){return p.createElement("div",null,p.createElement("p",{className:"config-error",style:{color:"red"}},"Invalid ",Ot||"root"," object field configuration:",p.createElement("em",null,Dr.message),"."),p.createElement("pre",null,JSON.stringify(pt)))}var er=ye["ui:ObjectFieldTemplate"]||A.ObjectFieldTemplate||Pr,hn={title:ye["ui:title"]||kt,description:Jt,TitleField:ke,DescriptionField:it,properties:Rt.map(function(Dr){var nn=pt.properties[Dr].hasOwnProperty(Lo),qr=nn?ye.additionalProperties:ye[Dr],hi=qr&&qr["ui:widget"]==="hidden";return{content:p.createElement(he,{key:Dr,name:Dr,required:g.isRequired(Dr),schema:pt.properties[Dr],uiSchema:qr,errorSchema:nt[Dr],idSchema:ft[Dr],idPrefix:t,formData:(qe||{})[Dr],wasPropertyKeyModified:g.state.wasPropertyKeyModified,onKeyChange:g.onKeyChange(Dr),onChange:g.onPropertyChange(Dr,nn),onBlur:r,onFocus:l,registry:A,disabled:a,readonly:e,onDropPropertyClick:g.onDropPropertyClick}),name:Dr,readonly:e,disabled:a,required:xt,hidden:hi}}),readonly:e,disabled:a,required:xt,idSchema:ft,uiSchema:ye,schema:pt,formData:qe,formContext:pe,registry:A};return p.createElement(er,bn({},hn,{onAddClick:this.handleAddClick}))}}]),h}(p.Component);Zt(mr,"defaultProps",{uiSchema:{},formData:{},errorSchema:{},idSchema:{},required:!1,disabled:!1,readonly:!1});var On=mr;function Mn(o){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Mn=function(x){return typeof x}:Mn=function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},Mn(o)}function zn(o,h){if(!(o instanceof h))throw new TypeError("Cannot call a class as a function")}function $i(o,h){for(var x=0;x<h.length;x++){var g=h[x];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(o,g.key,g)}}function Ii(o,h,x){return h&&$i(o.prototype,h),x&&$i(o,x),o}function Cn(o,h){return h&&(Mn(h)==="object"||typeof h=="function")?h:Bo(o)}function Bo(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function So(o){return So=Object.setPrototypeOf?Object.getPrototypeOf:function(x){return x.__proto__||Object.getPrototypeOf(x)},So(o)}function ko(o,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(h&&h.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),h&&$n(o,h)}function $n(o,h){return $n=Object.setPrototypeOf||function(g,L){return g.__proto__=L,g},$n(o,h)}function Ri(){return Ri=Object.assign||function(o){for(var h=1;h<arguments.length;h++){var x=arguments[h];for(var g in x)Object.prototype.hasOwnProperty.call(x,g)&&(o[g]=x[g])}return o},Ri.apply(this,arguments)}function Mo(o){for(var h=1;h<arguments.length;h++){var x=arguments[h]!=null?arguments[h]:{},g=Object.keys(x);typeof Object.getOwnPropertySymbols=="function"&&(g=g.concat(Object.getOwnPropertySymbols(x).filter(function(L){return Object.getOwnPropertyDescriptor(x,L).enumerable}))),g.forEach(function(L){Ht(o,L,x[L])})}return o}function Ht(o,h,x){return h in o?Object.defineProperty(o,h,{value:x,enumerable:!0,configurable:!0,writable:!0}):o[h]=x,o}function Ee(o,h){if(o==null)return{};var x=F(o,h),g,L;if(Object.getOwnPropertySymbols){var ye=Object.getOwnPropertySymbols(o);for(L=0;L<ye.length;L++)g=ye[L],!(h.indexOf(g)>=0)&&Object.prototype.propertyIsEnumerable.call(o,g)&&(x[g]=o[g])}return x}function F(o,h){if(o==null)return{};var x={},g=Object.keys(o),L,ye;for(ye=0;ye<g.length;ye++)L=g[ye],!(h.indexOf(L)>=0)&&(x[L]=o[L]);return x}var q="*",_e={array:"ArrayField",boolean:"BooleanField",integer:"NumberField",number:"NumberField",object:"ObjectField",string:"StringField",null:"NullField"};function Fe(o,h,x,g){var L=h["ui:field"];if(typeof L=="function")return L;if(typeof L=="string"&&L in g)return g[L];var ye=_e[us(o)];return!ye&&(o.anyOf||o.oneOf)?function(){return null}:ye in g?g[ye]:function(){var qe=g.UnsupportedField;return p.createElement(qe,{schema:o,idSchema:x,reason:"Unknown field type ".concat(o.type)})}}function st(o){var h=o.label,x=o.required,g=o.id;return h?p.createElement("label",{className:"control-label",htmlFor:g},h,x&&p.createElement("span",{className:"required"},q)):null}function ht(o){var h=o.id,x=o.label,g=o.onChange;return p.createElement("input",{className:"form-control",type:"text",id:h,onBlur:function(ye){return g(ye.target.value)},defaultValue:x})}function Wt(o){var h=o.id,x=o.help;return x?typeof x=="string"?p.createElement("p",{id:h,className:"help-block"},x):p.createElement("div",{id:h,className:"help-block"},x):null}function Lt(o){var h=o.errors,x=h===void 0?[]:h;return x.length===0?null:p.createElement("div",null,p.createElement("ul",{className:"error-detail bs-callout bs-callout-info"},x.filter(function(g){return!!g}).map(function(g,L){return p.createElement("li",{className:"text-danger",key:L},g)})))}function Lr(o){var h=o.id,x=o.label,g=o.children,L=o.errors,ye=o.help,qe=o.description,nt=o.hidden,ft=o.required,Ot=o.displayLabel;return nt?p.createElement("div",{className:"hidden"},g):p.createElement(Kr,o,Ot&&p.createElement(st,{label:x,required:ft,id:h}),Ot&&qe?qe:null,g,L,ye)}Lr.defaultProps={hidden:!1,readonly:!1,required:!1,displayLabel:!0};function Kr(o){var h=o.id,x=o.classNames,g=o.disabled,L=o.label,ye=o.onKeyChange,qe=o.onDropPropertyClick,nt=o.readonly,ft=o.required,Ot=o.schema,xt="".concat(L," Key"),a=Ot.hasOwnProperty(Lo);return a?p.createElement("div",{className:x},p.createElement("div",{className:"row"},p.createElement("div",{className:"col-xs-5 form-additional"},p.createElement("div",{className:"form-group"},p.createElement(st,{label:xt,required:ft,id:"".concat(h,"-key")}),p.createElement(ht,{label:L,required:ft,id:"".concat(h,"-key"),onChange:ye}))),p.createElement("div",{className:"form-additional form-group col-xs-5"},o.children),p.createElement("div",{className:"col-xs-2"},p.createElement(fe,{type:"danger",icon:"remove",className:"array-item-remove btn-block",tabIndex:"-1",style:{border:"0"},disabled:g||nt,onClick:qe(L)})))):p.createElement("div",{className:x},o.children)}function In(o){var h=o.uiSchema,x=o.formData,g=o.errorSchema,L=o.idPrefix,ye=o.name,qe=o.onChange,nt=o.onKeyChange,ft=o.onDropPropertyClick,Ot=o.required,xt=o.registry,a=xt===void 0?Xi():xt,e=o.wasPropertyKeyModified,t=e===void 0?!1:e,r=a.rootSchema,l=a.fields,v=a.formContext,A=h["ui:FieldTemplate"]||a.FieldTemplate||Lr,B=o.idSchema,Y=C(o.schema,r,x);B=cs(vr(Y,null,r,x,L),B);var pe=Fe(Y,h,B,l),he=l.DescriptionField,ke=Boolean(o.disabled||h["ui:disabled"]),it=Boolean(o.readonly||h["ui:readonly"]||o.schema.readOnly||Y.readOnly),pt=Boolean(o.autofocus||h["ui:autofocus"]);if(Object.keys(Y).length===0)return null;var kt=wa(Y,h,r),Jt=g.__errors,Rt=Ee(g,["__errors"]),sr=p.createElement(pe,Ri({},o,{idSchema:B,schema:Y,uiSchema:Mo({},h,{classNames:void 0}),disabled:ke,readonly:it,autofocus:pt,errorSchema:Rt,formContext:v,rawErrors:Jt})),er=B.$id,hn;t?hn=ye:hn=h["ui:title"]||o.schema.title||Y.title||ye;var Dr=h["ui:description"]||o.schema.description||Y.description,nn=Jt,qr=h["ui:help"],hi=h["ui:widget"]==="hidden",ro=["form-group","field","field-".concat(Y.type),nn&&nn.length>0?"field-error has-error has-danger":"",h.classNames].join(" ").trim(),ho={description:p.createElement(he,{id:er+"__description",description:Dr,formContext:v}),rawDescription:Dr,help:p.createElement(Wt,{id:er+"__help",help:qr}),rawHelp:typeof qr=="string"?qr:void 0,errors:p.createElement(Lt,{errors:nn}),rawErrors:nn,id:er,label:hn,hidden:hi,onChange:qe,onKeyChange:nt,onDropPropertyClick:ft,required:Ot,disabled:ke,readonly:it,displayLabel:kt,classNames:ro,formContext:v,formData:x,fields:l,schema:Y,uiSchema:h,registry:a},Cs=a.fields.AnyOfField,ia=a.fields.OneOfField;return p.createElement(A,ho,p.createElement(p.Fragment,null,sr,Y.anyOf&&!Ns(Y)&&p.createElement(Cs,{disabled:ke,errorSchema:g,formData:x,idPrefix:L,idSchema:B,onBlur:o.onBlur,onChange:o.onChange,onFocus:o.onFocus,options:Y.anyOf.map(function(Zs){return C(Zs,r,x)}),baseType:Y.type,registry:a,schema:Y,uiSchema:h}),Y.oneOf&&!Ns(Y)&&p.createElement(ia,{disabled:ke,errorSchema:g,formData:x,idPrefix:L,idSchema:B,onBlur:o.onBlur,onChange:o.onChange,onFocus:o.onFocus,options:Y.oneOf.map(function(Zs){return C(Zs,r,x)}),baseType:Y.type,registry:a,schema:Y,uiSchema:h})))}var wi=function(o){ko(h,o);function h(){return zn(this,h),Cn(this,So(h).apply(this,arguments))}return Ii(h,[{key:"shouldComponentUpdate",value:function(g,L){return!Pt(this.props,g)}},{key:"render",value:function(){return In(this.props)}}]),h}(p.Component);wi.defaultProps={uiSchema:{},errorSchema:{},idSchema:{},disabled:!1,readonly:!1,autofocus:!1};var Ai=wi;function si(o){for(var h=1;h<arguments.length;h++){var x=arguments[h]!=null?arguments[h]:{},g=Object.keys(x);typeof Object.getOwnPropertySymbols=="function"&&(g=g.concat(Object.getOwnPropertySymbols(x).filter(function(L){return Object.getOwnPropertyDescriptor(x,L).enumerable}))),g.forEach(function(L){Si(o,L,x[L])})}return o}function Si(o,h,x){return h in o?Object.defineProperty(o,h,{value:x,enumerable:!0,configurable:!0,writable:!0}):o[h]=x,o}function Hi(o,h){if(o==null)return{};var x=gs(o,h),g,L;if(Object.getOwnPropertySymbols){var ye=Object.getOwnPropertySymbols(o);for(L=0;L<ye.length;L++)g=ye[L],!(h.indexOf(g)>=0)&&Object.prototype.propertyIsEnumerable.call(o,g)&&(x[g]=o[g])}return x}function gs(o,h){if(o==null)return{};var x={},g=Object.keys(o),L,ye;for(ye=0;ye<g.length;ye++)L=g[ye],!(h.indexOf(L)>=0)&&(x[L]=o[L]);return x}function ts(o){var h=o.schema,x=o.name,g=o.uiSchema,L=o.idSchema,ye=o.formData,qe=o.required,nt=o.disabled,ft=o.readonly,Ot=o.autofocus,xt=o.onChange,a=o.onBlur,e=o.onFocus,t=o.registry,r=t===void 0?Xi():t,l=o.rawErrors,v=h.title,A=h.format,B=r.widgets,Y=r.formContext,pe=Ns(h)&&ds(h),he=pe?"select":"text";A&&Fa(h,A,B)&&(he=A);var ke=xs(g),it=ke.widget,pt=it===void 0?he:it,kt=ke.placeholder,Jt=kt===void 0?"":kt,Rt=Hi(ke,["widget","placeholder"]),sr=Yo(h,pt,B);return p.createElement(sr,{options:si({},Rt,{enumOptions:pe}),schema:h,uiSchema:g,id:L&&L.$id,label:v===void 0?x:v,value:ye,onChange:xt,onBlur:a,onFocus:e,required:qe,disabled:nt,readonly:ft,formContext:Y,autofocus:Ot,registry:r,placeholder:Jt,rawErrors:l})}ts.defaultProps={uiSchema:{},disabled:!1,readonly:!1,autofocus:!1};var va=ts,Wo="*";function Ks(o){var h=o.id,x=o.title,g=o.required;return p.createElement("legend",{id:h},x,g&&p.createElement("span",{className:"required"},Wo))}var gt=Ks;function Je(o){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Je=function(x){return typeof x}:Je=function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},Je(o)}function Bt(o,h){if(!(o instanceof h))throw new TypeError("Cannot call a class as a function")}function Kt(o,h){for(var x=0;x<h.length;x++){var g=h[x];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(o,g.key,g)}}function nr(o,h,x){return h&&Kt(o.prototype,h),x&&Kt(o,x),o}function Ur(o,h){return h&&(Je(h)==="object"||typeof h=="function")?h:Fr(o)}function Fr(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function en(o){return en=Object.setPrototypeOf?Object.getPrototypeOf:function(x){return x.__proto__||Object.getPrototypeOf(x)},en(o)}function ai(o,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(h&&h.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),h&&Hn(o,h)}function Hn(o,h){return Hn=Object.setPrototypeOf||function(g,L){return g.__proto__=L,g},Hn(o,h)}var Yn=function(o){ai(h,o);function h(){return Bt(this,h),Ur(this,en(h).apply(this,arguments))}return nr(h,[{key:"componentDidMount",value:function(){this.props.formData===void 0&&this.props.onChange(null)}},{key:"render",value:function(){return null}}]),h}(p.Component),rn=Yn;function tn(o){var h=o.schema,x=o.idSchema,g=o.reason;return p.createElement("div",{className:"unsupported-field"},p.createElement("p",null,"Unsupported field schema",x&&x.$id&&p.createElement("span",null," for"," field ",p.createElement("code",null,x.$id)),g&&p.createElement("em",null,": ",g),"."),h&&p.createElement("pre",null,JSON.stringify(h,null,2)))}var Zn=tn,an={AnyOfField:_r,ArrayField:Yt,BooleanField:fr,DescriptionField:xr,NumberField:Qr,ObjectField:On,OneOfField:_r,SchemaField:Ai,StringField:va,TitleField:gt,NullField:rn,UnsupportedField:Zn};function mi(o){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?mi=function(x){return typeof x}:mi=function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},mi(o)}function Pi(){return Pi=Object.assign||function(o){for(var h=1;h<arguments.length;h++){var x=arguments[h];for(var g in x)Object.prototype.hasOwnProperty.call(x,g)&&(o[g]=x[g])}return o},Pi.apply(this,arguments)}function ji(o,h){if(!(o instanceof h))throw new TypeError("Cannot call a class as a function")}function qi(o,h){for(var x=0;x<h.length;x++){var g=h[x];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(o,g.key,g)}}function Xn(o,h,x){return h&&qi(o.prototype,h),x&&qi(o,x),o}function _n(o,h){return h&&(mi(h)==="object"||typeof h=="function")?h:An(o)}function Fi(o){return Fi=Object.setPrototypeOf?Object.getPrototypeOf:function(x){return x.__proto__||Object.getPrototypeOf(x)},Fi(o)}function An(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function Zo(o,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(h&&h.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),h&&Ji(o,h)}function Ji(o,h){return Ji=Object.setPrototypeOf||function(g,L){return g.__proto__=L,g},Ji(o,h)}function ci(o,h,x){return h in o?Object.defineProperty(o,h,{value:x,enumerable:!0,configurable:!0,writable:!0}):o[h]=x,o}function Eo(o,h){for(var x=[],g=o;g<=h;g++)x.push({value:g,label:Tn(g,2)});return x}function wo(o){return Object.keys(o).every(function(h){return o[h]!==-1})}function $o(o){var h=o.type,x=o.range,g=o.value,L=o.select,ye=o.rootId,qe=o.disabled,nt=o.readonly,ft=o.autofocus,Ot=o.registry,xt=o.onBlur,a=ye+"_"+h,e=Ot.widgets.SelectWidget;return p.createElement(e,{schema:{type:"integer"},id:a,className:"form-control",options:{enumOptions:Eo(x[0],x[1])},placeholder:h,value:g,disabled:qe,readonly:nt,autofocus:ft,onChange:function(r){return L(h,r)},onBlur:xt})}var fi=function(o){Zo(h,o);function h(x){var g;return ji(this,h),g=_n(this,Fi(h).call(this,x)),ci(An(g),"onChange",function(L,ye){g.setState(ci({},L,typeof ye=="undefined"?-1:ye),function(){wo(g.state)&&g.props.onChange(Sn(g.state,g.props.time))})}),ci(An(g),"setNow",function(L){L.preventDefault();var ye=g.props,qe=ye.time,nt=ye.disabled,ft=ye.readonly,Ot=ye.onChange;if(!(nt||ft)){var xt=Br(new Date().toJSON(),qe);g.setState(xt,function(){return Ot(Sn(g.state,qe))})}}),ci(An(g),"clear",function(L){L.preventDefault();var ye=g.props,qe=ye.time,nt=ye.disabled,ft=ye.readonly,Ot=ye.onChange;nt||ft||g.setState(Br("",qe),function(){return Ot(void 0)})}),g.state=Br(x.value,x.time),g}return Xn(h,[{key:"componentDidUpdate",value:function(g,L){g.value&&g.value!==Br(this.props.value,this.props.time)&&this.setState(Br(this.props.value,this.props.time))}},{key:"shouldComponentUpdate",value:function(g,L){return or(this,g,L)}},{key:"render",value:function(){var g=this,L=this.props,ye=L.id,qe=L.disabled,nt=L.readonly,ft=L.autofocus,Ot=L.registry,xt=L.onBlur,a=L.options;return p.createElement("ul",{className:"list-inline"},this.dateElementProps.map(function(e,t){return p.createElement("li",{key:t},p.createElement($o,Pi({rootId:ye,select:g.onChange},e,{disabled:qe,readonly:nt,registry:Ot,onBlur:xt,autofocus:ft&&t===0})))}),(a.hideNowButton!=="undefined"?!a.hideNowButton:!0)&&p.createElement("li",null,p.createElement("a",{href:"#",className:"btn btn-info btn-now",onClick:this.setNow},"Now")),(a.hideClearButton!=="undefined"?!a.hideClearButton:!0)&&p.createElement("li",null,p.createElement("a",{href:"#",className:"btn btn-warning btn-clear",onClick:this.clear},"Clear")))}},{key:"dateElementProps",get:function(){var g=this.props,L=g.time,ye=g.options,qe=this.state,nt=qe.year,ft=qe.month,Ot=qe.day,xt=qe.hour,a=qe.minute,e=qe.second,t=[{type:"year",range:ye.yearsRange,value:nt},{type:"month",range:[1,12],value:ft},{type:"day",range:[1,31],value:Ot}];return L&&t.push({type:"hour",range:[0,23],value:xt},{type:"minute",range:[0,59],value:a},{type:"second",range:[0,59],value:e}),t}}]),h}(p.Component);ci(fi,"defaultProps",{time:!1,disabled:!1,readonly:!1,autofocus:!1,options:{yearsRange:[1900,new Date().getFullYear()+2]}});var no=fi;function Ti(o){for(var h=1;h<arguments.length;h++){var x=arguments[h]!=null?arguments[h]:{},g=Object.keys(x);typeof Object.getOwnPropertySymbols=="function"&&(g=g.concat(Object.getOwnPropertySymbols(x).filter(function(L){return Object.getOwnPropertyDescriptor(x,L).enumerable}))),g.forEach(function(L){mo(o,L,x[L])})}return o}function mo(o,h,x){return h in o?Object.defineProperty(o,h,{value:x,enumerable:!0,configurable:!0,writable:!0}):o[h]=x,o}function Io(){return Io=Object.assign||function(o){for(var h=1;h<arguments.length;h++){var x=arguments[h];for(var g in x)Object.prototype.hasOwnProperty.call(x,g)&&(o[g]=x[g])}return o},Io.apply(this,arguments)}function ao(o){var h=o.registry.widgets.AltDateWidget;return p.createElement(h,Io({time:!0},o))}ao.defaultProps=Ti({},no.defaultProps,{time:!0});var As=ao;function zs(o){return Ro(o)||Dn(o)||ys()}function ys(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function Dn(o){if(Symbol.iterator in Object(o)||Object.prototype.toString.call(o)==="[object Arguments]")return Array.from(o)}function Ro(o){if(Array.isArray(o)){for(var h=0,x=new Array(o.length);h<o.length;h++)x[h]=o[h];return x}}function Gi(){return Gi=Object.assign||function(o){for(var h=1;h<arguments.length;h++){var x=arguments[h];for(var g in x)Object.prototype.hasOwnProperty.call(x,g)&&(o[g]=x[g])}return o},Gi.apply(this,arguments)}function Uo(o,h){if(o==null)return{};var x=eo(o,h),g,L;if(Object.getOwnPropertySymbols){var ye=Object.getOwnPropertySymbols(o);for(L=0;L<ye.length;L++)g=ye[L],!(h.indexOf(g)>=0)&&Object.prototype.propertyIsEnumerable.call(o,g)&&(x[g]=o[g])}return x}function eo(o,h){if(o==null)return{};var x={},g=Object.keys(o),L,ye;for(ye=0;ye<g.length;ye++)L=g[ye],!(h.indexOf(L)>=0)&&(x[L]=o[L]);return x}function dn(o){if(!o.id)throw console.log("No id for",o),new Error("no id for props ".concat(JSON.stringify(o)));var h=o.value,x=o.readonly,g=o.disabled,L=o.autofocus,ye=o.onBlur,qe=o.onFocus,nt=o.options,ft=o.schema,Ot=o.uiSchema,xt=o.formContext,a=o.registry,e=o.rawErrors,t=Uo(o,["value","readonly","disabled","autofocus","onBlur","onFocus","options","schema","uiSchema","formContext","registry","rawErrors"]);nt.inputType?t.type=nt.inputType:t.type||(ft.type==="number"?(t.type="number",t.step="any"):ft.type==="integer"?(t.type="number",t.step="1"):t.type="text"),nt.autocomplete&&(t.autoComplete=nt.autocomplete),ft.multipleOf&&(t.step=ft.multipleOf),typeof ft.minimum!="undefined"&&(t.min=ft.minimum),typeof ft.maximum!="undefined"&&(t.max=ft.maximum);var r=function(v){var A=v.target.value;return o.onChange(A===""?nt.emptyValue:A)};return[p.createElement("input",Gi({key:t.id,className:"form-control",readOnly:x,disabled:g,autoFocus:L,value:h==null?"":h},t,{list:ft.examples?"examples_".concat(t.id):null,onChange:r,onBlur:ye&&function(l){return ye(t.id,l.target.value)},onFocus:qe&&function(l){return qe(t.id,l.target.value)}})),ft.examples?p.createElement("datalist",{key:"datalist_".concat(t.id),id:"examples_".concat(t.id)},zs(new Set(ft.examples.concat(ft.default?[ft.default]:[]))).map(function(l){return p.createElement("option",{key:l,value:l})})):null]}dn.defaultProps={required:!1,disabled:!1,readonly:!1,autofocus:!1};var Ps=dn;function _i(o){var h=o.schema,x=o.id,g=o.value,L=o.disabled,ye=o.readonly,qe=o.label,nt=o.autofocus,ft=o.onBlur,Ot=o.onFocus,xt=o.onChange,a=o.DescriptionField,e=bi(h);return p.createElement("div",{className:"checkbox ".concat(L||ye?"disabled":"")},h.description&&p.createElement(a,{description:h.description}),p.createElement("label",null,p.createElement("input",{type:"checkbox",id:x,checked:typeof g=="undefined"?!1:g,required:e,disabled:L||ye,autoFocus:nt,onChange:function(r){return xt(r.target.checked)},onBlur:ft&&function(t){return ft(x,t.target.checked)},onFocus:Ot&&function(t){return Ot(x,t.target.checked)}}),p.createElement("span",null,qe)))}_i.defaultProps={autofocus:!1};var Vo=_i;function gi(o,h,x){var g=x.indexOf(o),L=h.slice(0,g).concat(o,h.slice(g));return L.sort(function(ye,qe){return x.indexOf(ye)>x.indexOf(qe)})}function Bn(o,h){return h.filter(function(x){return x!==o})}function Oo(o){var h=o.id,x=o.disabled,g=o.options,L=o.value,ye=o.autofocus,qe=o.readonly,nt=o.onChange,ft=g.enumOptions,Ot=g.enumDisabled,xt=g.inline;return p.createElement("div",{className:"checkboxes",id:h},ft.map(function(a,e){var t=L.indexOf(a.value)!==-1,r=Ot&&Ot.indexOf(a.value)!=-1,l=x||r||qe?"disabled":"",v=p.createElement("span",null,p.createElement("input",{type:"checkbox",id:"".concat(h,"_").concat(e),checked:t,disabled:x||r||qe,autoFocus:ye&&e===0,onChange:function(B){var Y=ft.map(function(pe){var he=pe.value;return he});B.target.checked?nt(gi(a.value,L,Y)):nt(Bn(a.value,L))}}),p.createElement("span",null,a.label));return xt?p.createElement("label",{key:e,className:"checkbox-inline ".concat(l)},v):p.createElement("div",{key:e,className:"checkbox ".concat(l)},p.createElement("label",null,v))}))}Oo.defaultProps={autofocus:!1,options:{inline:!1}};var Un=Oo;function Oi(){return Oi=Object.assign||function(o){for(var h=1;h<arguments.length;h++){var x=arguments[h];for(var g in x)Object.prototype.hasOwnProperty.call(x,g)&&(o[g]=x[g])}return o},Oi.apply(this,arguments)}function pi(o){var h=o.disabled,x=o.readonly,g=o.registry.widgets.BaseInput;return p.createElement(g,Oi({type:"color"},o,{disabled:h||x}))}var li=pi;function Ko(){return Ko=Object.assign||function(o){for(var h=1;h<arguments.length;h++){var x=arguments[h];for(var g in x)Object.prototype.hasOwnProperty.call(x,g)&&(o[g]=x[g])}return o},Ko.apply(this,arguments)}function po(o){var h=o.onChange,x=o.registry.widgets.BaseInput;return p.createElement(x,Ko({type:"date"},o,{onChange:function(L){return h(L||void 0)}}))}var vs=po;function ei(){return ei=Object.assign||function(o){for(var h=1;h<arguments.length;h++){var x=arguments[h];for(var g in x)Object.prototype.hasOwnProperty.call(x,g)&&(o[g]=x[g])}return o},ei.apply(this,arguments)}function io(o){var h=o.value,x=o.onChange,g=o.registry.widgets.BaseInput;return p.createElement(g,ei({type:"datetime-local"},o,{value:Kn(h),onChange:function(ye){return x(kn(ye))}}))}var lo=io;function Ni(){return Ni=Object.assign||function(o){for(var h=1;h<arguments.length;h++){var x=arguments[h];for(var g in x)Object.prototype.hasOwnProperty.call(x,g)&&(o[g]=x[g])}return o},Ni.apply(this,arguments)}function Fo(o){var h=o.registry.widgets.BaseInput;return p.createElement(h,Ni({type:"email"},o))}var Ei=Fo;function bs(o){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?bs=function(x){return typeof x}:bs=function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},bs(o)}function xo(o,h){if(!(o instanceof h))throw new TypeError("Cannot call a class as a function")}function Jn(o,h){for(var x=0;x<h.length;x++){var g=h[x];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(o,g.key,g)}}function Di(o,h,x){return h&&Jn(o.prototype,h),x&&Jn(o,x),o}function kr(o,h){return h&&(bs(h)==="object"||typeof h=="function")?h:go(o)}function Qn(o){return Qn=Object.setPrototypeOf?Object.getPrototypeOf:function(x){return x.__proto__||Object.getPrototypeOf(x)},Qn(o)}function go(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function rs(o,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(h&&h.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),h&&Hs(o,h)}function Hs(o,h){return Hs=Object.setPrototypeOf||function(g,L){return g.__proto__=L,g},Hs(o,h)}function Fn(o,h,x){return h in o?Object.defineProperty(o,h,{value:x,enumerable:!0,configurable:!0,writable:!0}):o[h]=x,o}function ns(o,h){return o.replace(";base64",";name=".concat(encodeURIComponent(h),";base64"))}function is(o){var h=o.name,x=o.size,g=o.type;return new Promise(function(L,ye){var qe=new window.FileReader;qe.onerror=ye,qe.onload=function(nt){L({dataURL:ns(nt.target.result,h),name:h,size:x,type:g})},qe.readAsDataURL(o)})}function os(o){return Promise.all([].map.call(o,is))}function Ts(o){var h=o.filesInfo;return h.length===0?null:p.createElement("ul",{className:"file-info"},h.map(function(x,g){var L=x.name,ye=x.size,qe=x.type;return p.createElement("li",{key:g},p.createElement("strong",null,L)," (",qe,", ",ye," bytes)")}))}function _s(o){return o.filter(function(h){return typeof h!="undefined"}).map(function(h){var x=qn(h),g=x.blob,L=x.name;return{name:L,size:g.size,type:g.type}})}var bt=function(o){rs(h,o);function h(x){var g;xo(this,h),g=kr(this,Qn(h).call(this,x)),Fn(go(g),"onChange",function(qe){var nt=g.props,ft=nt.multiple,Ot=nt.onChange;os(qe.target.files).then(function(xt){var a={values:xt.map(function(e){return e.dataURL}),filesInfo:xt};g.setState(a,function(){Ot(ft?a.values:a.values[0])})})});var L=x.value,ye=Array.isArray(L)?L:[L];return g.state={values:ye,filesInfo:_s(ye)},g}return Di(h,[{key:"shouldComponentUpdate",value:function(g,L){return or(this,g,L)}},{key:"render",value:function(){var g=this,L=this.props,ye=L.multiple,qe=L.id,nt=L.readonly,ft=L.disabled,Ot=L.autofocus,xt=L.options,a=this.state.filesInfo;return p.createElement("div",null,p.createElement("p",null,p.createElement("input",{ref:function(t){return g.inputRef=t},id:qe,type:"file",disabled:nt||ft,onChange:this.onChange,defaultValue:"",autoFocus:Ot,multiple:ye,accept:xt.accept})),p.createElement(Ts,{filesInfo:a}))}}]),h}(p.Component);bt.defaultProps={autofocus:!1};var at=bt;function Zi(o){var h=o.id,x=o.value;return p.createElement("input",{type:"hidden",id:h,value:typeof x=="undefined"?"":x})}var Li=Zi;function zr(){return zr=Object.assign||function(o){for(var h=1;h<arguments.length;h++){var x=arguments[h];for(var g in x)Object.prototype.hasOwnProperty.call(x,g)&&(o[g]=x[g])}return o},zr.apply(this,arguments)}function wr(o){var h=o.registry.widgets.BaseInput;return p.createElement(h,zr({type:"password"},o))}var gr=wr;function Hr(o){var h=o.options,x=o.value,g=o.required,L=o.disabled,ye=o.readonly,qe=o.autofocus,nt=o.onBlur,ft=o.onFocus,Ot=o.onChange,xt=o.id,a=Math.random().toString(),e=h.enumOptions,t=h.enumDisabled,r=h.inline;return p.createElement("div",{className:"field-radio-group",id:xt},e.map(function(l,v){var A=l.value===x,B=t&&t.indexOf(l.value)!=-1,Y=L||B||ye?"disabled":"",pe=p.createElement("span",null,p.createElement("input",{type:"radio",checked:A,name:a,required:g,value:l.value,disabled:L||B||ye,autoFocus:qe&&v===0,onChange:function(ke){return Ot(l.value)},onBlur:nt&&function(he){return nt(xt,he.target.value)},onFocus:ft&&function(he){return ft(xt,he.target.value)}}),p.createElement("span",null,l.label));return r?p.createElement("label",{key:v,className:"radio-inline ".concat(Y)},pe):p.createElement("div",{key:v,className:"radio ".concat(Y)},p.createElement("label",null,pe))}))}Hr.defaultProps={autofocus:!1};var wn=Hr;function xn(){return xn=Object.assign||function(o){for(var h=1;h<arguments.length;h++){var x=arguments[h];for(var g in x)Object.prototype.hasOwnProperty.call(x,g)&&(o[g]=x[g])}return o},xn.apply(this,arguments)}function di(o){var h=o.schema,x=o.value,g=o.registry.widgets.BaseInput;return p.createElement("div",{className:"field-range-wrapper"},p.createElement(g,xn({type:"range"},o,vi(h))),p.createElement("span",{className:"range-view"},x))}var yi=di,yo=new Set(["number","integer"]);function jn(o,h){var x=o.type,g=o.items;if(h!==""){{if(x==="array"&&g&&yo.has(g.type))return h.map(Fs);if(x==="boolean")return h==="true";if(x==="number")return Fs(h)}if(o.enum){if(o.enum.every(function(L){return Qo(L)==="number"}))return Fs(h);if(o.enum.every(function(L){return Qo(L)==="boolean"}))return h==="true"}return h}}function Vn(o,h){return h?[].slice.call(o.target.options).filter(function(x){return x.selected}).map(function(x){return x.value}):o.target.value}function Ds(o){var h=o.schema,x=o.id,g=o.options,L=o.value,ye=o.required,qe=o.disabled,nt=o.readonly,ft=o.multiple,Ot=o.autofocus,xt=o.onChange,a=o.onBlur,e=o.onFocus,t=o.placeholder,r=g.enumOptions,l=g.enumDisabled,v=ft?[]:"";return p.createElement("select",{id:x,multiple:ft,className:"form-control",value:typeof L=="undefined"?v:L,required:ye,disabled:qe||nt,autoFocus:Ot,onBlur:a&&function(A){var B=Vn(A,ft);a(x,jn(h,B))},onFocus:e&&function(A){var B=Vn(A,ft);e(x,jn(h,B))},onChange:function(B){var Y=Vn(B,ft);xt(jn(h,Y))}},!ft&&h.default===void 0&&p.createElement("option",{value:""},t),r.map(function(A,B){var Y=A.value,pe=A.label,he=l&&l.indexOf(Y)!=-1;return p.createElement("option",{key:B,value:Y,disabled:he},pe)}))}Ds.defaultProps={autofocus:!1};var Js=Ds;function zo(o){var h=o.id,x=o.options,g=o.placeholder,L=o.value,ye=o.required,qe=o.disabled,nt=o.readonly,ft=o.autofocus,Ot=o.onChange,xt=o.onBlur,a=o.onFocus,e=function(r){var l=r.target.value;return Ot(l===""?x.emptyValue:l)};return p.createElement("textarea",{id:h,className:"form-control",value:L||"",placeholder:g,required:ye,disabled:qe,readOnly:nt,autoFocus:ft,rows:x.rows,onBlur:xt&&function(t){return xt(h,t.target.value)},onFocus:a&&function(t){return a(h,t.target.value)},onChange:e})}zo.defaultProps={autofocus:!1,options:{}};var ks=zo;function qa(o){var h=o.registry.widgets.BaseInput;return p.createElement(h,o)}var Gs=qa;function jo(){return jo=Object.assign||function(o){for(var h=1;h<arguments.length;h++){var x=arguments[h];for(var g in x)Object.prototype.hasOwnProperty.call(x,g)&&(o[g]=x[g])}return o},jo.apply(this,arguments)}function vo(o){var h=o.registry.widgets.BaseInput;return p.createElement(h,jo({type:"url"},o))}var to=vo;function ss(){return ss=Object.assign||function(o){for(var h=1;h<arguments.length;h++){var x=arguments[h];for(var g in x)Object.prototype.hasOwnProperty.call(x,g)&&(o[g]=x[g])}return o},ss.apply(this,arguments)}function Ys(o){var h=o.registry.widgets.BaseInput;return p.createElement(h,ss({type:"number"},o,vi(o.schema)))}var Ss=Ys,Ta={BaseInput:Ps,PasswordWidget:gr,RadioWidget:wn,UpDownWidget:Ss,RangeWidget:yi,SelectWidget:Js,TextWidget:Gs,DateWidget:vs,DateTimeWidget:lo,AltDateWidget:no,AltDateTimeWidget:As,EmailWidget:Ei,URLWidget:to,TextareaWidget:ks,HiddenWidget:Li,ColorWidget:li,FileWidget:at,CheckboxWidget:Vo,CheckboxesWidget:Un},_a=u(25497),Ms=u.n(_a),Es=u(84778),ba=u.n(Es);function No(o){return Da(o)||Xs(o)||$s()}function $s(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function Xs(o){if(Symbol.iterator in Object(o)||Object.prototype.toString.call(o)==="[object Arguments]")return Array.from(o)}function Da(o){if(Array.isArray(o)){for(var h=0,x=new Array(o.length);h<o.length;h++)x[h]=o[h];return x}}function as(o){for(var h=1;h<arguments.length;h++){var x=arguments[h]!=null?arguments[h]:{},g=Object.keys(x);typeof Object.getOwnPropertySymbols=="function"&&(g=g.concat(Object.getOwnPropertySymbols(x).filter(function(L){return Object.getOwnPropertyDescriptor(x,L).enumerable}))),g.forEach(function(L){Is(o,L,x[L])})}return o}function Is(o,h,x){return h in o?Object.defineProperty(o,h,{value:x,enumerable:!0,configurable:!0,writable:!0}):o[h]=x,o}var uo=Rs(),Ho=null,Ui=null,ls="__rjsf_rootSchema";function Rs(){var o=new(ba())({errorDataPath:"property",allErrors:!0,multipleOfPrecision:8,schemaId:"auto",unknownFormats:"ignore"});return o.addFormat("data-url",/^data:([a-z]+\/[a-z0-9-+.]+)?;(?:name=(.*);)?base64,(.*)$/),o.addFormat("color",/^(#?([0-9A-Fa-f]{3}){1,2}\b|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow|(rgb\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|(rgb\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\)))$/),o}function Sa(o){return o.length?o.reduce(function(h,x){var g=x.property,L=x.message,ye=Ms()(g),qe=h;ye.length>0&&ye[0]===""&&ye.splice(0,1);var nt=!0,ft=!1,Ot=void 0;try{for(var xt=ye.slice(0)[Symbol.iterator](),a;!(nt=(a=xt.next()).done);nt=!0){var e=a.value;e in qe||(qe[e]={}),qe=qe[e]}}catch(t){ft=!0,Ot=t}finally{try{!nt&&xt.return!=null&&xt.return()}finally{if(ft)throw Ot}}return Array.isArray(qe.__errors)?qe.__errors=qe.__errors.concat(L):L&&(qe.__errors=[L]),h},{}):{}}function Jo(o){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"root",x=[];return"__errors"in o&&(x=x.concat(o.__errors.map(function(g){return{stack:"".concat(h,": ").concat(g)}}))),Object.keys(o).reduce(function(g,L){return L!=="__errors"&&(g=g.concat(Jo(o[L],L))),g},x)}function xi(o){var h={__errors:[],addError:function(g){this.__errors.push(g)}};return Ci(o)?Object.keys(o).reduce(function(x,g){return as({},x,Is({},g,xi(o[g])))},h):Array.isArray(o)?o.reduce(function(x,g,L){return as({},x,Is({},L,xi(g)))},h):h}function ka(o){return Object.keys(o).reduce(function(h,x){return x==="addError"?h:x==="__errors"?as({},h,Is({},x,o[x])):as({},h,Is({},x,ka(o[x])))},{})}function Qs(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return o===null?[]:o.map(function(h){var x=h.dataPath,g=h.keyword,L=h.message,ye=h.params,qe=h.schemaPath,nt="".concat(x);return{name:g,property:nt,message:L,params:ye,stack:"".concat(nt," ").concat(L).trim(),schemaPath:qe}})}function qs(o,h,x,g){var L=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[],ye=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},qe=h;o=la(h,o,qe,!0);var nt=!Pt(Ui,L),ft=!Pt(Ho,ye);(nt||ft)&&(uo=Rs()),L&&nt&&Array.isArray(L)&&(uo.addMetaSchema(L),Ui=L),ye&&ft&&Ci(ye)&&(Object.keys(ye).forEach(function(A){uo.addFormat(A,ye[A])}),Ho=ye);var Ot=null;try{uo.validate(h,o)}catch(A){Ot=A}var xt=Qs(uo.errors);uo.errors=null;var a=Ot&&Ot.message&&typeof Ot.message=="string"&&Ot.message.includes("no schema with key or ref ");a&&(xt=[].concat(No(xt),[{stack:Ot.message}])),typeof g=="function"&&(xt=g(xt));var e=Sa(xt);if(a&&(e=as({},e,{$schema:{__errors:[Ot.message]}})),typeof x!="function")return{errors:xt,errorSchema:e};var t=x(o,xi(o)),r=ka(t),l=cs(e,r,!0),v=Jo(l);return{errors:v,errorSchema:l}}function ws(o){var h=o;if(o.constructor===Object){h=as({},o);for(var x in h){var g=h[x];x==="$ref"&&typeof g=="string"&&g.startsWith("#")?h[x]=ls+g:h[x]=ws(g)}}else if(Array.isArray(o)){h=No(o);for(var L=0;L<h.length;L++)h[L]=ws(h[L])}return h}function Ka(o,h,x){try{return uo.addSchema(x,ls).validate(ws(o),h)}catch{return!1}finally{uo.removeSchema(ls)}}function Ea(o){var h=za(o,"string");return oo(h)==="symbol"?h:String(h)}function za(o,h){if(oo(o)!=="object"||o===null)return o;var x=o[Symbol.toPrimitive];if(x!==void 0){var g=x.call(o,h||"default");if(oo(g)!=="object")return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return(h==="string"?String:Number)(o)}function ea(o){return Ha(o)||$a(o)||Ma()}function Ma(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function $a(o){if(Symbol.iterator in Object(o)||Object.prototype.toString.call(o)==="[object Arguments]")return Array.from(o)}function Ha(o){if(Array.isArray(o)){for(var h=0,x=new Array(o.length);h<o.length;h++)x[h]=o[h];return x}}function oo(o){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?oo=function(x){return typeof x}:oo=function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},oo(o)}function ta(){return ta=Object.assign||function(o){for(var h=1;h<arguments.length;h++){var x=arguments[h];for(var g in x)Object.prototype.hasOwnProperty.call(x,g)&&(o[g]=x[g])}return o},ta.apply(this,arguments)}function Yi(o){for(var h=1;h<arguments.length;h++){var x=arguments[h]!=null?arguments[h]:{},g=Object.keys(x);typeof Object.getOwnPropertySymbols=="function"&&(g=g.concat(Object.getOwnPropertySymbols(x).filter(function(L){return Object.getOwnPropertyDescriptor(x,L).enumerable}))),g.forEach(function(L){Ia(o,L,x[L])})}return o}function Ia(o,h,x){return h in o?Object.defineProperty(o,h,{value:x,enumerable:!0,configurable:!0,writable:!0}):o[h]=x,o}function Go(o,h){if(o==null)return{};var x=ra(o,h),g,L;if(Object.getOwnPropertySymbols){var ye=Object.getOwnPropertySymbols(o);for(L=0;L<ye.length;L++)g=ye[L],!(h.indexOf(g)>=0)&&Object.prototype.propertyIsEnumerable.call(o,g)&&(x[g]=o[g])}return x}function ra(o,h){if(o==null)return{};var x={},g=Object.keys(o),L,ye;for(ye=0;ye<g.length;ye++)L=g[ye],!(h.indexOf(L)>=0)&&(x[L]=o[L]);return x}var Lo="__additional_property",Ra={boolean:{checkbox:"CheckboxWidget",radio:"RadioWidget",select:"SelectWidget",hidden:"HiddenWidget"},string:{text:"TextWidget",password:"PasswordWidget",email:"EmailWidget",hostname:"TextWidget",ipv4:"TextWidget",ipv6:"TextWidget",uri:"URLWidget","data-url":"FileWidget",radio:"RadioWidget",select:"SelectWidget",textarea:"TextareaWidget",hidden:"HiddenWidget",date:"DateWidget",datetime:"DateTimeWidget","date-time":"DateTimeWidget","alt-date":"AltDateWidget","alt-datetime":"AltDateTimeWidget",color:"ColorWidget",file:"FileWidget"},number:{text:"TextWidget",select:"SelectWidget",updown:"UpDownWidget",range:"RangeWidget",radio:"RadioWidget",hidden:"HiddenWidget"},integer:{text:"TextWidget",select:"SelectWidget",updown:"UpDownWidget",range:"RangeWidget",radio:"RadioWidget",hidden:"HiddenWidget"},array:{select:"SelectWidget",checkboxes:"CheckboxesWidget",files:"FileWidget",hidden:"HiddenWidget"}};function Co(o,h,x){if(!o.additionalProperties)return!1;var g=xs(h),L=g.expandable;return L===!1?L:o.maxProperties!==void 0?Object.keys(x).length<o.maxProperties:!0}function Xi(){return{fields:an,widgets:Ta,definitions:{},rootSchema:{},formContext:{}}}function us(o){var h=o.type;return!h&&o.const?Qo(o.const):!h&&o.enum?"string":!h&&(o.properties||o.additionalProperties)?"object":h instanceof Array&&h.length===2&&h.includes("null")?h.find(function(x){return x!=="null"}):h}function Yo(o,h){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},g=us(o);function L(nt){if(!nt.MergedWidget){var ft=nt.defaultProps&&nt.defaultProps.options||{};nt.MergedWidget=function(Ot){var xt=Ot.options,a=xt===void 0?{}:xt,e=Go(Ot,["options"]);return p.createElement(nt,ta({options:Yi({},ft,a)},e))}}return nt.MergedWidget}if(typeof h=="function"||G.isForwardRef(p.createElement(h))||G.isMemo(h))return L(h);if(typeof h!="string")throw new Error("Unsupported widget definition: ".concat(oo(h)));if(x.hasOwnProperty(h)){var ye=x[h];return Yo(o,ye,x)}if(!Ra.hasOwnProperty(g))throw new Error('No widget for type "'.concat(g,'"'));if(Ra[g].hasOwnProperty(h)){var qe=x[Ra[g][h]];return Yo(o,qe,x)}throw new Error('No widget "'.concat(h,'" for type "').concat(g,'"'))}function Fa(o,h){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};try{return Yo(o,h,x),!0}catch(g){if(g.message&&(g.message.startsWith("No widget")||g.message.startsWith("Unsupported widget")))return!1;throw g}}function Os(o,h,x){var g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},L=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,ye=Ci(o)?o:{},qe=Ci(g)?g:{},nt=h;if(Ci(nt)&&Ci(ye.default))nt=cs(nt,ye.default);else if("default"in ye)nt=ye.default;else if("$ref"in ye){var ft=bo(ye.$ref,x);return Os(ft,nt,x,qe,L)}else if("dependencies"in ye){var Ot=U(ye,x,qe);return Os(Ot,nt,x,qe,L)}else Ls(ye)?nt=ye.items.map(function(r,l){return Os(r,Array.isArray(h)?h[l]:void 0,x,qe,L)}):"oneOf"in ye?ye=ye.oneOf[co(void 0,ye.oneOf,x)]:"anyOf"in ye&&(ye=ye.anyOf[co(void 0,ye.anyOf,x)]);switch(typeof nt=="undefined"&&(nt=ye.default),us(ye)){case"object":return Object.keys(ye.properties||{}).reduce(function(r,l){var v=Os(ye.properties[l],(nt||{})[l],x,(qe||{})[l],L);return(L||v!==void 0)&&(r[l]=v),r},{});case"array":if(Array.isArray(nt)&&(nt=nt.map(function(r,l){return Os(ye.items[l]||ye.additionalItems||{},r,x)})),Array.isArray(g)&&(nt=g.map(function(r,l){return Os(ye.items,(nt||{})[l],x,r)})),ye.minItems){if(ua(ye,x))return nt||[];var xt=nt?nt.length:0;if(ye.minItems>xt){var a=nt||[],e=Array.isArray(ye.items)?ye.additionalItems:ye.items,t=ae()(new Array(ye.minItems-xt),Os(e,e.defaults,x));return a.concat(t)}}}return nt}function la(o,h){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ci(o))throw new Error("Invalid schema: "+o);var L=C(o,x,h),ye=Os(L,o.default,x,h,g);return typeof h=="undefined"?ye:Ci(h)||Array.isArray(h)?Ja(ye,h):h===0||h===!1||h===""?h:h||ye}function Ja(o,h){if(Array.isArray(h))return Array.isArray(o)||(o=[]),h.map(function(g,L){return o[L]?Ja(o[L],g):g});if(Ci(h)){var x=Object.assign({},o);return Object.keys(h).reduce(function(g,L){return g[L]=Ja(o?o[L]:{},h[L]),g},x)}else return h}function xs(o){return Object.keys(o).filter(function(h){return h.indexOf("ui:")===0}).reduce(function(h,x){var g=o[x];return x==="ui:widget"&&Ci(g)?(console.warn("Setting options via ui:widget object is deprecated, use ui:options instead"),Yi({},h,g.options||{},{widget:g.component})):x==="ui:options"&&Ci(g)?Yi({},h,g):Yi({},h,Ia({},x.substring(3),g))},{})}function wa(o,h,x){var g=xs(h),L=g.label,ye=L===void 0?!0:L,qe=us(o);return qe==="array"&&(ye=ua(o,x)||Xo(o,h,x)),qe==="object"&&(ye=!1),qe==="boolean"&&!h["ui:widget"]&&(ye=!1),h["ui:field"]&&(ye=!1),ye}function Ci(o){return typeof File!="undefined"&&o instanceof File?!1:oo(o)==="object"&&o!==null&&!Array.isArray(o)}function cs(o,h){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,g=Object.assign({},o);return Object.keys(h).reduce(function(L,ye){var qe=o?o[ye]:{},nt=h[ye];return o&&o.hasOwnProperty(ye)&&Ci(nt)?L[ye]=cs(qe,nt,x):x&&Array.isArray(qe)&&Array.isArray(nt)?L[ye]=qe.concat(nt):L[ye]=nt,L},g)}function Fs(o){if(o!==""){if(o===null)return null;if(/\.$/.test(o)||/\.0$/.test(o))return o;var h=Number(o),x=typeof h=="number"&&!Number.isNaN(h);return/\.\d*0$/.test(o)?o:x?h:o}}function fs(o,h){if(!Array.isArray(h))return o;var x=function(a){return a.reduce(function(e,t){return e[t]=!0,e},{})},g=function(a){return a.length>1?"properties '".concat(a.join("', '"),"'"):"property '".concat(a[0],"'")},L=x(o),ye=h.filter(function(xt){return xt==="*"||L[xt]}),qe=x(ye),nt=o.filter(function(xt){return!qe[xt]}),ft=ye.indexOf("*");if(ft===-1){if(nt.length)throw new Error("uiSchema order list does not contain ".concat(g(nt)));return ye}if(ft!==ye.lastIndexOf("*"))throw new Error("uiSchema order list contains more than one wildcard item");var Ot=ea(ye);return Ot.splice.apply(Ot,[ft,1].concat(ea(nt))),Ot}function ja(o){return Array.isArray(o.enum)&&o.enum.length===1||o.hasOwnProperty("const")}function js(o){if(Array.isArray(o.enum)&&o.enum.length===1)return o.enum[0];if(o.hasOwnProperty("const"))return o.const;throw new Error("schema cannot be inferred as a constant")}function Ns(o){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},x=C(o,h),g=x.oneOf||x.anyOf;return Array.isArray(x.enum)?!0:Array.isArray(g)?g.every(function(L){return ja(L)}):!1}function ua(o){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return!o.uniqueItems||!o.items?!1:Ns(o.items,h)}function Xo(o,h){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(h["ui:widget"]==="files")return!0;if(o.items){var g=C(o.items,x);return g.type==="string"&&g.format==="data-url"}return!1}function Ls(o){return Array.isArray(o.items)&&o.items.length>0&&o.items.every(function(h){return Ci(h)})}function Ga(o){return o.additionalItems===!0&&console.warn("additionalItems=true is currently not supported"),Ci(o.additionalItems)}function ds(o){if(o.enum)return o.enum.map(function(x,g){var L=o.enumNames&&o.enumNames[g]||String(x);return{label:L,value:x}});var h=o.oneOf||o.anyOf;return h.map(function(x,g){var L=js(x),ye=x.title||String(L);return{schema:x,label:ye,value:L}})}function bo(o){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},x=o;if(o.startsWith("#"))o=decodeURIComponent(o.substring(1));else throw new Error("Could not find a definition for ".concat(x,"."));var g=H.get(h,o);if(g===void 0)throw new Error("Could not find a definition for ".concat(x,"."));return g.hasOwnProperty("$ref")?bo(g.$ref,h):g}var Qo=function(h){if(Array.isArray(h))return"array";if(typeof h=="string")return"string";if(h==null)return"null";if(typeof h=="boolean")return"boolean";if(isNaN(h)){if(oo(h)==="object")return"object"}else return"number";return"string"};function ca(o){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return o=Yi({},o,{properties:Yi({},o.properties)}),x=Ci(x)?x:{},Object.keys(x).forEach(function(g){if(!o.properties.hasOwnProperty(g)){var L;o.additionalProperties.hasOwnProperty("$ref")?L=C({$ref:o.additionalProperties.$ref},h,x):o.additionalProperties.hasOwnProperty("type")?L=Yi({},o.additionalProperties):L={type:Qo(x[g])},o.properties[g]=L,o.properties[g][Lo]=!0}}),o}function Oa(o){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(o.hasOwnProperty("$ref"))return Bs(o,h,x);if(o.hasOwnProperty("dependencies")){var g=U(o,h,x);return C(g,h,x)}else return o.hasOwnProperty("allOf")?Yi({},o,{allOf:o.allOf.map(function(L){return C(L,h,x)})}):o}function Bs(o,h,x){var g=bo(o.$ref,h),L=o.$ref,ye=Go(o,["$ref"]);return C(Yi({},g,ye),h,x)}function C(o){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!Ci(o))return{};var g=Oa(o,h,x);if("allOf"in o)try{g=re()(Yi({},g,{allOf:g.allOf}))}catch(ft){console.warn(`could not merge subschemas in allOf:
`+ft);var L=g,ye=L.allOf,qe=Go(L,["allOf"]);return qe}var nt=g.hasOwnProperty("additionalProperties")&&g.additionalProperties!==!1;return nt?ca(g,h,x):g}function U(o,h,x){var g=o.dependencies,L=g===void 0?{}:g,ye=Go(o,["dependencies"]);return"oneOf"in ye?ye=ye.oneOf[co(x,ye.oneOf,h)]:"anyOf"in ye&&(ye=ye.anyOf[co(x,ye.anyOf,h)]),oe(L,ye,h,x)}function oe(o,h,x,g){for(var L in o)if(g[L]!==void 0&&!(h.properties&&!(L in h.properties))){var ye=o[L],qe=Go(o,[L].map(Ea));return Array.isArray(ye)?h=Ce(h,ye):Ci(ye)&&(h=De(h,x,g,L,ye)),oe(qe,h,x,g)}return h}function Ce(o,h){if(!h)return o;var x=Array.isArray(o.required)?Array.from(new Set([].concat(ea(o.required),ea(h)))):h;return Yi({},o,{required:x})}function De(o,h,x,g,L){var ye=C(L,h,x),qe=ye.oneOf,nt=Go(ye,["oneOf"]);if(o=ut(o,nt),qe===void 0)return o;if(!Array.isArray(qe))throw new Error("invalid: it is some ".concat(oo(qe)," instead of an array"));var ft=qe.map(function(Ot){return Ot.hasOwnProperty("$ref")?Bs(Ot,h,x):Ot});return Re(o,h,x,g,ft)}function Re(o,h,x,g,L){var ye=L.filter(function(a){if(!a.properties)return!1;var e=a.properties[g];if(e){var t={type:"object",properties:Ia({},g,e)},r=qs(x,t),l=r.errors;return l.length===0}});if(ye.length!==1)return console.warn("ignoring oneOf in dependencies because there isn't exactly one subschema that is valid"),o;var qe=ye[0],nt=qe.properties,ft=nt[g],Ot=Go(nt,[g].map(Ea)),xt=Yi({},qe,{properties:Ot});return ut(o,C(xt,h,x))}function ut(o,h){var x=Object.assign({},o);return Object.keys(h).reduce(function(g,L){var ye=o?o[L]:{},qe=h[L];return o&&o.hasOwnProperty(L)&&Ci(qe)?g[L]=ut(ye,qe):o&&h&&(us(o)==="object"||us(h)==="object")&&L==="required"&&Array.isArray(ye)&&Array.isArray(qe)?g[L]=M()(ye,qe):g[L]=qe,g},x)}function It(o){return Object.prototype.toString.call(o)==="[object Arguments]"}function Pt(o,h){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];if(o===h)return!0;if(typeof o=="function"||typeof h=="function")return!0;if(oo(o)!=="object"||oo(h)!=="object")return!1;if(o===null||h===null)return!1;if(o instanceof Date&&h instanceof Date)return o.getTime()===h.getTime();if(o instanceof RegExp&&h instanceof RegExp)return o.source===h.source&&o.global===h.global&&o.multiline===h.multiline&&o.lastIndex===h.lastIndex&&o.ignoreCase===h.ignoreCase;if(It(o)||It(h)){if(!(It(o)&&It(h)))return!1;var L=Array.prototype.slice;return Pt(L.call(o),L.call(h),x,g)}else{if(o.constructor!==h.constructor)return!1;var ye=Object.keys(o),qe=Object.keys(h);if(ye.length===0&&qe.length===0)return!0;if(ye.length!==qe.length)return!1;for(var nt=x.length;nt--;)if(x[nt]===o)return g[nt]===h;x.push(o),g.push(h),ye.sort(),qe.sort();for(var ft=ye.length-1;ft>=0;ft--)if(ye[ft]!==qe[ft])return!1;for(var Ot,xt=ye.length-1;xt>=0;xt--)if(Ot=ye[xt],!Pt(o[Ot],h[Ot],x,g))return!1;return x.pop(),g.pop(),!0}}function or(o,h,x){var g=o.props,L=o.state;return!Pt(g,h)||!Pt(L,x)}function vr(o,h,x){var g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},L=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"root",ye={$id:h||L};if("$ref"in o||"dependencies"in o||"allOf"in o){var qe=C(o,x,g);return vr(qe,h,x,g,L)}if("items"in o&&!o.items.$ref)return vr(o.items,h,x,g,L);if(o.type!=="object")return ye;for(var nt in o.properties||{}){var ft=o.properties[nt],Ot=ye.$id+"_"+nt;ye[nt]=vr(Ci(ft)?ft:{},Ot,x,(g||{})[nt],L)}return ye}function Ar(o){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",x=arguments.length>2?arguments[2]:void 0,g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},L={$name:h.replace(/^\./,"")};if("$ref"in o||"dependencies"in o||"allOf"in o){var ye=C(o,x,g);return Ar(ye,h,x,g)}if(o.hasOwnProperty("additionalProperties")&&(L.__rjsf_additionalProperties=!0),o.hasOwnProperty("items")&&Array.isArray(g))g.forEach(function(nt,ft){L[ft]=Ar(o.items,"".concat(h,".").concat(ft),x,nt)});else if(o.hasOwnProperty("properties"))for(var qe in o.properties)L[qe]=Ar(o.properties[qe],"".concat(h,".").concat(qe),x,(g||{})[qe]);return L}function Br(o){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!o)return{year:-1,month:-1,day:-1,hour:h?-1:0,minute:h?-1:0,second:h?-1:0};var x=new Date(o);if(Number.isNaN(x.getTime()))throw new Error("Unable to parse date "+o);return{year:x.getUTCFullYear(),month:x.getUTCMonth()+1,day:x.getUTCDate(),hour:h?x.getUTCHours():0,minute:h?x.getUTCMinutes():0,second:h?x.getUTCSeconds():0}}function Sn(o){var h=o.year,x=o.month,g=o.day,L=o.hour,ye=L===void 0?0:L,qe=o.minute,nt=qe===void 0?0:qe,ft=o.second,Ot=ft===void 0?0:ft,xt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,a=Date.UTC(h,x-1,g,ye,nt,Ot),e=new Date(a).toJSON();return xt?e:e.slice(0,10)}function Kn(o){if(!o)return"";var h=new Date(o),x=Tn(h.getFullYear(),4),g=Tn(h.getMonth()+1,2),L=Tn(h.getDate(),2),ye=Tn(h.getHours(),2),qe=Tn(h.getMinutes(),2),nt=Tn(h.getSeconds(),2),ft=Tn(h.getMilliseconds(),3);return"".concat(x,"-").concat(g,"-").concat(L,"T").concat(ye,":").concat(qe,":").concat(nt,".").concat(ft)}function kn(o){if(o)return new Date(o).toJSON()}function Tn(o,h){for(var x=String(o);x.length<h;)x="0"+x;return x}function qn(o){var h=o.split(","),x=h[0].split(";"),g=x[0].replace("data:",""),L=x.filter(function(xt){return xt.split("=")[0]==="name"}),ye;L.length!==1?ye="unknown":ye=L[0].split("=")[1];for(var qe=atob(h[1]),nt=[],ft=0;ft<qe.length;ft++)nt.push(qe.charCodeAt(ft));var Ot=new window.Blob([new Uint8Array(nt)],{type:g});return{blob:Ot,name:ye}}function vi(o){var h={};return o.multipleOf&&(h.step=o.multipleOf),(o.minimum||o.minimum===0)&&(h.min=o.minimum),(o.maximum||o.maximum===0)&&(h.max=o.maximum),h}function co(o,h,x){for(var g=0;g<h.length;g++){var L=h[g];if(L.properties){var ye={anyOf:Object.keys(L.properties).map(function(ft){return{required:[ft]}})},qe=void 0;if(L.anyOf){var nt=ta({},L);nt.allOf?nt.allOf=nt.allOf.slice():nt.allOf=[],nt.allOf.push(ye),qe=nt}else qe=Object.assign({},L,ye);if(delete qe.required,Ka(qe,o,x))return g}else if(Ka(L,o,x))return g}return 0}function bi(o){return o.const||o.enum&&o.enum.length===1&&o.enum[0]===!0?!0:o.anyOf&&o.anyOf.length===1?bi(o.anyOf[0]):o.oneOf&&o.oneOf.length===1?bi(o.oneOf[0]):o.allOf?o.allOf.some(bi):!1}function so(o){for(var h=1;h<arguments.length;h++){var x=arguments[h]!=null?arguments[h]:{},g=Object.keys(x);typeof Object.getOwnPropertySymbols=="function"&&(g=g.concat(Object.getOwnPropertySymbols(x).filter(function(L){return Object.getOwnPropertyDescriptor(x,L).enumerable}))),g.forEach(function(L){qo(o,L,x[L])})}return o}function Gn(o){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Gn=function(x){return typeof x}:Gn=function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},Gn(o)}function Bi(o,h){if(!(o instanceof h))throw new TypeError("Cannot call a class as a function")}function Ws(o,h){for(var x=0;x<h.length;x++){var g=h[x];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(o,g.key,g)}}function fa(o,h,x){return h&&Ws(o.prototype,h),x&&Ws(o,x),o}function Pn(o,h){return h&&(Gn(h)==="object"||typeof h=="function")?h:hs(o)}function na(o){return na=Object.setPrototypeOf?Object.getPrototypeOf:function(x){return x.__proto__||Object.getPrototypeOf(x)},na(o)}function hs(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function Na(o,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(h&&h.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),h&&rl(o,h)}function rl(o,h){return rl=Object.setPrototypeOf||function(g,L){return g.__proto__=L,g},rl(o,h)}function qo(o,h,x){return h in o?Object.defineProperty(o,h,{value:x,enumerable:!0,configurable:!0,writable:!0}):o[h]=x,o}var La=function(o){Na(h,o);function h(x){var g;return Bi(this,h),g=Pn(this,na(h).call(this,x)),qo(hs(g),"getUsedFormData",function(L,ye){if(ye.length===0&&Gn(L)!=="object")return L;var qe=O()(L,ye);return Array.isArray(L)?Object.keys(qe).map(function(nt){return qe[nt]}):qe}),qo(hs(g),"getFieldNames",function(L,ye){var qe=function nt(ft){var Ot=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],xt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[""];return Object.keys(ft).forEach(function(a){if(Gn(ft[a])==="object"){var e=xt.map(function(t){return"".concat(t,".").concat(a)});ft[a].__rjsf_additionalProperties&&ft[a].$name!==""?Ot.push(ft[a].$name):nt(ft[a],Ot,e)}else a==="$name"&&ft[a]!==""&&xt.forEach(function(t){t=t.replace(/^\./,"");var r=D()(ye,t);(Gn(r)!=="object"||j()(r))&&Ot.push(t)})}),Ot};return qe(L)}),qo(hs(g),"onChange",function(L,ye){if(Ci(L)||Array.isArray(L)){var qe=g.getStateFromProps(g.props,L);L=qe.formData}var nt=!g.props.noValidate&&g.props.liveValidate,ft={formData:L},Ot=L;if(g.props.omitExtraData===!0&&g.props.liveOmit===!0){var xt=C(g.state.schema,g.state.schema,L),a=Ar(xt,"",g.state.schema,L),e=g.getFieldNames(a,L);Ot=g.getUsedFormData(L,e),ft={formData:Ot}}if(nt){var t=g.validate(Ot),r=t.errors,l=t.errorSchema,v=r,A=l;g.props.extraErrors&&(l=cs(l,g.props.extraErrors,!0),r=Jo(l)),ft={formData:Ot,errors:r,errorSchema:l,schemaValidationErrors:v,schemaValidationErrorSchema:A}}else if(!g.props.noValidate&&ye){var B=g.props.extraErrors?cs(ye,g.props.extraErrors,!0):ye;ft={formData:Ot,errorSchema:B,errors:Jo(B)}}g.setState(ft,function(){return g.props.onChange&&g.props.onChange(g.state)})}),qo(hs(g),"onBlur",function(){if(g.props.onBlur){var L;(L=g.props).onBlur.apply(L,arguments)}}),qo(hs(g),"onFocus",function(){if(g.props.onFocus){var L;(L=g.props).onFocus.apply(L,arguments)}}),qo(hs(g),"onSubmit",function(L){if(L.preventDefault(),L.target===L.currentTarget){L.persist();var ye=g.state.formData;if(g.props.omitExtraData===!0){var qe=C(g.state.schema,g.state.schema,ye),nt=Ar(qe,"",g.state.schema,ye),ft=g.getFieldNames(nt,ye);ye=g.getUsedFormData(ye,ft)}if(!g.props.noValidate){var Ot=g.validate(ye),xt=Ot.errors,a=Ot.errorSchema,e=xt,t=a;if(Object.keys(xt).length>0){g.props.extraErrors&&(a=cs(a,g.props.extraErrors,!0),xt=Jo(a)),g.setState({errors:xt,errorSchema:a,schemaValidationErrors:e,schemaValidationErrorSchema:t},function(){g.props.onError?g.props.onError(xt):console.error("Form validation failed",xt)});return}}var r,l;g.props.extraErrors?(r=g.props.extraErrors,l=Jo(r)):(r={},l=[]),g.setState({formData:ye,errors:l,errorSchema:r,schemaValidationErrors:[],schemaValidationErrorSchema:{}},function(){g.props.onSubmit&&g.props.onSubmit(so({},g.state,{formData:ye,status:"submitted"}),L)})}}),g.state=g.getStateFromProps(x,x.formData),g.props.onChange&&!Pt(g.state.formData,g.props.formData)&&g.props.onChange(g.state),g.formElement=null,g}return fa(h,[{key:"UNSAFE_componentWillReceiveProps",value:function(g){var L=this.getStateFromProps(g,g.formData);!Pt(L.formData,g.formData)&&!Pt(L.formData,this.state.formData)&&this.props.onChange&&this.props.onChange(L),this.setState(L)}},{key:"getStateFromProps",value:function(g,L){var ye=this.state||{},qe="schema"in g?g.schema:this.props.schema,nt="uiSchema"in g?g.uiSchema:this.props.uiSchema,ft=typeof L!="undefined",Ot="liveValidate"in g?g.liveValidate:this.props.liveValidate,xt=ft&&!g.noValidate&&Ot,a=qe,e=la(qe,L,a),t=C(qe,a,e),r=g.customFormats,l=g.additionalMetaSchemas,v=function(){return g.noValidate?{errors:[],errorSchema:{}}:g.liveValidate?{errors:ye.errors||[],errorSchema:ye.errorSchema||{}}:{errors:ye.schemaValidationErrors||[],errorSchema:ye.schemaValidationErrorSchema||{}}},A,B,Y,pe;if(xt){var he=this.validate(e,qe,l,r);A=he.errors,B=he.errorSchema,Y=A,pe=B}else{var ke=v();A=ke.errors,B=ke.errorSchema,Y=ye.schemaValidationErrors,pe=ye.schemaValidationErrorSchema}g.extraErrors&&(B=cs(B,g.extraErrors,!0),A=Jo(B));var it=vr(t,nt["ui:rootFieldId"],a,e,g.idPrefix),pt={schema:qe,uiSchema:nt,idSchema:it,formData:e,edit:ft,errors:A,errorSchema:B,additionalMetaSchemas:l};return Y&&(pt.schemaValidationErrors=Y,pt.schemaValidationErrorSchema=pe),pt}},{key:"shouldComponentUpdate",value:function(g,L){return or(this,g,L)}},{key:"validate",value:function(g){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.props.schema,ye=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.props.additionalMetaSchemas,qe=arguments.length>3&&arguments[3]!==void 0?arguments[3]:this.props.customFormats,nt=this.props,ft=nt.validate,Ot=nt.transformErrors,xt=this.getRegistry(),a=xt.rootSchema,e=C(L,a,g);return qs(g,e,ft,Ot,ye,qe)}},{key:"renderErrors",value:function(){var g=this.state,L=g.errors,ye=g.errorSchema,qe=g.schema,nt=g.uiSchema,ft=this.props,Ot=ft.ErrorList,xt=ft.showErrorList,a=ft.formContext;return L.length&&xt!=!1?p.createElement(Ot,{errors:L,errorSchema:ye,schema:qe,uiSchema:nt,formContext:a}):null}},{key:"getRegistry",value:function(){var g=Xi(),L=g.fields,ye=g.widgets;return{fields:so({},L,this.props.fields),widgets:so({},ye,this.props.widgets),ArrayFieldTemplate:this.props.ArrayFieldTemplate,ObjectFieldTemplate:this.props.ObjectFieldTemplate,FieldTemplate:this.props.FieldTemplate,definitions:this.props.schema.definitions||{},rootSchema:this.props.schema,formContext:this.props.formContext||{}}}},{key:"submit",value:function(){this.formElement&&this.formElement.dispatchEvent(new CustomEvent("submit",{cancelable:!0}))}},{key:"render",value:function(){var g=this,L=this.props,ye=L.children,qe=L.id,nt=L.idPrefix,ft=L.className,Ot=L.tagName,xt=L.name,a=L.method,e=L.target,t=L.action,r=L.autocomplete,l=L.autoComplete,v=L.enctype,A=L.acceptcharset,B=L.noHtml5Validate,Y=L.disabled,pe=L.readonly,he=L.formContext,ke=this.state,it=ke.schema,pt=ke.uiSchema,kt=ke.formData,Jt=ke.errorSchema,Rt=ke.idSchema,sr=this.getRegistry(),er=sr.fields.SchemaField,hn=Ot||"form";r&&console.warn("Using autocomplete property of Form is deprecated, use autoComplete instead.");var Dr=l||r;return p.createElement(hn,{className:ft||"rjsf",id:qe,name:xt,method:a,target:e,action:t,autoComplete:Dr,encType:v,acceptCharset:A,noValidate:B,onSubmit:this.onSubmit,ref:function(qr){g.formElement=qr}},this.renderErrors(),p.createElement(er,{schema:it,uiSchema:pt,errorSchema:Jt,idSchema:Rt,idPrefix:nt,formContext:he,formData:kt,onChange:this.onChange,onBlur:this.onBlur,onFocus:this.onFocus,registry:sr,disabled:Y,readonly:pe}),ye||p.createElement("div",null,p.createElement("button",{type:"submit",className:"btn btn-info"},"Submit")))}}]),h}(p.Component);qo(La,"defaultProps",{uiSchema:{},noValidate:!1,liveValidate:!1,disabled:!1,readonly:!1,noHtml5Validate:!1,ErrorList:I,omitExtraData:!1});function Ba(){return Ba=Object.assign||function(o){for(var h=1;h<arguments.length;h++){var x=arguments[h];for(var g in x)Object.prototype.hasOwnProperty.call(x,g)&&(o[g]=x[g])}return o},Ba.apply(this,arguments)}function fo(o){for(var h=1;h<arguments.length;h++){var x=arguments[h]!=null?arguments[h]:{},g=Object.keys(x);typeof Object.getOwnPropertySymbols=="function"&&(g=g.concat(Object.getOwnPropertySymbols(x).filter(function(L){return Object.getOwnPropertyDescriptor(x,L).enumerable}))),g.forEach(function(L){Vr(o,L,x[L])})}return o}function Vr(o,h,x){return h in o?Object.defineProperty(o,h,{value:x,enumerable:!0,configurable:!0,writable:!0}):o[h]=x,o}function da(o,h){if(o==null)return{};var x=Wa(o,h),g,L;if(Object.getOwnPropertySymbols){var ye=Object.getOwnPropertySymbols(o);for(L=0;L<ye.length;L++)g=ye[L],!(h.indexOf(g)>=0)&&Object.prototype.propertyIsEnumerable.call(o,g)&&(x[g]=o[g])}return x}function Wa(o,h){if(o==null)return{};var x={},g=Object.keys(o),L,ye;for(ye=0;ye<g.length;ye++)L=g[ye],!(h.indexOf(L)>=0)&&(x[L]=o[L]);return x}function Ao(o){return(0,p.forwardRef)(function(h,x){var g=h.fields,L=h.widgets,ye=da(h,["fields","widgets"]);return g=fo({},o.fields,g),L=fo({},o.widgets,L),p.createElement(Ya,Ba({},o,ye,{fields:g,widgets:L,ref:x}))})}Ao.propTypes={widgets:Oe().object,fields:Oe().object};var fl=Ao,Ya=La},76485:function(Le,w,u){var s=u(9850),p=u(93503),R=u(73198),O=u(19003),_=u(35676),D=u(68632),N=u(30898),j=u(74186),I=u(18149),G=u(97030),z=u(78911),re=u(829),ne=u(59756),ae=u(75652),ve=u(39642),M=u(67304),H=(ot,...Ct)=>M.apply(null,[ot].concat(_(Ct))),ue=ot=>se(Xe,ot),X=ot=>se(ct,ot),se=(ot,Ct)=>ot.indexOf(Ct)!==-1,fe=ot=>!$e(ot).length&&ot!==!1&&ot!==!0,ee=ot=>G(ot)||ot===!0||ot===!1,$=ot=>ot===!1,Se=ot=>ot===!0,Ie=(ot,Ct,Nt)=>Nt(ot),Oe=ot=>re(ae(D(ot))),We=ot=>ot!==void 0,Ge=ot=>ae(D(ot.map($e))),lt=ot=>ot[0],Qe=ot=>Oe(ot),He=ot=>Math.max.apply(Math,ot),St=ot=>Math.min.apply(Math,ot),qt=ot=>ot.some(Se),dt=ot=>ve(_(ot),I);function wt(ot){return function(Ct,Nt){return p({[ot]:Ct},{[ot]:Nt})}}function rt(ot){if(Array.isArray(ot.allOf)){var Ct=ot.allOf;return delete ot.allOf,[ot].concat(Ct.map(function(Nt){return rt(Nt)}))}else return[ot]}function Ze(ot,Ct){return ot.map(function(Nt){return Nt&&Nt[Ct]})}function yt(ot,Ct){return ot.map(function(Nt){if(Nt)if(Array.isArray(Nt.items)){var fr=Nt.items[Ct];if(ee(fr))return fr;if(Nt.hasOwnProperty("additionalItems"))return Nt.additionalItems}else return Nt.items})}function tt(ot,Ct){return ot.map(function(Nt,fr){try{return Ct(Nt,fr)}catch{return}}).filter(We)}function ge(ot){return ot.map(function(Ct){if(Ct)return Array.isArray(Ct.items)?Ct.additionalItems:Ct.items})}function $e(ot){return G(ot)||Array.isArray(ot)?Object.keys(ot):[]}function mt(ot,Ct){if(Ct=Ct||[],!ot.length)return Ct;var Nt=ot.slice(0).shift(),fr=ot.slice(1);return Ct.length?mt(fr,_(Ct.map(Or=>Nt.map(xr=>[xr].concat(Or))))):mt(fr,Nt.map(Or=>Or))}function _t(ot,Ct){return Array.isArray(ot)?(ot.splice.apply(ot,[0,0].concat(Ct)),ot):Ct}function Vt(ot,Ct){var Nt;try{Nt=ot.map(function(fr){return JSON.stringify(fr,null,2)}).join(`
`)}catch{Nt=ot.join(", ")}throw new Error('Could not resolve values for path:"'+Ct.join(".")+`". They are probably incompatible. Values: 
`+Nt)}function Cr(ot){for(var Ct in ot)ot.hasOwnProperty(Ct)&&fe(ot[Ct])&&delete ot[Ct];return ot}function Ve(ot,Ct,Nt){return function(fr,Or){if(Or===void 0)throw new Error("You need to call merger with a key for the property name or index if array.");return Or=String(Or),ot(fr,null,Nt.concat(Ct,Or))}}function K(ot,Ct,Nt,fr,Or,xr){if(ot.length){var ar=Or.resolvers[Ct];if(!ar)throw new Error("No resolver found for "+Ct);var Ft=ve(Nt.map(function(pr){return ot.reduce(function(cr,Wr){return pr[Wr]!==void 0&&(cr[Wr]=pr[Wr]),cr},{})}).filter(We),p),jr=Ct==="properties"?Xe:ct,yr=jr.reduce(function(pr,cr){return se(Mt,cr)?pr[cr]=Ve(fr,cr,xr):pr[cr]=function(Wr){return fr(Wr,null,xr.concat(cr))},pr},{});Ct==="items"&&(yr.itemsArray=Ve(fr,"items",xr),yr.items=function(pr){return fr(pr,null,xr.concat("items"))});var dr=ar(Ft,xr.concat(Ct),yr,Or);return G(dr)||Vt(Ft,xr.concat(Ct)),Cr(dr)}}function Z(ot,Ct,Nt){var fr=Ge(Nt||ot),Or=Nt?yt:Ze;return fr.reduce(function(xr,ar){var Ft=Or(ot,ar),jr=ve(Ft.filter(We),p);return xr[ar]=Ct(jr,ar),xr},Nt?[]:{})}function Q(ot){ne(ot,function(Ct,Nt){Ct===!1&&delete ot[Nt]})}function ie(ot){ne(ot,function(Ct,Nt){Ct===!1&&ot.splice(Nt,1)})}function Te(ot){return{required:ot}}var Xe=["properties","patternProperties","additionalProperties"],ct=["items","additionalItems"],Mt=["properties","patternProperties","definitions","dependencies"],Qt=["anyOf","oneOf"],Yt=["additionalProperties","additionalItems","contains","propertyNames","not","items"],zt={type(ot){if(ot.some(Array.isArray)){var Ct=ot.map(function(fr){return Array.isArray(fr)?fr:[fr]}),Nt=N.apply(null,Ct);if(Nt.length===1)return Nt[0];if(Nt.length>1)return ae(Nt)}},properties(ot,Ct,Nt,fr){fr.ignoreAdditionalProperties||(ot.forEach(function(xr){var ar=ot.filter(dr=>dr!==xr),Ft=$e(xr.properties),jr=$e(xr.patternProperties),yr=jr.map(dr=>new RegExp(dr));ar.forEach(function(dr){var pr=$e(dr.properties),cr=pr.filter(Tr=>yr.some(Ne=>Ne.test(Tr))),Wr=H(pr,Ft,cr);Wr.forEach(function(Tr){dr.properties[Tr]=Nt.properties([dr.properties[Tr],xr.additionalProperties],Tr)})})}),ot.forEach(function(xr){var ar=ot.filter(jr=>jr!==xr),Ft=$e(xr.patternProperties);xr.additionalProperties===!1&&ar.forEach(function(jr){var yr=$e(jr.patternProperties),dr=H(yr,Ft);dr.forEach(pr=>delete jr.patternProperties[pr])})}));var Or={additionalProperties:Nt.additionalProperties(ot.map(xr=>xr.additionalProperties)),patternProperties:Z(ot.map(xr=>xr.patternProperties),Nt.patternProperties),properties:Z(ot.map(xr=>xr.properties),Nt.properties)};return Or.additionalProperties===!1&&Q(Or.properties),Or},dependencies(ot,Ct,Nt){var fr=Ge(ot);return fr.reduce(function(Or,xr){var ar=Ze(ot,xr),Ft=ve(ar.filter(We),I),jr=Ft.filter(Array.isArray);if(jr.length){if(jr.length===Ft.length)Or[xr]=Oe(Ft);else{var yr=Ft.filter(ee),dr=jr.map(Te);Or[xr]=Nt(yr.concat(dr),xr)}return Or}return Ft=ve(Ft,p),Or[xr]=Nt(Ft,xr),Or},{})},items(ot,Ct,Nt){var fr=ot.map(Ft=>Ft.items),Or=fr.filter(We),xr={};Or.every(ee)?xr.items=Nt.items(fr):xr.items=Z(ot,Nt.itemsArray,fr);var ar;return Or.every(Array.isArray)?ar=ot.map(Ft=>Ft.additionalItems):Or.some(Array.isArray)&&(ar=ge(ot)),ar&&(xr.additionalItems=Nt.additionalItems(ar)),xr.additionalItems===!1&&Array.isArray(xr.items)&&ie(xr.items),xr},oneOf(ot,Ct,Nt){var fr=mt(s(ot)),Or=tt(fr,Nt),xr=ve(Or,p);if(xr.length)return xr},not(ot){return{anyOf:ot}},pattern(ot,Ct,Nt,fr,Or){var xr=Ct.pop();Or(ot.map(function(ar){return{[xr]:ar}}))},multipleOf(ot){for(var Ct=ot.slice(0),Nt=1;Ct.some(fr=>!Number.isInteger(fr));)Ct=Ct.map(fr=>fr*10),Nt=Nt*10;return R(Ct)/Nt},enum(ot){var Ct=j.apply(null,ot.concat(I));if(Ct.length)return re(Ct)}};zt.$id=lt,zt.$ref=lt,zt.$schema=lt,zt.additionalItems=Ie,zt.additionalProperties=Ie,zt.anyOf=zt.oneOf,zt.contains=Ie,zt.default=lt,zt.definitions=zt.dependencies,zt.description=lt,zt.examples=dt,zt.exclusiveMaximum=St,zt.exclusiveMinimum=He,zt.maximum=St,zt.maxItems=St,zt.maxLength=St,zt.maxProperties=St,zt.minimum=He,zt.minItems=He,zt.minLength=He,zt.minProperties=He,zt.propertyNames=Ie,zt.required=Qe,zt.title=lt,zt.uniqueItems=qt;function Xt(ot,Ct,Nt){Nt=Nt||[],Ct=O(Ct,{ignoreAdditionalProperties:!1,resolvers:zt});function fr(ar,Ft,jr){ar=s(ar.filter(We)),jr=jr||[];var yr=G(Ft)?Ft:{};if(!ar.length)return;if(ar.some($))return!1;if(ar.every(Se))return!0;ar=ar.filter(G);var dr=Ge(ar);if(se(dr,"allOf"))return Xt({allOf:ar},Ct,Nt);var pr=dr.filter(ue);z(dr,pr);var cr=dr.filter(X);z(dr,cr),dr.forEach(function(Tr){var Ne=Ze(ar,Tr),Gt=ve(Ne.filter(We),wt(Tr));if(Gt.length===1&&se(Qt,Tr))yr[Tr]=Gt[0].map(function(_r){return fr([_r],_r)});else if(Gt.length===1&&!se(Mt,Tr)&&!se(Yt,Tr))yr[Tr]=Gt[0];else{var ir=Ct.resolvers[Tr]||Ct.resolvers.defaultResolver;if(!ir)throw new Error("No resolver found for key "+Tr+". You can provide a resolver for this keyword in the options, or provide a default resolver.");var lr;se(Mt,Tr)||se(Qt,Tr)?lr=Ve(fr,Tr,jr):lr=function(_r){return fr(_r,null,jr.concat(Tr))};var Sr=!1;yr[Tr]=ir(Gt,jr.concat(Tr),lr,Ct,function(_r){return Sr=Array.isArray(_r),Wr(_r)}),yr[Tr]===void 0&&!Sr?Vt(Gt,jr.concat(Tr)):yr[Tr]===void 0&&delete yr[Tr]}}),Object.assign(yr,K(pr,"properties",ar,fr,Ct,jr)),Object.assign(yr,K(cr,"items",ar,fr,Ct,jr));function Wr(Tr){yr.allOf=_t(yr.allOf,Tr)}return yr}var Or=D(rt(ot)),xr=fr(Or,ot);return xr}Xt.options={resolvers:zt},Le.exports=Xt},69914:function(Le,w){"use strict";var u;/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s=typeof Symbol=="function"&&Symbol.for,p=s?Symbol.for("react.element"):60103,R=s?Symbol.for("react.portal"):60106,O=s?Symbol.for("react.fragment"):60107,_=s?Symbol.for("react.strict_mode"):60108,D=s?Symbol.for("react.profiler"):60114,N=s?Symbol.for("react.provider"):60109,j=s?Symbol.for("react.context"):60110,I=s?Symbol.for("react.async_mode"):60111,G=s?Symbol.for("react.concurrent_mode"):60111,z=s?Symbol.for("react.forward_ref"):60112,re=s?Symbol.for("react.suspense"):60113,ne=s?Symbol.for("react.suspense_list"):60120,ae=s?Symbol.for("react.memo"):60115,ve=s?Symbol.for("react.lazy"):60116,M=s?Symbol.for("react.block"):60121,H=s?Symbol.for("react.fundamental"):60117,ue=s?Symbol.for("react.responder"):60118,X=s?Symbol.for("react.scope"):60119;function se(ee){if(typeof ee=="object"&&ee!==null){var $=ee.$$typeof;switch($){case p:switch(ee=ee.type,ee){case I:case G:case O:case D:case _:case re:return ee;default:switch(ee=ee&&ee.$$typeof,ee){case j:case z:case ve:case ae:case N:return ee;default:return $}}case R:return $}}}function fe(ee){return se(ee)===G}u=I,u=G,u=j,u=N,u=p,u=z,u=O,u=ve,u=ae,u=R,u=D,u=_,u=re,u=function(ee){return fe(ee)||se(ee)===I},u=fe,u=function(ee){return se(ee)===j},u=function(ee){return se(ee)===N},u=function(ee){return typeof ee=="object"&&ee!==null&&ee.$$typeof===p},w.isForwardRef=function(ee){return se(ee)===z},u=function(ee){return se(ee)===O},u=function(ee){return se(ee)===ve},w.isMemo=function(ee){return se(ee)===ae},u=function(ee){return se(ee)===R},u=function(ee){return se(ee)===D},u=function(ee){return se(ee)===_},u=function(ee){return se(ee)===re},u=function(ee){return typeof ee=="string"||typeof ee=="function"||ee===O||ee===G||ee===D||ee===_||ee===re||ee===ne||typeof ee=="object"&&ee!==null&&(ee.$$typeof===ve||ee.$$typeof===ae||ee.$$typeof===N||ee.$$typeof===j||ee.$$typeof===z||ee.$$typeof===H||ee.$$typeof===ue||ee.$$typeof===X||ee.$$typeof===M)},u=se},38294:function(Le,w,u){"use strict";Le.exports=u(69914)},80070:function(Le,w,u){"use strict";u.d(w,{Q2:function(){return cr}});var s=u(74182),p=u(52322),R=u(65549),O=u(61837),_=u(27292),D=u(95544),N=u(60905),j=u(27556),I=u(86619),G=u(90436),z=u(16715),re=u(11776),ne=u(38402),ae=u(86136),ve=u(49378),M=u(90324),H=u(70595),ue=u(19353),X=u(17373),se=u(74828),fe=u(42494),ee=u(77277),$=u(85256),Se=u(21324),Ie=u(5806),Oe=u(64326),We=u(84899),Ge=u(44962),lt=u(2682),Qe=u(11433),He=u(12231);function St(){return St=Object.assign?Object.assign.bind():function(Ne){for(var Gt=1;Gt<arguments.length;Gt++){var ir=arguments[Gt];for(var lr in ir)Object.prototype.hasOwnProperty.call(ir,lr)&&(Ne[lr]=ir[lr])}return Ne},St.apply(this,arguments)}function qt(Ne,Gt){if(Ne==null)return{};var ir={},lr=Object.keys(Ne),Sr,_r;for(_r=0;_r<lr.length;_r++)Sr=lr[_r],!(Gt.indexOf(Sr)>=0)&&(ir[Sr]=Ne[Sr]);return ir}var dt=["uiSchema","registry"];function wt(Ne){var Gt=Ne.registry,ir=qt(Ne,dt),lr=Gt.translateString;return(0,p.jsx)(O.Z,St({title:lr(_.g8.AddItemButton)},ir,{color:"primary",children:(0,p.jsx)(R.Z,{})}))}function rt(Ne){var Gt=Ne.children,ir=Ne.disabled,lr=Ne.hasToolbar,Sr=Ne.hasCopy,_r=Ne.hasMoveDown,Er=Ne.hasMoveUp,Zr=Ne.hasRemove,Ir=Ne.index,Rr=Ne.onCopyIndexClick,Xr=Ne.onDropIndexClick,fn=Ne.onReorderClick,Nr=Ne.readonly,ln=Ne.uiSchema,mn=Ne.registry,vn=mn.templates.ButtonTemplates,gn=vn.CopyButton,un=vn.MoveDownButton,cn=vn.MoveUpButton,Yr=vn.RemoveButton,yn={flex:1,paddingLeft:6,paddingRight:6,fontWeight:"bold",minWidth:0};return(0,p.jsxs)(N.Z,{container:!0,alignItems:"center",children:[(0,p.jsx)(N.Z,{item:!0,xs:!0,style:{overflow:"auto"},children:(0,p.jsx)(D.Z,{mb:2,children:(0,p.jsx)(j.Z,{elevation:2,children:(0,p.jsx)(D.Z,{p:2,children:Gt})})})}),lr&&(0,p.jsxs)(N.Z,{item:!0,children:[(Er||_r)&&(0,p.jsx)(cn,{style:yn,disabled:ir||Nr||!Er,onClick:fn(Ir,Ir-1),uiSchema:ln,registry:mn}),(Er||_r)&&(0,p.jsx)(un,{style:yn,disabled:ir||Nr||!_r,onClick:fn(Ir,Ir+1),uiSchema:ln,registry:mn}),Sr&&(0,p.jsx)(gn,{style:yn,disabled:ir||Nr,onClick:Rr(Ir),uiSchema:ln,registry:mn}),Zr&&(0,p.jsx)(Yr,{style:yn,disabled:ir||Nr,onClick:Xr(Ir),uiSchema:ln,registry:mn})]})]})}var Ze=["key"];function yt(Ne){var Gt=Ne.canAdd,ir=Ne.disabled,lr=Ne.idSchema,Sr=Ne.uiSchema,_r=Ne.items,Er=Ne.onAddClick,Zr=Ne.readonly,Ir=Ne.registry,Rr=Ne.required,Xr=Ne.schema,fn=Ne.title,Nr=(0,_.LI)(Sr),ln=(0,_.t4)("ArrayFieldDescriptionTemplate",Ir,Nr),mn=(0,_.t4)("ArrayFieldItemTemplate",Ir,Nr),vn=(0,_.t4)("ArrayFieldTitleTemplate",Ir,Nr),gn=Ir.templates.ButtonTemplates.AddButton;return(0,p.jsx)(j.Z,{elevation:2,children:(0,p.jsxs)(D.Z,{p:2,children:[(0,p.jsx)(vn,{idSchema:lr,title:Nr.title||fn,schema:Xr,uiSchema:Sr,required:Rr,registry:Ir}),(0,p.jsx)(ln,{idSchema:lr,description:Nr.description||Xr.description,schema:Xr,uiSchema:Sr,registry:Ir}),(0,p.jsxs)(N.Z,{container:!0,children:[_r&&_r.map(function(un){var cn=un.key,Yr=qt(un,Ze);return(0,p.jsx)(mn,St({},Yr),cn)}),Gt&&(0,p.jsx)(N.Z,{container:!0,justifyContent:"flex-end",children:(0,p.jsx)(N.Z,{item:!0,children:(0,p.jsx)(D.Z,{mt:2,children:(0,p.jsx)(gn,{className:"array-item-add",onClick:Er,disabled:ir||Zr,uiSchema:Sr,registry:Ir})})})})]},"array-item-list-"+lr.$id)]})})}var tt=["id","name","placeholder","required","readonly","disabled","type","label","hideLabel","value","onChange","onChangeOverride","onBlur","onFocus","autofocus","options","schema","uiSchema","rawErrors","formContext","registry","InputLabelProps"],ge=["step","min","max"],$e=["date","datetime-local","file","time"];function mt(Ne){var Gt=Ne.id,ir=Ne.placeholder,lr=Ne.required,Sr=Ne.readonly,_r=Ne.disabled,Er=Ne.type,Zr=Ne.label,Ir=Ne.hideLabel,Rr=Ne.value,Xr=Ne.onChange,fn=Ne.onChangeOverride,Nr=Ne.onBlur,ln=Ne.onFocus,mn=Ne.autofocus,vn=Ne.options,gn=Ne.schema,un=Ne.rawErrors,cn=un===void 0?[]:un,Yr=Ne.InputLabelProps,yn=qt(Ne,tt),sn=(0,_.TC)(gn,Er,vn),Qr=sn.step,En=sn.min,bn=sn.max,oi=qt(sn,ge),zi=St({inputProps:St({step:Qr,min:En,max:bn},gn.examples?{list:(0,_.RS)(Gt)}:void 0)},oi),Pe=function(xe){var be=xe.target.value;return Xr(be===""?vn.emptyValue:be)},y=function(xe){var be=xe.target.value;return Nr(Gt,be)},T=function(xe){var be=xe.target.value;return ln(Gt,be)},V=$e.includes(Er)?St({},Yr,{shrink:!0}):Yr;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(I.Z,St({id:Gt,name:Gt,placeholder:ir,label:(0,_.RY)(Zr||void 0,Ir,!1),autoFocus:mn,required:lr,disabled:_r||Sr},zi,{value:Rr||Rr===0?Rr:"",error:cn.length>0,onChange:fn||Pe,onBlur:y,onFocus:T,InputLabelProps:V},yn,{"aria-describedby":(0,_.Jx)(Gt,!!gn.examples)})),Array.isArray(gn.examples)&&(0,p.jsx)("datalist",{id:(0,_.RS)(Gt),children:gn.examples.concat(gn.default&&!gn.examples.includes(gn.default)?[gn.default]:[]).map(function(te){return(0,p.jsx)("option",{value:te},te)})})]})}function _t(Ne){var Gt=Ne.id,ir=Ne.description;return ir?(0,p.jsx)(G.Z,{id:Gt,variant:"subtitle2",style:{marginTop:"5px"},children:ir}):null}function Vt(Ne){var Gt=Ne.errors,ir=Ne.registry,lr=ir.translateString;return(0,p.jsx)(j.Z,{elevation:2,children:(0,p.jsxs)(D.Z,{mb:2,p:2,children:[(0,p.jsx)(G.Z,{variant:"h6",children:lr(_.g8.ErrorsLabel)}),(0,p.jsx)(re.Z,{dense:!0,children:Gt.map(function(Sr,_r){return(0,p.jsxs)(ne.Z,{children:[(0,p.jsx)(ae.Z,{children:(0,p.jsx)(z.Z,{color:"error"})}),(0,p.jsx)(ve.Z,{primary:Sr.stack})]},_r)})})]})})}var Cr=["icon","color","uiSchema","registry"],Ve=["iconType"];function K(Ne){var Gt=Ne.icon,ir=Ne.color,lr=qt(Ne,Cr);return(0,p.jsx)(O.Z,St({},lr,{size:"small",color:ir,children:Gt}))}function Z(Ne){var Gt=Ne.registry.translateString;return(0,p.jsx)(K,St({title:Gt(_.g8.CopyButton)},Ne,{icon:(0,p.jsx)(ue.Z,{fontSize:"small"})}))}function Q(Ne){var Gt=Ne.registry.translateString;return(0,p.jsx)(K,St({title:Gt(_.g8.MoveDownButton)},Ne,{icon:(0,p.jsx)(H.Z,{fontSize:"small"})}))}function ie(Ne){var Gt=Ne.registry.translateString;return(0,p.jsx)(K,St({title:Gt(_.g8.MoveUpButton)},Ne,{icon:(0,p.jsx)(M.Z,{fontSize:"small"})}))}function Te(Ne){var Gt=Ne.iconType,ir=qt(Ne,Ve),lr=ir.registry.translateString;return(0,p.jsx)(K,St({title:lr(_.g8.RemoveButton)},ir,{color:"secondary",icon:(0,p.jsx)(X.Z,{fontSize:Gt==="default"?"medium":"small"})}))}function Xe(Ne){var Gt=Ne.errors,ir=Gt===void 0?[]:Gt,lr=Ne.idSchema;if(ir.length===0)return null;var Sr=(0,_.UR)(lr);return(0,p.jsx)(re.Z,{dense:!0,disablePadding:!0,children:ir.map(function(_r,Er){return(0,p.jsx)(ne.Z,{disableGutters:!0,children:(0,p.jsx)(se.Z,{id:Sr,children:_r})},Er)})})}function ct(Ne){var Gt=Ne.idSchema,ir=Ne.help;if(!ir)return null;var lr=(0,_.JL)(Gt);return(0,p.jsx)(se.Z,{id:lr,children:ir})}function Mt(Ne){var Gt=Ne.id,ir=Ne.children,lr=Ne.classNames,Sr=Ne.style,_r=Ne.disabled,Er=Ne.displayLabel,Zr=Ne.hidden,Ir=Ne.label,Rr=Ne.onDropPropertyClick,Xr=Ne.onKeyChange,fn=Ne.readonly,Nr=Ne.required,ln=Ne.rawErrors,mn=ln===void 0?[]:ln,vn=Ne.errors,gn=Ne.help,un=Ne.rawDescription,cn=Ne.schema,Yr=Ne.uiSchema,yn=Ne.registry,sn=(0,_.LI)(Yr),Qr=(0,_.t4)("WrapIfAdditionalTemplate",yn,sn);return Zr?(0,p.jsx)("div",{style:{display:"none"},children:ir}):(0,p.jsx)(Qr,{classNames:lr,style:Sr,disabled:_r,id:Gt,label:Ir,onDropPropertyClick:Rr,onKeyChange:Xr,readonly:fn,required:Nr,schema:cn,uiSchema:Yr,registry:yn,children:(0,p.jsxs)(fe.Z,{fullWidth:!0,error:!!mn.length,required:Nr,children:[ir,Er&&un?(0,p.jsx)(G.Z,{variant:"caption",color:"textSecondary",children:un}):null,vn,gn]})})}function Qt(Ne){var Gt=Ne.description,ir=Ne.title,lr=Ne.properties,Sr=Ne.required,_r=Ne.disabled,Er=Ne.readonly,Zr=Ne.uiSchema,Ir=Ne.idSchema,Rr=Ne.schema,Xr=Ne.formData,fn=Ne.onAddClick,Nr=Ne.registry,ln=(0,_.LI)(Zr),mn=(0,_.t4)("TitleFieldTemplate",Nr,ln),vn=(0,_.t4)("DescriptionFieldTemplate",Nr,ln),gn=Nr.templates.ButtonTemplates.AddButton;return(0,p.jsxs)(p.Fragment,{children:[ir&&(0,p.jsx)(mn,{id:(0,_.Vt)(Ir),title:ir,required:Sr,schema:Rr,uiSchema:Zr,registry:Nr}),Gt&&(0,p.jsx)(vn,{id:(0,_.Si)(Ir),description:Gt,schema:Rr,uiSchema:Zr,registry:Nr}),(0,p.jsxs)(N.Z,{container:!0,spacing:2,style:{marginTop:"10px"},children:[lr.map(function(un,cn){return un.hidden?un.content:(0,p.jsx)(N.Z,{item:!0,xs:12,style:{marginBottom:"10px"},children:un.content},cn)}),(0,_.Rc)(Rr,Zr,Xr)&&(0,p.jsx)(N.Z,{container:!0,justifyContent:"flex-end",children:(0,p.jsx)(N.Z,{item:!0,children:(0,p.jsx)(gn,{className:"object-property-expand",onClick:fn(Rr),disabled:_r||Er,uiSchema:Zr,registry:Nr})})})]})]})}function Yt(Ne){var Gt=Ne.uiSchema,ir=(0,_.rF)(Gt),lr=ir.submitText,Sr=ir.norender,_r=ir.props,Er=_r===void 0?{}:_r;return Sr?null:(0,p.jsx)(D.Z,{marginTop:3,children:(0,p.jsx)(ee.Z,St({type:"submit",variant:"contained",color:"primary"},Er,{children:lr}))})}function zt(Ne){var Gt=Ne.id,ir=Ne.title;return(0,p.jsxs)(D.Z,{id:Gt,mb:1,mt:1,children:[(0,p.jsx)(G.Z,{variant:"h5",children:ir}),(0,p.jsx)($.Z,{})]})}function Xt(Ne){var Gt=Ne.children,ir=Ne.classNames,lr=Ne.style,Sr=Ne.disabled,_r=Ne.id,Er=Ne.label,Zr=Ne.onDropPropertyClick,Ir=Ne.onKeyChange,Rr=Ne.readonly,Xr=Ne.required,fn=Ne.schema,Nr=Ne.uiSchema,ln=Ne.registry,mn=ln.templates,vn=ln.translateString,gn=mn.ButtonTemplates.RemoveButton,un=vn(_.g8.KeyLabel,[Er]),cn=_.jk in fn,Yr={flex:1,paddingLeft:6,paddingRight:6,fontWeight:"bold"};if(!cn)return(0,p.jsx)("div",{className:ir,style:lr,children:Gt});var yn=function(Qr){var En=Qr.target;return Ir(En.value)};return(0,p.jsxs)(N.Z,{container:!0,alignItems:"center",spacing:2,className:ir,style:lr,children:[(0,p.jsx)(N.Z,{item:!0,xs:!0,children:(0,p.jsx)(I.Z,{fullWidth:!0,required:Xr,label:un,defaultValue:Er,disabled:Sr||Rr,id:_r+"-key",name:_r+"-key",onBlur:Rr?void 0:yn,type:"text"})}),(0,p.jsx)(N.Z,{item:!0,xs:!0,children:Gt}),(0,p.jsx)(N.Z,{item:!0,children:(0,p.jsx)(gn,{iconType:"default",style:Yr,disabled:Sr||Rr,onClick:Zr(Er),uiSchema:Nr,registry:ln})})]},_r+"-key")}function ot(){return{ArrayFieldItemTemplate:rt,ArrayFieldTemplate:yt,BaseInputTemplate:mt,ButtonTemplates:{AddButton:wt,CopyButton:Z,MoveDownButton:Q,MoveUpButton:ie,RemoveButton:Te,SubmitButton:Yt},DescriptionFieldTemplate:_t,ErrorListTemplate:Vt,FieldErrorTemplate:Xe,FieldHelpTemplate:ct,FieldTemplate:Mt,ObjectFieldTemplate:Qt,TitleFieldTemplate:zt,WrapIfAdditionalTemplate:Xt}}var Ct=null;function Nt(Ne){var Gt,ir=Ne.schema,lr=Ne.id,Sr=Ne.value,_r=Ne.disabled,Er=Ne.readonly,Zr=Ne.label,Ir=Zr===void 0?"":Zr,Rr=Ne.hideLabel,Xr=Ne.autofocus,fn=Ne.onChange,Nr=Ne.onBlur,ln=Ne.onFocus,mn=Ne.registry,vn=Ne.options,gn=Ne.uiSchema,un=(0,_.t4)("DescriptionFieldTemplate",mn,vn),cn=(0,_.iE)(ir),Yr=function(bn,oi){return fn(oi)},yn=function(bn){var oi=bn.target.value;return Nr(lr,oi)},sn=function(bn){var oi=bn.target.value;return ln(lr,oi)},Qr=(Gt=vn.description)!=null?Gt:ir.description;return(0,p.jsxs)(p.Fragment,{children:[!Rr&&!!Qr&&(0,p.jsx)(un,{id:(0,_.Si)(lr),description:Qr,schema:ir,uiSchema:gn,registry:mn}),(0,p.jsx)(Ie.Z,{control:(0,p.jsx)(Se.Z,{id:lr,name:lr,checked:typeof Sr=="undefined"?!1:Boolean(Sr),required:cn,disabled:_r||Er,autoFocus:Xr,onChange:Yr,onBlur:yn,onFocus:sn,"aria-describedby":(0,_.Jx)(lr)}),label:(0,_.RY)(Ir,Rr,!1)})]})}function fr(Ne){var Gt=Ne.label,ir=Ne.hideLabel,lr=Ne.id,Sr=Ne.disabled,_r=Ne.options,Er=Ne.value,Zr=Ne.autofocus,Ir=Ne.readonly,Rr=Ne.required,Xr=Ne.onChange,fn=Ne.onBlur,Nr=Ne.onFocus,ln=_r.enumOptions,mn=_r.enumDisabled,vn=_r.inline,gn=_r.emptyValue,un=Array.isArray(Er)?Er:[Er],cn=function(Qr){return function(En){var bn=En.target.checked;Xr(bn?(0,_.U3)(Qr,un,ln):(0,_.aI)(Qr,un,ln))}},Yr=function(Qr){var En=Qr.target.value;return fn(lr,(0,_.QP)(En,ln,gn))},yn=function(Qr){var En=Qr.target.value;return Nr(lr,(0,_.QP)(En,ln,gn))};return(0,p.jsxs)(p.Fragment,{children:[(0,_.RY)((0,p.jsx)(We.Z,{required:Rr,htmlFor:lr,children:Gt||void 0}),ir),(0,p.jsx)(Oe.Z,{id:lr,row:!!vn,children:Array.isArray(ln)&&ln.map(function(sn,Qr){var En=(0,_.TR)(sn.value,un),bn=Array.isArray(mn)&&mn.indexOf(sn.value)!==-1,oi=(0,p.jsx)(Se.Z,{id:(0,_.DK)(lr,Qr),name:lr,checked:En,disabled:Sr||bn||Ir,autoFocus:Zr&&Qr===0,onChange:cn(Qr),onBlur:Yr,onFocus:yn,"aria-describedby":(0,_.Jx)(lr)});return(0,p.jsx)(Ie.Z,{control:oi,label:sn.label},Qr)})})]})}function Or(Ne){var Gt,ir=Ne.id,lr=Ne.options,Sr=Ne.value,_r=Ne.required,Er=Ne.disabled,Zr=Ne.readonly,Ir=Ne.label,Rr=Ne.hideLabel,Xr=Ne.onChange,fn=Ne.onBlur,Nr=Ne.onFocus,ln=lr.enumOptions,mn=lr.enumDisabled,vn=lr.emptyValue,gn=function(Qr,En){return Xr((0,_.QP)(En,ln,vn))},un=function(Qr){var En=Qr.target.value;return fn(ir,(0,_.QP)(En,ln,vn))},cn=function(Qr){var En=Qr.target.value;return Nr(ir,(0,_.QP)(En,ln,vn))},Yr=lr?lr.inline:!1,yn=(Gt=(0,_.Rt)(Sr,ln))!=null?Gt:null;return(0,p.jsxs)(p.Fragment,{children:[(0,_.RY)((0,p.jsx)(We.Z,{required:_r,htmlFor:ir,children:Ir||void 0}),Rr),(0,p.jsx)(lt.Z,{id:ir,name:ir,value:yn,row:Yr,onChange:gn,onBlur:un,onFocus:cn,"aria-describedby":(0,_.Jx)(ir),children:Array.isArray(ln)&&ln.map(function(sn,Qr){var En=Array.isArray(mn)&&mn.indexOf(sn.value)!==-1,bn=(0,p.jsx)(Ie.Z,{control:(0,p.jsx)(Ge.Z,{name:ir,id:(0,_.DK)(ir,Qr),color:"primary"}),label:sn.label,value:String(Qr),disabled:Er||En||Zr},Qr);return bn})})]})}function xr(Ne){var Gt=Ne.value,ir=Ne.readonly,lr=Ne.disabled,Sr=Ne.onBlur,_r=Ne.onFocus,Er=Ne.options,Zr=Ne.schema,Ir=Ne.onChange,Rr=Ne.required,Xr=Ne.label,fn=Ne.hideLabel,Nr=Ne.id,ln=St({value:Gt,label:Xr,id:Nr,name:Nr},(0,_.um)(Zr)),mn=function(cn,Yr){Ir(Yr!=null?Yr:Er.emptyValue)},vn=function(cn){var Yr=cn.target.value;return Sr(Nr,Yr)},gn=function(cn){var Yr=cn.target.value;return _r(Nr,Yr)};return(0,p.jsxs)(p.Fragment,{children:[(0,_.RY)((0,p.jsx)(We.Z,{required:Rr,htmlFor:Nr,children:Xr||void 0}),fn),(0,p.jsx)(Qe.Z,St({disabled:lr||ir,onChange:mn,onBlur:vn,onFocus:gn,valueLabelDisplay:"auto"},ln,{"aria-describedby":(0,_.Jx)(Nr)}))]})}var ar=["schema","id","name","options","label","hideLabel","required","disabled","readonly","placeholder","value","multiple","autofocus","onChange","onBlur","onFocus","rawErrors","registry","uiSchema","hideError","formContext"];function Ft(Ne){var Gt=Ne.id,ir=Ne.options,lr=Ne.label,Sr=Ne.hideLabel,_r=Ne.required,Er=Ne.disabled,Zr=Ne.readonly,Ir=Ne.placeholder,Rr=Ne.value,Xr=Ne.multiple,fn=Ne.autofocus,Nr=Ne.onChange,ln=Ne.onBlur,mn=Ne.onFocus,vn=Ne.rawErrors,gn=vn===void 0?[]:vn,un=qt(Ne,ar),cn=ir.enumOptions,Yr=ir.enumDisabled,yn=ir.emptyValue;Xr=typeof Xr=="undefined"?!1:!!Xr;var sn=Xr?[]:"",Qr=typeof Rr=="undefined"||Xr&&Rr.length<1||!Xr&&Rr===sn,En=function(y){var T=y.target.value;return Nr((0,_.QP)(T,cn,yn))},bn=function(y){var T=y.target.value;return ln(Gt,(0,_.QP)(T,cn,yn))},oi=function(y){var T=y.target.value;return mn(Gt,(0,_.QP)(T,cn,yn))},zi=(0,_.Rt)(Rr,cn,Xr);return(0,p.jsx)(I.Z,St({id:Gt,name:Gt,label:(0,_.RY)(lr,Sr||!lr,!1),value:Qr?sn:zi,required:_r,disabled:Er||Zr,autoFocus:fn,placeholder:Ir,error:gn.length>0,onChange:En,onBlur:bn,onFocus:oi},un,{select:!0,InputLabelProps:St({},un.InputLabelProps,{shrink:!Qr}),SelectProps:St({},un.SelectProps,{multiple:Xr}),"aria-describedby":(0,_.Jx)(Gt),children:Array.isArray(cn)&&cn.map(function(Pe,y){var T=Pe.value,V=Pe.label,te=Array.isArray(Yr)&&Yr.indexOf(T)!==-1;return(0,p.jsx)(He.Z,{value:String(y),disabled:te,children:V},y)})}))}function jr(Ne){var Gt=Ne.options,ir=Ne.registry,lr=(0,_.t4)("BaseInputTemplate",ir,Gt),Sr=5;return(typeof Gt.rows=="string"||typeof Gt.rows=="number")&&(Sr=Gt.rows),(0,p.jsx)(lr,St({},Ne,{multiline:!0,rows:Sr}))}function yr(){return{CheckboxWidget:Nt,CheckboxesWidget:fr,RadioWidget:Or,RangeWidget:xr,SelectWidget:Ft,TextareaWidget:jr}}var dr=null;function pr(){return{templates:ot(),widgets:yr()}}var cr=pr();function Wr(){return withTheme(pr())}var Tr=null},27292:function(Le,w,u){"use strict";u.d(w,{jk:function(){return Bn},F8:function(){return Oi},M9:function(){return ei},BO:function(){return io},YU:function(){return lo},PK:function(){return Ni},If:function(){return Fo},MA:function(){return Ei},Sr:function(){return Jn},g$:function(){return Di},dW:function(){return kr},t5:function(){return xo},g8:function(){return Bs},J1:function(){return Hs},ji:function(){return rs},TE:function(){return Ro},Jx:function(){return la},mH:function(){return Gi},Rc:function(){return ns},v$:function(){return is},hf:function(){return xi},OP:function(){return ka},qt:function(){return os},Si:function(){return Xi},XG:function(){return qs},aI:function(){return Ka},Rt:function(){return za},TR:function(){return Ea},U3:function(){return ea},QP:function(){return ws},UR:function(){return us},RS:function(){return Yo},Tx:function(){return $s},TC:function(){return Ha},f_:function(){return Li},rF:function(){return ta},t4:function(){return Yi},LI:function(){return Fn},us:function(){return Lo},H7:function(){return Ra},JL:function(){return Fa},A7:function(){return Xs},FZ:function(){return to},Kn:function(){return Dn},RY:function(){return xs},_4:function(){return wa},PM:function(){return Ys},DK:function(){return Ja},pp:function(){return cs},$2:function(){return Fs},vk:function(){return fs},xk:function(){return ja},um:function(){return $a},iE:function(){return js},N0:function(){return Ns},Vt:function(){return Os},tC:function(){return ua},mp:function(){return Xo},y5:function(){return Ls},yv:function(){return Ga},Yp:function(){return ds},J0:function(){return bo},RQ:function(){return Oa}});var s=u(65255),p=u(46218),R=u(43703),O="__lodash_hash_undefined__";function _(C){return this.__data__.set(C,O),this}var D=_;function N(C){return this.__data__.has(C)}var j=N;function I(C){var U=-1,oe=C==null?0:C.length;for(this.__data__=new R.Z;++U<oe;)this.add(C[U])}I.prototype.add=I.prototype.push=D,I.prototype.has=j;var G=I;function z(C,U){for(var oe=-1,Ce=C==null?0:C.length;++oe<Ce;)if(U(C[oe],oe,C))return!0;return!1}var re=z;function ne(C,U){return C.has(U)}var ae=ne,ve=1,M=2;function H(C,U,oe,Ce,De,Re){var ut=oe&ve,It=C.length,Pt=U.length;if(It!=Pt&&!(ut&&Pt>It))return!1;var or=Re.get(C),vr=Re.get(U);if(or&&vr)return or==U&&vr==C;var Ar=-1,Br=!0,Sn=oe&M?new G:void 0;for(Re.set(C,U),Re.set(U,C);++Ar<It;){var Kn=C[Ar],kn=U[Ar];if(Ce)var Tn=ut?Ce(kn,Kn,Ar,U,C,Re):Ce(Kn,kn,Ar,C,U,Re);if(Tn!==void 0){if(Tn)continue;Br=!1;break}if(Sn){if(!re(U,function(qn,vi){if(!ae(Sn,vi)&&(Kn===qn||De(Kn,qn,oe,Ce,Re)))return Sn.push(vi)})){Br=!1;break}}else if(!(Kn===kn||De(Kn,kn,oe,Ce,Re))){Br=!1;break}}return Re.delete(C),Re.delete(U),Br}var ue=H,X=u(187),se=u(88282),fe=u(78804);function ee(C){var U=-1,oe=Array(C.size);return C.forEach(function(Ce,De){oe[++U]=[De,Ce]}),oe}var $=ee;function Se(C){var U=-1,oe=Array(C.size);return C.forEach(function(Ce){oe[++U]=Ce}),oe}var Ie=Se,Oe=1,We=2,Ge="[object Boolean]",lt="[object Date]",Qe="[object Error]",He="[object Map]",St="[object Number]",qt="[object RegExp]",dt="[object Set]",wt="[object String]",rt="[object Symbol]",Ze="[object ArrayBuffer]",yt="[object DataView]",tt=X.Z?X.Z.prototype:void 0,ge=tt?tt.valueOf:void 0;function $e(C,U,oe,Ce,De,Re,ut){switch(oe){case yt:if(C.byteLength!=U.byteLength||C.byteOffset!=U.byteOffset)return!1;C=C.buffer,U=U.buffer;case Ze:return!(C.byteLength!=U.byteLength||!Re(new se.Z(C),new se.Z(U)));case Ge:case lt:case St:return(0,fe.Z)(+C,+U);case Qe:return C.name==U.name&&C.message==U.message;case qt:case wt:return C==U+"";case He:var It=$;case dt:var Pt=Ce&Oe;if(It||(It=Ie),C.size!=U.size&&!Pt)return!1;var or=ut.get(C);if(or)return or==U;Ce|=We,ut.set(C,U);var vr=ue(It(C),It(U),Ce,De,Re,ut);return ut.delete(C),vr;case rt:if(ge)return ge.call(C)==ge.call(U)}return!1}var mt=$e,_t=u(37245),Vt=1,Cr=Object.prototype,Ve=Cr.hasOwnProperty;function K(C,U,oe,Ce,De,Re){var ut=oe&Vt,It=(0,_t.Z)(C),Pt=It.length,or=(0,_t.Z)(U),vr=or.length;if(Pt!=vr&&!ut)return!1;for(var Ar=Pt;Ar--;){var Br=It[Ar];if(!(ut?Br in U:Ve.call(U,Br)))return!1}var Sn=Re.get(C),Kn=Re.get(U);if(Sn&&Kn)return Sn==U&&Kn==C;var kn=!0;Re.set(C,U),Re.set(U,C);for(var Tn=ut;++Ar<Pt;){Br=It[Ar];var qn=C[Br],vi=U[Br];if(Ce)var co=ut?Ce(vi,qn,Br,U,C,Re):Ce(qn,vi,Br,C,U,Re);if(!(co===void 0?qn===vi||De(qn,vi,oe,Ce,Re):co)){kn=!1;break}Tn||(Tn=Br=="constructor")}if(kn&&!Tn){var bi=C.constructor,so=U.constructor;bi!=so&&"constructor"in C&&"constructor"in U&&!(typeof bi=="function"&&bi instanceof bi&&typeof so=="function"&&so instanceof so)&&(kn=!1)}return Re.delete(C),Re.delete(U),kn}var Z=K,Q=u(57210),ie=u(97885),Te=u(74975),Xe=u(98127),ct=1,Mt="[object Arguments]",Qt="[object Array]",Yt="[object Object]",zt=Object.prototype,Xt=zt.hasOwnProperty;function ot(C,U,oe,Ce,De,Re){var ut=(0,ie.Z)(C),It=(0,ie.Z)(U),Pt=ut?Qt:(0,Q.Z)(C),or=It?Qt:(0,Q.Z)(U);Pt=Pt==Mt?Yt:Pt,or=or==Mt?Yt:or;var vr=Pt==Yt,Ar=or==Yt,Br=Pt==or;if(Br&&(0,Te.Z)(C)){if(!(0,Te.Z)(U))return!1;ut=!0,vr=!1}if(Br&&!vr)return Re||(Re=new p.Z),ut||(0,Xe.Z)(C)?ue(C,U,oe,Ce,De,Re):mt(C,U,Pt,oe,Ce,De,Re);if(!(oe&ct)){var Sn=vr&&Xt.call(C,"__wrapped__"),Kn=Ar&&Xt.call(U,"__wrapped__");if(Sn||Kn){var kn=Sn?C.value():C,Tn=Kn?U.value():U;return Re||(Re=new p.Z),De(kn,Tn,oe,Ce,Re)}}return Br?(Re||(Re=new p.Z),Z(C,U,oe,Ce,De,Re)):!1}var Ct=ot,Nt=u(43391);function fr(C,U,oe,Ce,De){return C===U?!0:C==null||U==null||!(0,Nt.Z)(C)&&!(0,Nt.Z)(U)?C!==C&&U!==U:Ct(C,U,oe,Ce,fr,De)}var Or=fr;function xr(C,U,oe){oe=typeof oe=="function"?oe:void 0;var Ce=oe?oe(C,U):void 0;return Ce===void 0?Or(C,U,void 0,oe):!!Ce}var ar=xr,Ft=u(90772),jr=u(7279),yr=u(404),dr=u(39075),pr=u(6279),cr=u(93122),Wr=u(1284);function Tr(C,U,oe,Ce){var De=-1,Re=C==null?0:C.length;for(Ce&&Re&&(oe=C[++De]);++De<Re;)oe=U(oe,C[De],De,C);return oe}var Ne=Tr;function Gt(C){return function(U,oe,Ce){for(var De=-1,Re=Object(U),ut=Ce(U),It=ut.length;It--;){var Pt=ut[C?It:++De];if(oe(Re[Pt],Pt,Re)===!1)break}return U}}var ir=Gt,lr=ir(),Sr=lr,_r=u(20649);function Er(C,U){return C&&Sr(C,U,_r.Z)}var Zr=Er,Ir=u(63282);function Rr(C,U){return function(oe,Ce){if(oe==null)return oe;if(!(0,Ir.Z)(oe))return C(oe,Ce);for(var De=oe.length,Re=U?De:-1,ut=Object(oe);(U?Re--:++Re<De)&&Ce(ut[Re],Re,ut)!==!1;);return oe}}var Xr=Rr,fn=Xr(Zr),Nr=fn,ln=1,mn=2;function vn(C,U,oe,Ce){var De=oe.length,Re=De,ut=!Ce;if(C==null)return!Re;for(C=Object(C);De--;){var It=oe[De];if(ut&&It[2]?It[1]!==C[It[0]]:!(It[0]in C))return!1}for(;++De<Re;){It=oe[De];var Pt=It[0],or=C[Pt],vr=It[1];if(ut&&It[2]){if(or===void 0&&!(Pt in C))return!1}else{var Ar=new p.Z;if(Ce)var Br=Ce(or,vr,Pt,C,U,Ar);if(!(Br===void 0?Or(vr,or,ln|mn,Ce,Ar):Br))return!1}}return!0}var gn=vn;function un(C){return C===C&&!(0,cr.Z)(C)}var cn=un;function Yr(C){for(var U=(0,_r.Z)(C),oe=U.length;oe--;){var Ce=U[oe],De=C[Ce];U[oe]=[Ce,De,cn(De)]}return U}var yn=Yr;function sn(C,U){return function(oe){return oe==null?!1:oe[C]===U&&(U!==void 0||C in Object(oe))}}var Qr=sn;function En(C){var U=yn(C);return U.length==1&&U[0][2]?Qr(U[0][0],U[0][1]):function(oe){return oe===C||gn(oe,C,U)}}var bn=En,oi=u(12930),zi=u(23502),Pe=u(57969),y=1,T=2;function V(C,U){return(0,zi.Z)(C)&&cn(U)?Qr((0,Pe.Z)(C),U):function(oe){var Ce=(0,Ft.Z)(oe,C);return Ce===void 0&&Ce===U?(0,oi.Z)(oe,C):Or(U,Ce,y|T)}}var te=V,xe=u(89930);function be(C){return function(U){return U==null?void 0:U[C]}}var Ke=be,je=u(89523);function Tt(C){return function(U){return(0,je.Z)(U,C)}}var jt=Tt;function Zt(C){return(0,zi.Z)(C)?Ke((0,Pe.Z)(C)):jt(C)}var Pr=Zt;function mr(C){return typeof C=="function"?C:C==null?xe.Z:typeof C=="object"?(0,ie.Z)(C)?te(C[0],C[1]):bn(C):Pr(C)}var On=mr;function Mn(C,U,oe,Ce,De){return De(C,function(Re,ut,It){oe=Ce?(Ce=!1,Re):U(oe,Re,ut,It)}),oe}var zn=Mn;function $i(C,U,oe){var Ce=(0,ie.Z)(C)?Ne:zn,De=arguments.length<3;return Ce(C,On(U,4),oe,De,Nr)}var Ii=$i,Cn=u(19510);function Bo(C){return typeof C=="function"?C:xe.Z}var So=Bo,ko=/\s/;function $n(C){for(var U=C.length;U--&&ko.test(C.charAt(U)););return U}var Ri=$n,Mo=/^\s+/;function Ht(C){return C&&C.slice(0,Ri(C)+1).replace(Mo,"")}var Ee=Ht,F=u(22758),q=0/0,_e=/^[-+]0x[0-9a-f]+$/i,Fe=/^0b[01]+$/i,st=/^0o[0-7]+$/i,ht=parseInt;function Wt(C){if(typeof C=="number")return C;if((0,F.Z)(C))return q;if((0,cr.Z)(C)){var U=typeof C.valueOf=="function"?C.valueOf():C;C=(0,cr.Z)(U)?U+"":U}if(typeof C!="string")return C===0?C:+C;C=Ee(C);var oe=Fe.test(C);return oe||st.test(C)?ht(C.slice(2),oe?2:8):_e.test(C)?q:+C}var Lt=Wt,Lr=1/0,Kr=17976931348623157e292;function In(C){if(!C)return C===0?C:0;if(C=Lt(C),C===Lr||C===-Lr){var U=C<0?-1:1;return U*Kr}return C===C?C:0}var wi=In;function Ai(C){var U=wi(C),oe=U%1;return U===U?oe?U-oe:U:0}var si=Ai,Si=9007199254740991,Hi=4294967295,gs=Math.min;function ts(C,U){if(C=si(C),C<1||C>Si)return[];var oe=Hi,Ce=gs(C,Hi);U=So(U),C-=Hi;for(var De=(0,Cn.Z)(Ce,U);++oe<C;)U(oe);return De}var va=ts,Wo=u(25513),Ks=u(33372),gt=u.n(Ks),Je=u(53338),Bt=u(91130),Kt=u(19603);function nr(C,U){return(0,Kt.Z)((0,Bt.Z)(C,U,xe.Z),C+"")}var Ur=nr;function Fr(C,U,oe,Ce){for(var De=C.length,Re=oe+(Ce?1:-1);Ce?Re--:++Re<De;)if(U(C[Re],Re,C))return Re;return-1}var en=Fr;function ai(C){return C!==C}var Hn=ai;function Yn(C,U,oe){for(var Ce=oe-1,De=C.length;++Ce<De;)if(C[Ce]===U)return Ce;return-1}var rn=Yn;function tn(C,U,oe){return U===U?rn(C,U,oe):en(C,Hn,oe)}var Zn=tn;function an(C,U){var oe=C==null?0:C.length;return!!oe&&Zn(C,U,0)>-1}var mi=an;function Pi(C,U,oe){for(var Ce=-1,De=C==null?0:C.length;++Ce<De;)if(oe(U,C[Ce]))return!0;return!1}var ji=Pi,qi=u(87459);function Xn(){}var _n=Xn,Fi=1/0,An=qi.Z&&1/Ie(new qi.Z([,-0]))[1]==Fi?function(C){return new qi.Z(C)}:_n,Zo=An,Ji=200;function ci(C,U,oe){var Ce=-1,De=mi,Re=C.length,ut=!0,It=[],Pt=It;if(oe)ut=!1,De=ji;else if(Re>=Ji){var or=U?null:Zo(C);if(or)return Ie(or);ut=!1,De=ae,Pt=new G}else Pt=U?[]:It;e:for(;++Ce<Re;){var vr=C[Ce],Ar=U?U(vr):vr;if(vr=oe||vr!==0?vr:0,ut&&Ar===Ar){for(var Br=Pt.length;Br--;)if(Pt[Br]===Ar)continue e;U&&Pt.push(Ar),It.push(vr)}else De(Pt,Ar,oe)||(Pt!==It&&Pt.push(Ar),It.push(vr))}return It}var Eo=ci;function wo(C){return(0,Nt.Z)(C)&&(0,Ir.Z)(C)}var $o=wo,fi=Ur(function(C){return Eo((0,Je.Z)(C,1,$o,!0))}),no=fi;function Ti(C,U){return Or(C,U)}var mo=Ti,Io=u(7921),ao=u(52322),As=u(2784),zs=u(63708),ys=u(55487);function Dn(C){return typeof File!="undefined"&&C instanceof File||typeof Date!="undefined"&&C instanceof Date?!1:typeof C=="object"&&C!==null&&!Array.isArray(C)}function Ro(C){return C.additionalItems===!0&&console.warn("additionalItems=true is currently not supported"),Dn(C.additionalItems)}function Gi(C){if(C!==""){if(C===null)return null;if(/\.$/.test(C)||/\.0$/.test(C)||/\.\d*0$/.test(C))return C;var U=Number(C),oe=typeof U=="number"&&!Number.isNaN(U);return oe?U:C}}function Uo(C,U){for(var oe=0;oe<U.length;oe++){var Ce=U[oe];Ce.enumerable=Ce.enumerable||!1,Ce.configurable=!0,"value"in Ce&&(Ce.writable=!0),Object.defineProperty(C,gi(Ce.key),Ce)}}function eo(C,U,oe){return U&&Uo(C.prototype,U),oe&&Uo(C,oe),Object.defineProperty(C,"prototype",{writable:!1}),C}function dn(){return dn=Object.assign?Object.assign.bind():function(C){for(var U=1;U<arguments.length;U++){var oe=arguments[U];for(var Ce in oe)Object.prototype.hasOwnProperty.call(oe,Ce)&&(C[Ce]=oe[Ce])}return C},dn.apply(this,arguments)}function Ps(C){if(C==null)throw new TypeError("Cannot destructure "+C)}function _i(C,U){if(C==null)return{};var oe={},Ce=Object.keys(C),De,Re;for(Re=0;Re<Ce.length;Re++)De=Ce[Re],!(U.indexOf(De)>=0)&&(oe[De]=C[De]);return oe}function Vo(C,U){if(typeof C!="object"||C===null)return C;var oe=C[Symbol.toPrimitive];if(oe!==void 0){var Ce=oe.call(C,U||"default");if(typeof Ce!="object")return Ce;throw new TypeError("@@toPrimitive must return a primitive value.")}return(U==="string"?String:Number)(C)}function gi(C){var U=Vo(C,"string");return typeof U=="symbol"?U:String(U)}var Bn="__additional_property",Oo="additionalProperties",Un="allOf",Oi="anyOf",pi="const",li="default",Ko="definitions",po="dependencies",vs="enum",ei="__errors",io="$id",lo="items",Ni="$name",Fo="oneOf",Ei="properties",bs="required",xo="submitButtonOptions",Jn="$ref",Di="__rjsf_additionalProperties",kr="__rjsf_rootSchema",Qn="ui:field",go="ui:widget",rs="ui:options",Hs="ui:globalOptions";function Fn(C,U){return C===void 0&&(C={}),U===void 0&&(U={}),Object.keys(C).filter(function(oe){return oe.indexOf("ui:")===0}).reduce(function(oe,Ce){var De,Re=C[Ce];return Ce===go&&Dn(Re)?(console.error("Setting options via ui:widget object is no longer supported, use ui:options instead"),oe):Ce===rs&&Dn(Re)?dn({},oe,Re):dn({},oe,(De={},De[Ce.substring(3)]=Re,De))},dn({},U))}function ns(C,U,oe){if(U===void 0&&(U={}),!C.additionalProperties)return!1;var Ce=Fn(U),De=Ce.expandable,Re=De===void 0?!0:De;return Re===!1?Re:C.maxProperties!==void 0&&oe?Object.keys(oe).length<C.maxProperties:!0}function is(C){var U,oe=(U={},U[ei]=[],U.addError=function(Re){this[ei].push(Re)},U);if(Array.isArray(C))return C.reduce(function(De,Re,ut){var It;return dn({},De,(It={},It[ut]=is(Re),It))},oe);if((0,s.Z)(C)){var Ce=C;return Object.keys(Ce).reduce(function(De,Re){var ut;return dn({},De,(ut={},ut[Re]=is(Ce[Re]),ut))},oe)}return oe}function os(C,U){return ar(C,U,function(oe,Ce){if(typeof oe=="function"&&typeof Ce=="function")return!0})}function Ts(C,U){var oe=U[C],Ce=(0,dr.Z)(U,[C]);return[Ce,oe]}function _s(C,U){U===void 0&&(U={});var oe=C||"";if(oe.startsWith("#"))oe=decodeURIComponent(oe.substring(1));else throw new Error("Could not find a definition for "+C+".");var Ce=yr.get(U,oe);if(Ce===void 0)throw new Error("Could not find a definition for "+C+".");if(Ce[Jn]){var De=Ts(Jn,Ce),Re=De[0],ut=De[1],It=_s(ut,U);return Object.keys(Re).length>0?dn({},Re,It):It}return Ce}function bt(C,U,oe,Ce,De){if(U===void 0)return 0;for(var Re=0;Re<oe.length;Re++){var ut=oe[Re];if(De&&(0,pr.Z)(ut,[Ei,De])){var It=(0,Ft.Z)(U,De),Pt=(0,Ft.Z)(ut,[Ei,De],{});if(C.isValid(Pt,It,Ce))return Re}else if(ut[Ei]){var or={anyOf:Object.keys(ut[Ei]).map(function(Br){return{required:[Br]}})},vr=void 0;if(ut.anyOf){var Ar=dn({},(Ps(ut),ut));Ar.allOf?Ar.allOf=Ar.allOf.slice():Ar.allOf=[],Ar.allOf.push(or),vr=Ar}else vr=Object.assign({},ut,or);if(delete vr.required,C.isValid(vr,U,Ce))return Re}else if(C.isValid(ut,U,Ce))return Re}return 0}function at(C,U,oe,Ce,De){return bt(C,U,oe,Ce,De)}function Zi(C){return Array.isArray(C)?"array":typeof C=="string"?"string":C==null?"null":typeof C=="boolean"?"boolean":isNaN(C)?typeof C=="object"?"object":"string":"number"}function Li(C){var U=C.type;return!U&&C.const?Zi(C.const):!U&&C.enum?"string":!U&&(C.properties||C.additionalProperties)?"object":(Array.isArray(U)&&U.length===2&&U.includes("null")&&(U=U.find(function(oe){return oe!=="null"})),U)}function zr(C,U){var oe=Object.assign({},C);return Object.keys(U).reduce(function(Ce,De){var Re=C?C[De]:{},ut=U[De];return C&&De in C&&Dn(ut)?Ce[De]=zr(Re,ut):C&&U&&(Li(C)==="object"||Li(U)==="object")&&De===bs&&Array.isArray(Re)&&Array.isArray(ut)?Ce[De]=no(Re,ut):Ce[De]=ut,Ce},oe)}var wr=["if","then","else"],gr=["$ref"],Hr=["allOf"],wn=["dependencies"],xn=["oneOf"];function di(C,U,oe,Ce){var De=U.if,Re=U.then,ut=U.else,It=_i(U,wr),Pt=C.isValid(De,Ce,oe)?Re:ut;return Pt&&typeof Pt!="boolean"?Vn(C,zr(It,Vn(C,Pt,oe,Ce)),oe,Ce):Vn(C,It,oe,Ce)}function yi(C,U,oe,Ce){if(oe===void 0&&(oe={}),Jn in U)return yo(C,U,oe,Ce);if(po in U){var De=Ds(C,U,oe,Ce);return Vn(C,De,oe,Ce)}return Un in U?dn({},U,{allOf:U.allOf.map(function(Re){return Vn(C,Re,oe,Ce)})}):U}function yo(C,U,oe,Ce){var De=_s(U.$ref,oe),Re=_i(U,gr);return Vn(C,dn({},De,Re),oe,Ce)}function jn(C,U,oe,Ce){var De=dn({},U,{properties:dn({},U.properties)}),Re=Ce&&Dn(Ce)?Ce:{};return Object.keys(Re).forEach(function(ut){if(!(ut in De.properties)){var It={};typeof De.additionalProperties!="boolean"?Jn in De.additionalProperties?It=Vn(C,{$ref:(0,Ft.Z)(De.additionalProperties,[Jn])},oe,Re):"type"in De.additionalProperties?It=dn({},De.additionalProperties):Oi in De.additionalProperties||Fo in De.additionalProperties?It=dn({type:"object"},De.additionalProperties):It={type:Zi((0,Ft.Z)(Re,[ut]))}:It={type:Zi((0,Ft.Z)(Re,[ut]))},De.properties[ut]=It,(0,Wo.Z)(De.properties,[ut,Bn],!0)}}),De}function Vn(C,U,oe,Ce){if(oe===void 0&&(oe={}),!Dn(U))return{};var De=yi(C,U,oe,Ce);if("if"in U)return di(C,U,oe,Ce);var Re=Ce||{};if(Un in U)try{De=gt()(De,{deep:!1})}catch(or){console.warn(`could not merge subschemas in allOf:
`,or);var ut=De,It=_i(ut,Hr);return It}var Pt=Oo in De&&De.additionalProperties!==!1;return Pt?jn(C,De,oe,Re):De}function Ds(C,U,oe,Ce){var De=U.dependencies,Re=_i(U,wn),ut=Re;return Array.isArray(ut.oneOf)?ut=ut.oneOf[at(C,Ce,ut.oneOf,oe)]:Array.isArray(ut.anyOf)&&(ut=ut.anyOf[at(C,Ce,ut.anyOf,oe)]),Js(C,De,ut,oe,Ce)}function Js(C,U,oe,Ce,De){var Re=oe;for(var ut in U)if((0,Ft.Z)(De,[ut])!==void 0&&!(Re.properties&&!(ut in Re.properties))){var It=Ts(ut,U),Pt=It[0],or=It[1];return Array.isArray(or)?Re=zo(Re,or):Dn(or)&&(Re=ks(C,Re,Ce,ut,or,De)),Js(C,Pt,Re,Ce,De)}return Re}function zo(C,U){if(!U)return C;var oe=Array.isArray(C.required)?Array.from(new Set([].concat(C.required,U))):U;return dn({},C,{required:oe})}function ks(C,U,oe,Ce,De,Re){var ut=Vn(C,De,oe,Re),It=ut.oneOf,Pt=_i(ut,xn);if(U=zr(U,Pt),It===void 0)return U;var or=It.map(function(vr){return typeof vr=="boolean"||!(Jn in vr)?vr:yo(C,vr,oe,Re)});return qa(C,U,oe,Ce,or,Re)}function qa(C,U,oe,Ce,De,Re){var ut=De.filter(function(Ar){if(typeof Ar=="boolean"||!Ar||!Ar.properties)return!1;var Br=Ar.properties[Ce];if(Br){var Sn,Kn={type:"object",properties:(Sn={},Sn[Ce]=Br,Sn)};return C.isValid(Kn,Re,oe)}return!1});if(ut.length!==1)return console.warn("ignoring oneOf in dependencies because there isn't exactly one subschema that is valid"),U;var It=ut[0],Pt=Ts(Ce,It.properties),or=Pt[0],vr=dn({},It,{properties:or});return zr(U,Vn(C,vr,oe,Re))}var Gs={type:"object",properties:{__not_really_there__:{type:"number"}}};function jo(C,U,oe,Ce){Ce===void 0&&(Ce={});var De=0;return oe&&((0,cr.Z)(oe.properties)?De+=Ii(oe.properties,function(Re,ut,It){var Pt=(0,Ft.Z)(Ce,It);if(typeof ut=="boolean")return Re;if((0,pr.Z)(ut,Jn)){var or=Vn(C,ut,U,Pt);return Re+jo(C,U,or,Pt||{})}if((0,pr.Z)(ut,Fo)&&Pt)return Re+vo(C,U,Pt,(0,Ft.Z)(ut,Fo));if(ut.type==="object")return Re+jo(C,U,ut,Pt||{});if(ut.type===Zi(Pt)){var vr=Re+1;return ut.default?vr+=Pt===ut.default?1:-1:ut.const&&(vr+=Pt===ut.const?1:-1),vr}return Re},0):(0,Wr.Z)(oe.type)&&oe.type===Zi(Ce)&&(De+=1)),De}function vo(C,U,oe,Ce,De,Re){De===void 0&&(De=-1);var ut=Ce.reduce(function(or,vr,Ar){var Br=[Gs,vr],Sn=at(C,oe,Br,U,Re);return Sn===1&&or.push(Ar),or},[]);if(ut.length===1)return ut[0];ut.length||va(Ce.length,function(or){return ut.push(or)});var It=ut.reduce(function(or,vr){var Ar=or.bestScore,Br=Ce[vr];(0,pr.Z)(Br,Jn)&&(Br=Vn(C,Br,U,oe));var Sn=jo(C,U,Br,oe);return Sn>Ar?{bestIndex:vr,bestScore:Sn}:or},{bestIndex:De,bestScore:0}),Pt=It.bestIndex;return Pt}function to(C){return Array.isArray(C.items)&&C.items.length>0&&C.items.every(function(U){return Dn(U)})}function ss(C,U){if(Array.isArray(U)){var oe=Array.isArray(C)?C:[],Ce=U.map(function(Re,ut){return oe[ut]?ss(oe[ut],Re):Re});return Ce}if(Dn(U)){var De=Object.assign({},C);return Object.keys(U).reduce(function(Re,ut){return Re[ut]=ss(C?(0,Ft.Z)(C,ut):{},(0,Ft.Z)(U,ut)),Re},De)}return U}function Ys(C,U,oe){return oe===void 0&&(oe=!1),Object.keys(U).reduce(function(Ce,De){var Re=C?C[De]:{},ut=U[De];if(C&&De in C&&Dn(ut))Ce[De]=Ys(Re,ut,oe);else if(oe&&Array.isArray(Re)&&Array.isArray(ut)){var It=ut;oe==="preventDuplicates"&&(It=ut.reduce(function(Pt,or){return Re.includes(or)||Pt.push(or),Pt},[])),Ce[De]=Re.concat(It)}else Ce[De]=ut;return Ce},Object.assign({},C))}function Ss(C){return Array.isArray(C.enum)&&C.enum.length===1||pi in C}function Ta(C,U,oe){oe===void 0&&(oe={});var Ce=Vn(C,U,oe,void 0),De=Ce.oneOf||Ce.anyOf;return Array.isArray(Ce.enum)?!0:Array.isArray(De)?De.every(function(Re){return typeof Re!="boolean"&&Ss(Re)}):!1}function _a(C,U,oe){return!U.uniqueItems||!U.items||typeof U.items=="boolean"?!1:Ta(C,U.items,oe)}var Ms;(function(C){C[C.Ignore=0]="Ignore",C[C.Invert=1]="Invert",C[C.Fallback=2]="Fallback"})(Ms||(Ms={}));function Es(C,U,oe){if(U===void 0&&(U=Ms.Ignore),oe===void 0&&(oe=-1),oe>=0){if(Array.isArray(C.items)&&oe<C.items.length){var Ce=C.items[oe];if(typeof Ce!="boolean")return Ce}}else if(C.items&&!Array.isArray(C.items)&&typeof C.items!="boolean")return C.items;return U!==Ms.Ignore&&Dn(C.additionalItems)?C.additionalItems:{}}function ba(C,U,oe,Ce,De){De===void 0&&(De=[]),Ce?C[U]=oe:Dn(oe)?(!(0,jr.Z)(oe)||De.includes(U))&&(C[U]=oe):oe!==void 0&&(C[U]=oe)}function No(C,U,oe,Ce,De,Re,ut){Ce===void 0&&(Ce={}),Re===void 0&&(Re=!1),ut===void 0&&(ut=[]);var It=Dn(De)?De:{},Pt=Dn(U)?U:{},or=oe;if(Dn(or)&&Dn(Pt.default))or=Ys(or,Pt.default);else if(li in Pt)or=Pt.default;else if(Jn in Pt){var vr=Pt[Jn];if(!ut.includes(vr)){var Ar=_s(vr,Ce);return No(C,Ar,or,Ce,It,Re,ut.concat(vr))}}else if(po in Pt){var Br=Ds(C,Pt,Ce,It);return No(C,Br,or,Ce,It,Re,ut)}else if(to(Pt))or=Pt.items.map(function(Gn,Bi){return No(C,Gn,Array.isArray(oe)?oe[Bi]:void 0,Ce,It,Re,ut)});else if(Fo in Pt){if(Pt.oneOf.length===0)return;Pt=Pt.oneOf[vo(C,Ce,(0,jr.Z)(It)?void 0:It,Pt.oneOf,0)]}else if(Oi in Pt){if(Pt.anyOf.length===0)return;Pt=Pt.anyOf[vo(C,Ce,(0,jr.Z)(It)?void 0:It,Pt.anyOf,0)]}switch(typeof or=="undefined"&&(or=Pt.default),Li(Pt)){case"object":{var Sn=Object.keys(Pt.properties||{}).reduce(function(Gn,Bi){var Ws=No(C,(0,Ft.Z)(Pt,[Ei,Bi]),(0,Ft.Z)(or,[Bi]),Ce,(0,Ft.Z)(It,[Bi]),Re===!0,ut);return ba(Gn,Bi,Ws,Re,Pt.required),Gn},{});if(Pt.additionalProperties){var Kn=Dn(Pt.additionalProperties)?Pt.additionalProperties:{},kn=new Set;Dn(or)&&Object.keys(or).filter(function(Gn){return!Pt.properties||!Pt.properties[Gn]}).forEach(function(Gn){return kn.add(Gn)}),Dn(It)&&Object.keys(It).filter(function(Gn){return!Pt.properties||!Pt.properties[Gn]}).forEach(function(Gn){return kn.add(Gn)}),kn.forEach(function(Gn){var Bi=No(C,Kn,(0,Ft.Z)(or,[Gn]),Ce,(0,Ft.Z)(It,[Gn]),Re===!0,ut);ba(Sn,Gn,Bi,Re)})}return Sn}case"array":if(Array.isArray(or)&&(or=or.map(function(Gn,Bi){var Ws=Es(Pt,Ms.Fallback,Bi);return No(C,Ws,Gn,Ce,void 0,void 0,ut)})),Array.isArray(De)){var Tn=Es(Pt);or=De.map(function(Gn,Bi){return No(C,Tn,(0,Ft.Z)(or,[Bi]),Ce,Gn,void 0,ut)})}if(Pt.minItems){if(!_a(C,Pt,Ce)){var qn=Array.isArray(or)?or.length:0;if(Pt.minItems>qn){var vi=or||[],co=Es(Pt,Ms.Invert),bi=co.default,so=new Array(Pt.minItems-qn).fill(No(C,co,bi,Ce,void 0,void 0,ut));return vi.concat(so)}}return or||[]}}return or}function $s(C,U,oe,Ce,De){if(De===void 0&&(De=!1),!Dn(U))throw new Error("Invalid schema: "+U);var Re=Vn(C,U,Ce,oe),ut=No(C,Re,void 0,Ce,oe,De);return typeof oe=="undefined"||oe===null||typeof oe=="number"&&isNaN(oe)?ut:Dn(oe)||Array.isArray(oe)?ss(ut,oe):oe}function Xs(C){return C===void 0&&(C={}),"widget"in Fn(C)&&Fn(C).widget!=="hidden"}function Da(C,U,oe,Ce){if(oe===void 0&&(oe={}),oe[go]==="files")return!0;if(U.items){var De=Vn(C,U.items,Ce);return De.type==="string"&&De.format==="data-url"}return!1}function as(C,U,oe,Ce,De){oe===void 0&&(oe={});var Re=Fn(oe,De),ut=Re.label,It=ut===void 0?!0:ut,Pt=!!It,or=Li(U);return or==="array"&&(Pt=_a(C,U,Ce)||Da(C,U,oe,Ce)||Xs(oe)),or==="object"&&(Pt=!1),or==="boolean"&&!oe[go]&&(Pt=!1),oe[Qn]&&(Pt=!1),Pt}function Is(C,U,oe){if(!oe)return U;var Ce=U.errors,De=U.errorSchema,Re=C.toErrorList(oe),ut=oe;return(0,jr.Z)(De)||(ut=Ys(De,oe,!0),Re=[].concat(Ce).concat(Re)),{errorSchema:ut,errors:Re}}var uo=Symbol("no Value");function Ho(C,U,oe,Ce,De){De===void 0&&(De={});var Re;if((0,pr.Z)(oe,Ei)){var ut={};if((0,pr.Z)(Ce,Ei)){var It=(0,Ft.Z)(Ce,Ei,{});Object.keys(It).forEach(function(kn){(0,pr.Z)(De,kn)&&(ut[kn]=void 0)})}var Pt=Object.keys((0,Ft.Z)(oe,Ei,{})),or={};Pt.forEach(function(kn){var Tn=(0,Ft.Z)(De,kn),qn=(0,Ft.Z)(Ce,[Ei,kn],{}),vi=(0,Ft.Z)(oe,[Ei,kn],{});(0,pr.Z)(qn,Jn)&&(qn=Vn(C,qn,U,Tn)),(0,pr.Z)(vi,Jn)&&(vi=Vn(C,vi,U,Tn));var co=(0,Ft.Z)(qn,"type"),bi=(0,Ft.Z)(vi,"type");if(!co||co===bi)if((0,pr.Z)(ut,kn)&&delete ut[kn],bi==="object"||bi==="array"&&Array.isArray(Tn)){var so=Ho(C,U,vi,qn,Tn);(so!==void 0||bi==="array")&&(or[kn]=so)}else{var Gn=(0,Ft.Z)(vi,"default",uo),Bi=(0,Ft.Z)(qn,"default",uo);Gn!==uo&&Gn!==Tn&&(Bi===Tn?ut[kn]=Gn:(0,Ft.Z)(vi,"readOnly")===!0&&(ut[kn]=void 0));var Ws=(0,Ft.Z)(vi,"const",uo),fa=(0,Ft.Z)(qn,"const",uo);Ws!==uo&&Ws!==Tn&&(ut[kn]=fa===Tn?Ws:void 0)}}),Re=dn({},De,ut,or)}else if((0,Ft.Z)(Ce,"type")==="array"&&(0,Ft.Z)(oe,"type")==="array"&&Array.isArray(De)){var vr=(0,Ft.Z)(Ce,"items"),Ar=(0,Ft.Z)(oe,"items");if(typeof vr=="object"&&typeof Ar=="object"&&!Array.isArray(vr)&&!Array.isArray(Ar)){(0,pr.Z)(vr,Jn)&&(vr=Vn(C,vr,U,De)),(0,pr.Z)(Ar,Jn)&&(Ar=Vn(C,Ar,U,De));var Br=(0,Ft.Z)(vr,"type"),Sn=(0,Ft.Z)(Ar,"type");if(!Br||Br===Sn){var Kn=(0,Ft.Z)(oe,"maxItems",-1);Sn==="object"?Re=De.reduce(function(kn,Tn){var qn=Ho(C,U,Ar,vr,Tn);return qn!==void 0&&(Kn<0||kn.length<Kn)&&kn.push(qn),kn},[]):Re=Kn>0&&De.length>Kn?De.slice(0,Kn):De}}else typeof vr=="boolean"&&typeof Ar=="boolean"&&vr===Ar&&(Re=De)}return Re}function Ui(C,U,oe,Ce,De,Re,ut,It){if(It===void 0&&(It=[]),Jn in U||po in U||Un in U){var Pt=Vn(C,U,Re,ut),or=It.findIndex(function(kn){return mo(kn,Pt)});if(or===-1)return Ui(C,Pt,oe,Ce,De,Re,ut,It.concat(Pt))}if(lo in U&&!(0,Ft.Z)(U,[lo,Jn]))return Ui(C,(0,Ft.Z)(U,lo),oe,Ce,De,Re,ut,It);var vr=De||oe,Ar={$id:vr};if(Li(U)==="object"&&Ei in U)for(var Br in U.properties){var Sn=(0,Ft.Z)(U,[Ei,Br]),Kn=Ar[io]+Ce+Br;Ar[Br]=Ui(C,Dn(Sn)?Sn:{},oe,Ce,Kn,Re,(0,Ft.Z)(ut,[Br]),It)}return Ar}function ls(C,U,oe,Ce,De,Re,ut){return Re===void 0&&(Re="root"),ut===void 0&&(ut="_"),Ui(C,U,Re,ut,oe,Ce,De)}function Rs(C,U,oe,Ce,De,Re){var ut;if(Re===void 0&&(Re=[]),Jn in U||po in U||Un in U){var It=Vn(C,U,Ce,De),Pt=Re.findIndex(function(Tn){return mo(Tn,It)});if(Pt===-1)return Rs(C,It,oe,Ce,De,Re.concat(It))}var or=(ut={},ut[Ni]=oe.replace(/^\./,""),ut);if(Fo in U){var vr=vo(C,Ce,De,U.oneOf,0),Ar=U.oneOf[vr];return Rs(C,Ar,oe,Ce,De,Re)}if(Oi in U){var Br=vo(C,Ce,De,U.anyOf,0),Sn=U.anyOf[Br];return Rs(C,Sn,oe,Ce,De,Re)}if(Oo in U&&U[Oo]!==!1&&(0,Wo.Z)(or,Di,!0),lo in U&&Array.isArray(De))De.forEach(function(Tn,qn){or[qn]=Rs(C,U.items,oe+"."+qn,Ce,Tn,Re)});else if(Ei in U)for(var Kn in U.properties){var kn=(0,Ft.Z)(U,[Ei,Kn]);or[Kn]=Rs(C,kn,oe+"."+Kn,Ce,(0,Ft.Z)(De,[Kn]),Re)}return or}function Sa(C,U,oe,Ce,De){return oe===void 0&&(oe=""),Rs(C,U,oe,Ce,De)}var Jo=function(){function C(oe,Ce){this.rootSchema=void 0,this.validator=void 0,this.rootSchema=Ce,this.validator=oe}var U=C.prototype;return U.getValidator=function(){return this.validator},U.doesSchemaUtilsDiffer=function(Ce,De){return!Ce||!De?!1:this.validator!==Ce||!os(this.rootSchema,De)},U.getDefaultFormState=function(Ce,De,Re){return Re===void 0&&(Re=!1),$s(this.validator,Ce,De,this.rootSchema,Re)},U.getDisplayLabel=function(Ce,De,Re){return as(this.validator,Ce,De,this.rootSchema,Re)},U.getClosestMatchingOption=function(Ce,De,Re,ut){return vo(this.validator,this.rootSchema,Ce,De,Re,ut)},U.getFirstMatchingOption=function(Ce,De,Re){return at(this.validator,Ce,De,this.rootSchema,Re)},U.getMatchingOption=function(Ce,De,Re){return bt(this.validator,Ce,De,this.rootSchema,Re)},U.isFilesArray=function(Ce,De){return Da(this.validator,Ce,De,this.rootSchema)},U.isMultiSelect=function(Ce){return _a(this.validator,Ce,this.rootSchema)},U.isSelect=function(Ce){return Ta(this.validator,Ce,this.rootSchema)},U.mergeValidationData=function(Ce,De){return Is(this.validator,Ce,De)},U.retrieveSchema=function(Ce,De){return Vn(this.validator,Ce,this.rootSchema,De)},U.sanitizeDataForNewSchema=function(Ce,De,Re){return Ho(this.validator,this.rootSchema,Ce,De,Re)},U.toIdSchema=function(Ce,De,Re,ut,It){return ut===void 0&&(ut="root"),It===void 0&&(It="_"),ls(this.validator,Ce,De,this.rootSchema,Re,ut,It)},U.toPathSchema=function(Ce,De,Re){return Sa(this.validator,Ce,De,this.rootSchema,Re)},C}();function xi(C,U){return new Jo(C,U)}function ka(C){var U=C.split(","),oe=U[0].split(";"),Ce=oe[0].replace("data:",""),De=oe.filter(function(vr){return vr.split("=")[0]==="name"}),Re;De.length!==1?Re="unknown":Re=decodeURI(De[0].split("=")[1]);try{for(var ut=atob(U[1]),It=[],Pt=0;Pt<ut.length;Pt++)It.push(ut.charCodeAt(Pt));var or=new window.Blob([new Uint8Array(It)],{type:Ce});return{blob:or,name:Re}}catch(vr){return{blob:{size:0,type:vr.message},name:C}}}function Qs(C,U){var oe=C;if(Array.isArray(U)){var Ce=oe.split(/(%\d)/);U.forEach(function(De,Re){var ut=Ce.findIndex(function(It){return It==="%"+(Re+1)});ut>=0&&(Ce[ut]=De)}),oe=Ce.join("")}return oe}function qs(C,U){return Qs(C,U)}function ws(C,U,oe){if(U===void 0&&(U=[]),Array.isArray(C))return C.map(function(Re){return ws(Re,U)}).filter(function(Re){return Re});var Ce=C===""||C===null?-1:Number(C),De=U[Ce];return De?De.value:oe}function Ka(C,U,oe){oe===void 0&&(oe=[]);var Ce=ws(C,oe);return Array.isArray(U)?U.filter(function(De){return!mo(De,Ce)}):mo(Ce,U)?void 0:U}function Ea(C,U){return Array.isArray(U)?U.some(function(oe){return mo(oe,C)}):mo(U,C)}function za(C,U,oe){U===void 0&&(U=[]),oe===void 0&&(oe=!1);var Ce=U.map(function(De,Re){return Ea(De.value,C)?String(Re):void 0}).filter(function(De){return typeof De!="undefined"});return oe?Ce:Ce[0]}function ea(C,U,oe){oe===void 0&&(oe=[]);var Ce=ws(C,oe);if(Ce){var De=oe.findIndex(function(It){return Ce===It.value}),Re=oe.map(function(It){var Pt=It.value;return Pt}),ut=U.slice(0,De).concat(Ce,U.slice(De));return ut.sort(function(It,Pt){return Number(Re.indexOf(It)>Re.indexOf(Pt))})}return U}var Ma=function(){function C(oe){this.errorSchema={},this.resetAllErrors(oe)}var U=C.prototype;return U.getOrCreateErrorBlock=function(Ce){var De=Array.isArray(Ce)&&Ce.length>0||typeof Ce=="string",Re=De?(0,Ft.Z)(this.errorSchema,Ce):this.errorSchema;return!Re&&Ce&&(Re={},(0,Wo.Z)(this.errorSchema,Ce,Re)),Re},U.resetAllErrors=function(Ce){return this.errorSchema=Ce?(0,Io.Z)(Ce):{},this},U.addErrors=function(Ce,De){var Re=this.getOrCreateErrorBlock(De),ut=(0,Ft.Z)(Re,ei);if(Array.isArray(ut)||(ut=[],Re[ei]=ut),Array.isArray(Ce)){var It;(It=ut).push.apply(It,Ce)}else ut.push(Ce);return this},U.setErrors=function(Ce,De){var Re=this.getOrCreateErrorBlock(De),ut=Array.isArray(Ce)?[].concat(Ce):[Ce];return(0,Wo.Z)(Re,ei,ut),this},U.clearErrors=function(Ce){var De=this.getOrCreateErrorBlock(Ce);return(0,Wo.Z)(De,ei,[]),this},eo(C,[{key:"ErrorSchema",get:function(){return this.errorSchema}}]),C}();function $a(C){var U={};return C.multipleOf&&(U.step=C.multipleOf),(C.minimum||C.minimum===0)&&(U.min=C.minimum),(C.maximum||C.maximum===0)&&(U.max=C.maximum),U}function Ha(C,U,oe,Ce){oe===void 0&&(oe={}),Ce===void 0&&(Ce=!0);var De=dn({type:U||"text"},$a(C));return oe.inputType?De.type=oe.inputType:U||(C.type==="number"?(De.type="number",Ce&&De.step===void 0&&(De.step="any")):C.type==="integer"&&(De.type="number",De.step===void 0&&(De.step=1))),oe.autocomplete&&(De.autoComplete=oe.autocomplete),De}var oo={props:{disabled:!1},submitText:"Submit",norender:!1};function ta(C){C===void 0&&(C={});var U=Fn(C);if(U&&U[xo]){var oe=U[xo];return dn({},oo,oe)}return oo}function Yi(C,U,oe){oe===void 0&&(oe={});var Ce=U.templates;return C==="ButtonTemplates"?Ce[C]:oe[C]||Ce[C]}var Ia=["options"],Go={boolean:{checkbox:"CheckboxWidget",radio:"RadioWidget",select:"SelectWidget",hidden:"HiddenWidget"},string:{text:"TextWidget",password:"PasswordWidget",email:"EmailWidget",hostname:"TextWidget",ipv4:"TextWidget",ipv6:"TextWidget",uri:"URLWidget","data-url":"FileWidget",radio:"RadioWidget",select:"SelectWidget",textarea:"TextareaWidget",hidden:"HiddenWidget",date:"DateWidget",datetime:"DateTimeWidget","date-time":"DateTimeWidget","alt-date":"AltDateWidget","alt-datetime":"AltDateTimeWidget",time:"TimeWidget",color:"ColorWidget",file:"FileWidget"},number:{text:"TextWidget",select:"SelectWidget",updown:"UpDownWidget",range:"RangeWidget",radio:"RadioWidget",hidden:"HiddenWidget"},integer:{text:"TextWidget",select:"SelectWidget",updown:"UpDownWidget",range:"RangeWidget",radio:"RadioWidget",hidden:"HiddenWidget"},array:{select:"SelectWidget",checkboxes:"CheckboxesWidget",files:"FileWidget",hidden:"HiddenWidget"}};function ra(C){var U=(0,Ft.Z)(C,"MergedWidget");if(!U){var oe=C.defaultProps&&C.defaultProps.options||{};U=function(De){var Re=De.options,ut=_i(De,Ia);return(0,ao.jsx)(C,dn({options:dn({},oe,Re)},ut))},(0,Wo.Z)(C,"MergedWidget",U)}return U}function Lo(C,U,oe){oe===void 0&&(oe={});var Ce=Li(C);if(typeof U=="function"||U&&zs.isForwardRef((0,As.createElement)(U))||zs.isMemo(U))return ra(U);if(typeof U!="string")throw new Error("Unsupported widget definition: "+typeof U);if(U in oe){var De=oe[U];return Lo(C,De,oe)}if(typeof Ce=="string"){if(!(Ce in Go))throw new Error("No widget for type '"+Ce+"'");if(U in Go[Ce]){var Re=oe[Go[Ce][U]];return Lo(C,Re,oe)}}throw new Error("No widget '"+U+"' for type '"+Ce+"'")}function Ra(C,U,oe){oe===void 0&&(oe={});try{return Lo(C,U,oe),!0}catch(De){var Ce=De;if(Ce.message&&(Ce.message.startsWith("No widget")||Ce.message.startsWith("Unsupported widget")))return!1;throw De}}function Co(C,U){var oe=(0,Wr.Z)(C)?C:C[io];return oe+"__"+U}function Xi(C){return Co(C,"description")}function us(C){return Co(C,"error")}function Yo(C){return Co(C,"examples")}function Fa(C){return Co(C,"help")}function Os(C){return Co(C,"title")}function la(C,U){U===void 0&&(U=!1);var oe=U?" "+Yo(C):"";return us(C)+" "+Xi(C)+" "+Fa(C)+oe}function Ja(C,U){return C+"-"+U}function xs(C,U,oe){return U?oe:C}function wa(C){return C?new Date(C).toJSON():void 0}function Ci(C){if(vs in C&&Array.isArray(C.enum)&&C.enum.length===1)return C.enum[0];if(pi in C)return C.const;throw new Error("schema cannot be inferred as a constant")}function cs(C){var U=C;if(U.enumNames,C.enum)return C.enum.map(function(Ce,De){var Re=U.enumNames&&U.enumNames[De]||String(Ce);return{label:Re,value:Ce}});var oe=C.oneOf||C.anyOf;return oe&&oe.map(function(Ce){var De=Ce,Re=Ci(De),ut=De.title||String(Re);return{schema:De,label:ut,value:Re}})}function Fs(C,U){if(!Array.isArray(U))return C;var oe=function(Ar){return Ar.reduce(function(Br,Sn){return Br[Sn]=!0,Br},{})},Ce=function(Ar){return Ar.length>1?"properties '"+Ar.join("', '")+"'":"property '"+Ar[0]+"'"},De=oe(C),Re=U.filter(function(vr){return vr==="*"||De[vr]}),ut=oe(Re),It=C.filter(function(vr){return!ut[vr]}),Pt=Re.indexOf("*");if(Pt===-1){if(It.length)throw new Error("uiSchema order list does not contain "+Ce(It));return Re}if(Pt!==Re.lastIndexOf("*"))throw new Error("uiSchema order list contains more than one wildcard item");var or=[].concat(Re);return or.splice.apply(or,[Pt,1].concat(It)),or}function fs(C,U){for(var oe=String(C);oe.length<U;)oe="0"+oe;return oe}function ja(C,U){if(U===void 0&&(U=!0),!C)return{year:-1,month:-1,day:-1,hour:U?-1:0,minute:U?-1:0,second:U?-1:0};var oe=new Date(C);if(Number.isNaN(oe.getTime()))throw new Error("Unable to parse date "+C);return{year:oe.getUTCFullYear(),month:oe.getUTCMonth()+1,day:oe.getUTCDate(),hour:U?oe.getUTCHours():0,minute:U?oe.getUTCMinutes():0,second:U?oe.getUTCSeconds():0}}function js(C){if(C.const||C.enum&&C.enum.length===1&&C.enum[0]===!0)return!0;if(C.anyOf&&C.anyOf.length===1)return js(C.anyOf[0]);if(C.oneOf&&C.oneOf.length===1)return js(C.oneOf[0]);if(C.allOf){var U=function(Ce){return js(Ce)};return C.allOf.some(U)}return!1}function Ns(C,U,oe){var Ce=C.props,De=C.state;return!os(Ce,U)||!os(De,oe)}function ua(C,U){U===void 0&&(U=!0);var oe=C.year,Ce=C.month,De=C.day,Re=C.hour,ut=Re===void 0?0:Re,It=C.minute,Pt=It===void 0?0:It,or=C.second,vr=or===void 0?0:or,Ar=Date.UTC(oe,Ce-1,De,ut,Pt,vr),Br=new Date(Ar).toJSON();return U?Br:Br.slice(0,10)}function Xo(C,U){if(U===void 0&&(U=[]),!C)return[];var oe=[];return ei in C&&(oe=oe.concat(C[ei].map(function(Ce){var De="."+U.join(".");return{property:De,message:Ce,stack:De+" "+Ce}}))),Object.keys(C).reduce(function(Ce,De){if(De!==ei){var Re=C[De];(0,s.Z)(Re)&&(Ce=Ce.concat(Xo(Re,[].concat(U,[De]))))}return Ce},oe)}function Ls(C){var U=new Ma;return C.length&&C.forEach(function(oe){var Ce=oe.property,De=oe.message,Re=Ce==="."?[]:(0,ys.Z)(Ce);Re.length>0&&Re[0]===""&&Re.splice(0,1),De&&U.addErrors(De,Re)}),U.ErrorSchema}function Ga(C){return Object.keys(C).reduce(function(U,oe){if(oe==="addError")return U;var Ce,De=C[oe];if((0,s.Z)(De)){var Re;return dn({},U,(Re={},Re[oe]=Ga(De),Re))}return dn({},U,(Ce={},Ce[oe]=De,Ce))},{})}function ds(C){if(!C)return"";var U=new Date(C),oe=fs(U.getFullYear(),4),Ce=fs(U.getMonth()+1,2),De=fs(U.getDate(),2),Re=fs(U.getHours(),2),ut=fs(U.getMinutes(),2),It=fs(U.getSeconds(),2),Pt=fs(U.getMilliseconds(),3);return oe+"-"+Ce+"-"+De+"T"+Re+":"+ut+":"+It+"."+Pt}function bo(C,U){if(!U)return C;var oe=C.errors,Ce=C.errorSchema,De=Xo(U),Re=U;return(0,jr.Z)(Ce)||(Re=Ys(Ce,U,!0),De=[].concat(oe).concat(De)),{errorSchema:Re,errors:De}}function Qo(C){for(var U in C){var oe=C,Ce=oe[U];U===Jn&&typeof Ce=="string"&&Ce.startsWith("#")?oe[U]=kr+Ce:oe[U]=Oa(Ce)}return C}function ca(C){for(var U=0;U<C.length;U++)C[U]=Oa(C[U]);return C}function Oa(C){return C.constructor===Object?Qo(dn({},C)):Array.isArray(C)?ca([].concat(C)):C}var Bs;(function(C){C.ArrayItemTitle="Item",C.MissingItems="Missing items definition",C.YesLabel="Yes",C.NoLabel="No",C.CloseLabel="Close",C.ErrorsLabel="Errors",C.NewStringDefault="New Value",C.AddButton="Add",C.AddItemButton="Add Item",C.CopyButton="Copy",C.MoveDownButton="Move down",C.MoveUpButton="Move up",C.RemoveButton="Remove",C.NowLabel="Now",C.ClearLabel="Clear",C.AriaDateLabel="Select a date",C.PreviewLabel="Preview",C.DecrementAriaLabel="Decrease value by 1",C.IncrementAriaLabel="Increase value by 1",C.UnknownFieldType="Unknown field type %1",C.OptionPrefix="Option %1",C.TitleOptionPrefix="%1 option %2",C.KeyLabel="%1 Key",C.InvalidObjectField='Invalid "%1" object field configuration: <em>%2</em>.',C.UnsupportedField="Unsupported field schema.",C.UnsupportedFieldWithId="Unsupported field schema for field <code>%1</code>.",C.UnsupportedFieldWithReason="Unsupported field schema: <em>%1</em>.",C.UnsupportedFieldWithIdAndReason="Unsupported field schema for field <code>%1</code>: <em>%2</em>.",C.FilesInfo="<strong>%1</strong> (%2, %3 bytes)"})(Bs||(Bs={}))},3659:function(Le,w){"use strict";/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u=Symbol.for("react.element"),s=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),D=Symbol.for("react.context"),N=Symbol.for("react.server_context"),j=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),re=Symbol.for("react.lazy"),ne=Symbol.for("react.offscreen"),ae;ae=Symbol.for("react.module.reference");function ve(M){if(typeof M=="object"&&M!==null){var H=M.$$typeof;switch(H){case u:switch(M=M.type,M){case p:case O:case R:case I:case G:return M;default:switch(M=M&&M.$$typeof,M){case N:case D:case j:case re:case z:case _:return M;default:return H}}case s:return H}}}w.ContextConsumer=D,w.ContextProvider=_,w.Element=u,w.ForwardRef=j,w.Fragment=p,w.Lazy=re,w.Memo=z,w.Portal=s,w.Profiler=O,w.StrictMode=R,w.Suspense=I,w.SuspenseList=G,w.isAsyncMode=function(){return!1},w.isConcurrentMode=function(){return!1},w.isContextConsumer=function(M){return ve(M)===D},w.isContextProvider=function(M){return ve(M)===_},w.isElement=function(M){return typeof M=="object"&&M!==null&&M.$$typeof===u},w.isForwardRef=function(M){return ve(M)===j},w.isFragment=function(M){return ve(M)===p},w.isLazy=function(M){return ve(M)===re},w.isMemo=function(M){return ve(M)===z},w.isPortal=function(M){return ve(M)===s},w.isProfiler=function(M){return ve(M)===O},w.isStrictMode=function(M){return ve(M)===R},w.isSuspense=function(M){return ve(M)===I},w.isSuspenseList=function(M){return ve(M)===G},w.isValidElementType=function(M){return typeof M=="string"||typeof M=="function"||M===p||M===O||M===R||M===I||M===G||M===ne||typeof M=="object"&&M!==null&&(M.$$typeof===re||M.$$typeof===z||M.$$typeof===_||M.$$typeof===D||M.$$typeof===j||M.$$typeof===ae||M.getModuleId!==void 0)},w.typeOf=ve},63708:function(Le,w,u){"use strict";Le.exports=u(3659)},39362:function(Le,w,u){"use strict";u.d(w,{Z:function(){return H}});var s=u(90772),p=u(27292),R=u(98892),O=u.n(R),_=u(97540),D=u.n(_),N=u(93122);function j(){return j=Object.assign?Object.assign.bind():function(ue){for(var X=1;X<arguments.length;X++){var se=arguments[X];for(var fe in se)Object.prototype.hasOwnProperty.call(se,fe)&&(ue[fe]=se[fe])}return ue},j.apply(this,arguments)}function I(ue,X){if(ue==null)return{};var se={},fe=Object.keys(ue),ee,$;for($=0;$<fe.length;$++)ee=fe[$],!(X.indexOf(ee)>=0)&&(se[ee]=ue[ee]);return se}var G={allErrors:!0,multipleOfPrecision:8,strict:!1,verbose:!0},z=/^(#?([0-9A-Fa-f]{3}){1,2}\b|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow|(rgb\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|(rgb\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\)))$/,re=/^data:([a-z]+\/[a-z0-9-+.]+)?;(?:name=(.*);)?base64,(.*)$/;function ne(ue,X,se,fe,ee){se===void 0&&(se={}),ee===void 0&&(ee=O());var $=new ee(j({},G,se));return fe?D()($,fe):fe!==!1&&D()($),$.addFormat("data-url",re),$.addFormat("color",z),$.addKeyword(p.jk),$.addKeyword(p.g$),Array.isArray(ue)&&$.addMetaSchema(ue),(0,N.Z)(X)&&Object.keys(X).forEach(function(Se){$.addFormat(Se,X[Se])}),$}var ae=["instancePath","keyword","params","schemaPath","parentSchema"],ve=function(){function ue(se,fe){this.ajv=void 0,this.localizer=void 0;var ee=se.additionalMetaSchemas,$=se.customFormats,Se=se.ajvOptionsOverrides,Ie=se.ajvFormatOptions,Oe=se.AjvClass;this.ajv=ne(ee,$,Se,Ie,Oe),this.localizer=fe}var X=ue.prototype;return X.toErrorList=function(fe,ee){return ee===void 0&&(ee=[]),(0,p.mp)(fe,ee)},X.transformRJSFValidationErrors=function(fe,ee){return fe===void 0&&(fe=[]),fe.map(function($){var Se=$.instancePath,Ie=$.keyword,Oe=$.params,We=$.schemaPath,Ge=$.parentSchema,lt=I($,ae),Qe=lt.message,He=Qe===void 0?"":Qe,St=Se.replace(/\//g,"."),qt=(St+" "+He).trim();if("missingProperty"in Oe){St=St?St+"."+Oe.missingProperty:Oe.missingProperty;var dt=Oe.missingProperty,wt=(0,p.LI)((0,s.Z)(ee,""+St.replace(/^\./,""))).title;if(wt)He=He.replace(dt,wt);else{var rt=(0,s.Z)(Ge,[p.MA,dt,"title"]);rt&&(He=He.replace(dt,rt))}qt=He}else{var Ze=(0,p.LI)((0,s.Z)(ee,""+St.replace(/^\./,""))).title;if(Ze)qt=("'"+Ze+"' "+He).trim();else{var yt=Ge==null?void 0:Ge.title;yt&&(qt=("'"+yt+"' "+He).trim())}}return{name:Ie,property:St,message:He,params:Oe,stack:qt,schemaPath:We}})},X.rawValidation=function(fe,ee){var $=void 0,Se;fe.$id&&(Se=this.ajv.getSchema(fe.$id));try{Se===void 0&&(Se=this.ajv.compile(fe)),Se(ee)}catch(Oe){$=Oe}var Ie;return Se&&(typeof this.localizer=="function"&&this.localizer(Se.errors),Ie=Se.errors||void 0,Se.errors=null),{errors:Ie,validationError:$}},X.validateFormData=function(fe,ee,$,Se,Ie){var Oe=this.rawValidation(ee,fe),We=Oe.validationError,Ge=this.transformRJSFValidationErrors(Oe.errors,Ie);We&&(Ge=[].concat(Ge,[{stack:We.message}])),typeof Se=="function"&&(Ge=Se(Ge,Ie));var lt=(0,p.y5)(Ge);if(We&&(lt=j({},lt,{$schema:{__errors:[We.message]}})),typeof $!="function")return{errors:Ge,errorSchema:lt};var Qe=(0,p.Tx)(this,ee,fe,ee,!0),He=$(Qe,(0,p.v$)(Qe),Ie),St=(0,p.yv)(He);return(0,p.J0)({errors:Ge,errorSchema:lt},St)},X.isValid=function(fe,ee,$){var Se,Ie=(Se=$.$id)!=null?Se:p.dW;try{this.ajv.getSchema(Ie)===void 0&&this.ajv.addSchema($,Ie);var Oe=(0,p.RQ)(fe),We;Oe.$id&&(We=this.ajv.getSchema(Oe.$id)),We===void 0&&(We=this.ajv.compile(Oe));var Ge=We(ee);return Ge}catch(lt){return console.warn("Error encountered compiling schema:",lt),!1}finally{this.ajv.removeSchema(Ie)}},ue}();function M(ue,X){return ue===void 0&&(ue={}),new ve(ue,X)}var H=M()},78127:function(Le,w){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.formatNames=w.fastFormats=w.fullFormats=void 0;function u(Se,Ie){return{validate:Se,compare:Ie}}w.fullFormats={date:u(O,_),time:u(N,j),"date-time":u(G,z),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:ae,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:$,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:M,int32:{type:"number",validate:X},int64:{type:"number",validate:se},float:{type:"number",validate:fe},double:{type:"number",validate:fe},password:!0,binary:!0},w.fastFormats={...w.fullFormats,date:u(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,_),time:u(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,j),"date-time":u(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,z),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},w.formatNames=Object.keys(w.fullFormats);function s(Se){return Se%4===0&&(Se%100!==0||Se%400===0)}const p=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,R=[0,31,28,31,30,31,30,31,31,30,31,30,31];function O(Se){const Ie=p.exec(Se);if(!Ie)return!1;const Oe=+Ie[1],We=+Ie[2],Ge=+Ie[3];return We>=1&&We<=12&&Ge>=1&&Ge<=(We===2&&s(Oe)?29:R[We])}function _(Se,Ie){if(Se&&Ie)return Se>Ie?1:Se<Ie?-1:0}const D=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;function N(Se,Ie){const Oe=D.exec(Se);if(!Oe)return!1;const We=+Oe[1],Ge=+Oe[2],lt=+Oe[3],Qe=Oe[5];return(We<=23&&Ge<=59&&lt<=59||We===23&&Ge===59&&lt===60)&&(!Ie||Qe!=="")}function j(Se,Ie){if(!(Se&&Ie))return;const Oe=D.exec(Se),We=D.exec(Ie);if(Oe&&We)return Se=Oe[1]+Oe[2]+Oe[3]+(Oe[4]||""),Ie=We[1]+We[2]+We[3]+(We[4]||""),Se>Ie?1:Se<Ie?-1:0}const I=/t|\s/i;function G(Se){const Ie=Se.split(I);return Ie.length===2&&O(Ie[0])&&N(Ie[1],!0)}function z(Se,Ie){if(!(Se&&Ie))return;const[Oe,We]=Se.split(I),[Ge,lt]=Ie.split(I),Qe=_(Oe,Ge);if(Qe!==void 0)return Qe||j(We,lt)}const re=/\/|:/,ne=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function ae(Se){return re.test(Se)&&ne.test(Se)}const ve=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function M(Se){return ve.lastIndex=0,ve.test(Se)}const H=-(2**31),ue=2**31-1;function X(Se){return Number.isInteger(Se)&&Se<=ue&&Se>=H}function se(Se){return Number.isInteger(Se)}function fe(){return!0}const ee=/[^\\]\\Z/;function $(Se){if(ee.test(Se))return!1;try{return new RegExp(Se),!0}catch{return!1}}},97540:function(Le,w,u){"use strict";Object.defineProperty(w,"__esModule",{value:!0});const s=u(78127),p=u(38273),R=u(45117),O=new R.Name("fullFormats"),_=new R.Name("fastFormats"),D=(j,I={keywords:!0})=>{if(Array.isArray(I))return N(j,I,s.fullFormats,O),j;const[G,z]=I.mode==="fast"?[s.fastFormats,_]:[s.fullFormats,O],re=I.formats||s.formatNames;return N(j,re,G,z),I.keywords&&p.default(j),j};D.get=(j,I="full")=>{const z=(I==="fast"?s.fastFormats:s.fullFormats)[j];if(!z)throw new Error(`Unknown format "${j}"`);return z};function N(j,I,G,z){var re,ne;(re=(ne=j.opts.code).formats)!==null&&re!==void 0||(ne.formats=R._`require("ajv-formats/dist/formats").${z}`);for(const ae of I)j.addFormat(ae,G[ae])}Le.exports=w=D,Object.defineProperty(w,"__esModule",{value:!0}),w.default=D},38273:function(Le,w,u){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.formatLimitDefinition=void 0;const s=u(98892),p=u(45117),R=p.operators,O={formatMaximum:{okStr:"<=",ok:R.LTE,fail:R.GT},formatMinimum:{okStr:">=",ok:R.GTE,fail:R.LT},formatExclusiveMaximum:{okStr:"<",ok:R.LT,fail:R.GTE},formatExclusiveMinimum:{okStr:">",ok:R.GT,fail:R.LTE}},_={message:({keyword:N,schemaCode:j})=>p.str`should be ${O[N].okStr} ${j}`,params:({keyword:N,schemaCode:j})=>p._`{comparison: ${O[N].okStr}, limit: ${j}}`};w.formatLimitDefinition={keyword:Object.keys(O),type:"string",schemaType:"string",$data:!0,error:_,code(N){const{gen:j,data:I,schemaCode:G,keyword:z,it:re}=N,{opts:ne,self:ae}=re;if(!ne.validateFormats)return;const ve=new s.KeywordCxt(re,ae.RULES.all.format.definition,"format");ve.$data?M():H();function M(){const X=j.scopeValue("formats",{ref:ae.formats,code:ne.code.formats}),se=j.const("fmt",p._`${X}[${ve.schemaCode}]`);N.fail$data(p.or(p._`typeof ${se} != "object"`,p._`${se} instanceof RegExp`,p._`typeof ${se}.compare != "function"`,ue(se)))}function H(){const X=ve.schema,se=ae.formats[X];if(!se||se===!0)return;if(typeof se!="object"||se instanceof RegExp||typeof se.compare!="function")throw new Error(`"${z}": format "${X}" does not define "compare" function`);const fe=j.scopeValue("formats",{key:X,ref:se,code:ne.code.formats?p._`${ne.code.formats}${p.getProperty(X)}`:void 0});N.fail$data(ue(fe))}function ue(X){return p._`${X}.compare(${I}, ${G}) ${O[z].fail} 0`}},dependencies:["format"]};const D=N=>(N.addKeyword(w.formatLimitDefinition),N);w.default=D},98892:function(Le,w,u){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.MissingRefError=w.ValidationError=w.CodeGen=w.Name=w.nil=w.stringify=w.str=w._=w.KeywordCxt=void 0;const s=u(29414),p=u(6797),R=u(72360),O=u(22396),_=["/properties"],D="http://json-schema.org/draft-07/schema";class N extends s.default{_addVocabularies(){super._addVocabularies(),p.default.forEach(ne=>this.addVocabulary(ne)),this.opts.discriminator&&this.addKeyword(R.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const ne=this.opts.$data?this.$dataMetaSchema(O,_):O;this.addMetaSchema(ne,D,!1),this.refs["http://json-schema.org/schema"]=D}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(D)?D:void 0)}}Le.exports=w=N,Object.defineProperty(w,"__esModule",{value:!0}),w.default=N;var j=u(53970);Object.defineProperty(w,"KeywordCxt",{enumerable:!0,get:function(){return j.KeywordCxt}});var I=u(45117);Object.defineProperty(w,"_",{enumerable:!0,get:function(){return I._}}),Object.defineProperty(w,"str",{enumerable:!0,get:function(){return I.str}}),Object.defineProperty(w,"stringify",{enumerable:!0,get:function(){return I.stringify}}),Object.defineProperty(w,"nil",{enumerable:!0,get:function(){return I.nil}}),Object.defineProperty(w,"Name",{enumerable:!0,get:function(){return I.Name}}),Object.defineProperty(w,"CodeGen",{enumerable:!0,get:function(){return I.CodeGen}});var G=u(65282);Object.defineProperty(w,"ValidationError",{enumerable:!0,get:function(){return G.default}});var z=u(97566);Object.defineProperty(w,"MissingRefError",{enumerable:!0,get:function(){return z.default}})},28044:function(Le,w){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.regexpCode=w.getEsmExportName=w.getProperty=w.safeStringify=w.stringify=w.strConcat=w.addCodeArg=w.str=w._=w.nil=w._Code=w.Name=w.IDENTIFIER=w._CodeOrName=void 0;class u{}w._CodeOrName=u,w.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class s extends u{constructor(H){if(super(),!w.IDENTIFIER.test(H))throw new Error("CodeGen: name must be a valid identifier");this.str=H}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}w.Name=s;class p extends u{constructor(H){super(),this._items=typeof H=="string"?[H]:H}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const H=this._items[0];return H===""||H==='""'}get str(){var H;return(H=this._str)!==null&&H!==void 0?H:this._str=this._items.reduce((ue,X)=>`${ue}${X}`,"")}get names(){var H;return(H=this._names)!==null&&H!==void 0?H:this._names=this._items.reduce((ue,X)=>(X instanceof s&&(ue[X.str]=(ue[X.str]||0)+1),ue),{})}}w._Code=p,w.nil=new p("");function R(M,...H){const ue=[M[0]];let X=0;for(;X<H.length;)D(ue,H[X]),ue.push(M[++X]);return new p(ue)}w._=R;const O=new p("+");function _(M,...H){const ue=[re(M[0])];let X=0;for(;X<H.length;)ue.push(O),D(ue,H[X]),ue.push(O,re(M[++X]));return N(ue),new p(ue)}w.str=_;function D(M,H){H instanceof p?M.push(...H._items):H instanceof s?M.push(H):M.push(G(H))}w.addCodeArg=D;function N(M){let H=1;for(;H<M.length-1;){if(M[H]===O){const ue=j(M[H-1],M[H+1]);if(ue!==void 0){M.splice(H-1,3,ue);continue}M[H++]="+"}H++}}function j(M,H){if(H==='""')return M;if(M==='""')return H;if(typeof M=="string")return H instanceof s||M[M.length-1]!=='"'?void 0:typeof H!="string"?`${M.slice(0,-1)}${H}"`:H[0]==='"'?M.slice(0,-1)+H.slice(1):void 0;if(typeof H=="string"&&H[0]==='"'&&!(M instanceof s))return`"${M}${H.slice(1)}`}function I(M,H){return H.emptyStr()?M:M.emptyStr()?H:_`${M}${H}`}w.strConcat=I;function G(M){return typeof M=="number"||typeof M=="boolean"||M===null?M:re(Array.isArray(M)?M.join(","):M)}function z(M){return new p(re(M))}w.stringify=z;function re(M){return JSON.stringify(M).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}w.safeStringify=re;function ne(M){return typeof M=="string"&&w.IDENTIFIER.test(M)?new p(`.${M}`):R`[${M}]`}w.getProperty=ne;function ae(M){if(typeof M=="string"&&w.IDENTIFIER.test(M))return new p(`${M}`);throw new Error(`CodeGen: invalid export name: ${M}, use explicit $id name mapping`)}w.getEsmExportName=ae;function ve(M){return new p(M.toString())}w.regexpCode=ve},45117:function(Le,w,u){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.or=w.and=w.not=w.CodeGen=w.operators=w.varKinds=w.ValueScopeName=w.ValueScope=w.Scope=w.Name=w.regexpCode=w.stringify=w.getProperty=w.nil=w.strConcat=w.str=w._=void 0;const s=u(28044),p=u(36001);var R=u(28044);Object.defineProperty(w,"_",{enumerable:!0,get:function(){return R._}}),Object.defineProperty(w,"str",{enumerable:!0,get:function(){return R.str}}),Object.defineProperty(w,"strConcat",{enumerable:!0,get:function(){return R.strConcat}}),Object.defineProperty(w,"nil",{enumerable:!0,get:function(){return R.nil}}),Object.defineProperty(w,"getProperty",{enumerable:!0,get:function(){return R.getProperty}}),Object.defineProperty(w,"stringify",{enumerable:!0,get:function(){return R.stringify}}),Object.defineProperty(w,"regexpCode",{enumerable:!0,get:function(){return R.regexpCode}}),Object.defineProperty(w,"Name",{enumerable:!0,get:function(){return R.Name}});var O=u(36001);Object.defineProperty(w,"Scope",{enumerable:!0,get:function(){return O.Scope}}),Object.defineProperty(w,"ValueScope",{enumerable:!0,get:function(){return O.ValueScope}}),Object.defineProperty(w,"ValueScopeName",{enumerable:!0,get:function(){return O.ValueScopeName}}),Object.defineProperty(w,"varKinds",{enumerable:!0,get:function(){return O.varKinds}}),w.operators={GT:new s._Code(">"),GTE:new s._Code(">="),LT:new s._Code("<"),LTE:new s._Code("<="),EQ:new s._Code("==="),NEQ:new s._Code("!=="),NOT:new s._Code("!"),OR:new s._Code("||"),AND:new s._Code("&&"),ADD:new s._Code("+")};class _{optimizeNodes(){return this}optimizeNames(ge,$e){return this}}class D extends _{constructor(ge,$e,mt){super(),this.varKind=ge,this.name=$e,this.rhs=mt}render({es5:ge,_n:$e}){const mt=ge?p.varKinds.var:this.varKind,_t=this.rhs===void 0?"":` = ${this.rhs}`;return`${mt} ${this.name}${_t};`+$e}optimizeNames(ge,$e){if(ge[this.name.str])return this.rhs&&(this.rhs=Qe(this.rhs,ge,$e)),this}get names(){return this.rhs instanceof s._CodeOrName?this.rhs.names:{}}}class N extends _{constructor(ge,$e,mt){super(),this.lhs=ge,this.rhs=$e,this.sideEffects=mt}render({_n:ge}){return`${this.lhs} = ${this.rhs};`+ge}optimizeNames(ge,$e){if(!(this.lhs instanceof s.Name&&!ge[this.lhs.str]&&!this.sideEffects))return this.rhs=Qe(this.rhs,ge,$e),this}get names(){const ge=this.lhs instanceof s.Name?{}:{...this.lhs.names};return lt(ge,this.rhs)}}class j extends N{constructor(ge,$e,mt,_t){super(ge,mt,_t),this.op=$e}render({_n:ge}){return`${this.lhs} ${this.op}= ${this.rhs};`+ge}}class I extends _{constructor(ge){super(),this.label=ge,this.names={}}render({_n:ge}){return`${this.label}:`+ge}}class G extends _{constructor(ge){super(),this.label=ge,this.names={}}render({_n:ge}){return`break${this.label?` ${this.label}`:""};`+ge}}class z extends _{constructor(ge){super(),this.error=ge}render({_n:ge}){return`throw ${this.error};`+ge}get names(){return this.error.names}}class re extends _{constructor(ge){super(),this.code=ge}render({_n:ge}){return`${this.code};`+ge}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(ge,$e){return this.code=Qe(this.code,ge,$e),this}get names(){return this.code instanceof s._CodeOrName?this.code.names:{}}}class ne extends _{constructor(ge=[]){super(),this.nodes=ge}render(ge){return this.nodes.reduce(($e,mt)=>$e+mt.render(ge),"")}optimizeNodes(){const{nodes:ge}=this;let $e=ge.length;for(;$e--;){const mt=ge[$e].optimizeNodes();Array.isArray(mt)?ge.splice($e,1,...mt):mt?ge[$e]=mt:ge.splice($e,1)}return ge.length>0?this:void 0}optimizeNames(ge,$e){const{nodes:mt}=this;let _t=mt.length;for(;_t--;){const Vt=mt[_t];Vt.optimizeNames(ge,$e)||(He(ge,Vt.names),mt.splice(_t,1))}return mt.length>0?this:void 0}get names(){return this.nodes.reduce((ge,$e)=>Ge(ge,$e.names),{})}}class ae extends ne{render(ge){return"{"+ge._n+super.render(ge)+"}"+ge._n}}class ve extends ne{}class M extends ae{}M.kind="else";class H extends ae{constructor(ge,$e){super($e),this.condition=ge}render(ge){let $e=`if(${this.condition})`+super.render(ge);return this.else&&($e+="else "+this.else.render(ge)),$e}optimizeNodes(){super.optimizeNodes();const ge=this.condition;if(ge===!0)return this.nodes;let $e=this.else;if($e){const mt=$e.optimizeNodes();$e=this.else=Array.isArray(mt)?new M(mt):mt}if($e)return ge===!1?$e instanceof H?$e:$e.nodes:this.nodes.length?this:new H(St(ge),$e instanceof H?[$e]:$e.nodes);if(!(ge===!1||!this.nodes.length))return this}optimizeNames(ge,$e){var mt;if(this.else=(mt=this.else)===null||mt===void 0?void 0:mt.optimizeNames(ge,$e),!!(super.optimizeNames(ge,$e)||this.else))return this.condition=Qe(this.condition,ge,$e),this}get names(){const ge=super.names;return lt(ge,this.condition),this.else&&Ge(ge,this.else.names),ge}}H.kind="if";class ue extends ae{}ue.kind="for";class X extends ue{constructor(ge){super(),this.iteration=ge}render(ge){return`for(${this.iteration})`+super.render(ge)}optimizeNames(ge,$e){if(super.optimizeNames(ge,$e))return this.iteration=Qe(this.iteration,ge,$e),this}get names(){return Ge(super.names,this.iteration.names)}}class se extends ue{constructor(ge,$e,mt,_t){super(),this.varKind=ge,this.name=$e,this.from=mt,this.to=_t}render(ge){const $e=ge.es5?p.varKinds.var:this.varKind,{name:mt,from:_t,to:Vt}=this;return`for(${$e} ${mt}=${_t}; ${mt}<${Vt}; ${mt}++)`+super.render(ge)}get names(){const ge=lt(super.names,this.from);return lt(ge,this.to)}}class fe extends ue{constructor(ge,$e,mt,_t){super(),this.loop=ge,this.varKind=$e,this.name=mt,this.iterable=_t}render(ge){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(ge)}optimizeNames(ge,$e){if(super.optimizeNames(ge,$e))return this.iterable=Qe(this.iterable,ge,$e),this}get names(){return Ge(super.names,this.iterable.names)}}class ee extends ae{constructor(ge,$e,mt){super(),this.name=ge,this.args=$e,this.async=mt}render(ge){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(ge)}}ee.kind="func";class $ extends ne{render(ge){return"return "+super.render(ge)}}$.kind="return";class Se extends ae{render(ge){let $e="try"+super.render(ge);return this.catch&&($e+=this.catch.render(ge)),this.finally&&($e+=this.finally.render(ge)),$e}optimizeNodes(){var ge,$e;return super.optimizeNodes(),(ge=this.catch)===null||ge===void 0||ge.optimizeNodes(),($e=this.finally)===null||$e===void 0||$e.optimizeNodes(),this}optimizeNames(ge,$e){var mt,_t;return super.optimizeNames(ge,$e),(mt=this.catch)===null||mt===void 0||mt.optimizeNames(ge,$e),(_t=this.finally)===null||_t===void 0||_t.optimizeNames(ge,$e),this}get names(){const ge=super.names;return this.catch&&Ge(ge,this.catch.names),this.finally&&Ge(ge,this.finally.names),ge}}class Ie extends ae{constructor(ge){super(),this.error=ge}render(ge){return`catch(${this.error})`+super.render(ge)}}Ie.kind="catch";class Oe extends ae{render(ge){return"finally"+super.render(ge)}}Oe.kind="finally";class We{constructor(ge,$e={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...$e,_n:$e.lines?`
`:""},this._extScope=ge,this._scope=new p.Scope({parent:ge}),this._nodes=[new ve]}toString(){return this._root.render(this.opts)}name(ge){return this._scope.name(ge)}scopeName(ge){return this._extScope.name(ge)}scopeValue(ge,$e){const mt=this._extScope.value(ge,$e);return(this._values[mt.prefix]||(this._values[mt.prefix]=new Set)).add(mt),mt}getScopeValue(ge,$e){return this._extScope.getValue(ge,$e)}scopeRefs(ge){return this._extScope.scopeRefs(ge,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(ge,$e,mt,_t){const Vt=this._scope.toName($e);return mt!==void 0&&_t&&(this._constants[Vt.str]=mt),this._leafNode(new D(ge,Vt,mt)),Vt}const(ge,$e,mt){return this._def(p.varKinds.const,ge,$e,mt)}let(ge,$e,mt){return this._def(p.varKinds.let,ge,$e,mt)}var(ge,$e,mt){return this._def(p.varKinds.var,ge,$e,mt)}assign(ge,$e,mt){return this._leafNode(new N(ge,$e,mt))}add(ge,$e){return this._leafNode(new j(ge,w.operators.ADD,$e))}code(ge){return typeof ge=="function"?ge():ge!==s.nil&&this._leafNode(new re(ge)),this}object(...ge){const $e=["{"];for(const[mt,_t]of ge)$e.length>1&&$e.push(","),$e.push(mt),(mt!==_t||this.opts.es5)&&($e.push(":"),(0,s.addCodeArg)($e,_t));return $e.push("}"),new s._Code($e)}if(ge,$e,mt){if(this._blockNode(new H(ge)),$e&&mt)this.code($e).else().code(mt).endIf();else if($e)this.code($e).endIf();else if(mt)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(ge){return this._elseNode(new H(ge))}else(){return this._elseNode(new M)}endIf(){return this._endBlockNode(H,M)}_for(ge,$e){return this._blockNode(ge),$e&&this.code($e).endFor(),this}for(ge,$e){return this._for(new X(ge),$e)}forRange(ge,$e,mt,_t,Vt=this.opts.es5?p.varKinds.var:p.varKinds.let){const Cr=this._scope.toName(ge);return this._for(new se(Vt,Cr,$e,mt),()=>_t(Cr))}forOf(ge,$e,mt,_t=p.varKinds.const){const Vt=this._scope.toName(ge);if(this.opts.es5){const Cr=$e instanceof s.Name?$e:this.var("_arr",$e);return this.forRange("_i",0,(0,s._)`${Cr}.length`,Ve=>{this.var(Vt,(0,s._)`${Cr}[${Ve}]`),mt(Vt)})}return this._for(new fe("of",_t,Vt,$e),()=>mt(Vt))}forIn(ge,$e,mt,_t=this.opts.es5?p.varKinds.var:p.varKinds.const){if(this.opts.ownProperties)return this.forOf(ge,(0,s._)`Object.keys(${$e})`,mt);const Vt=this._scope.toName(ge);return this._for(new fe("in",_t,Vt,$e),()=>mt(Vt))}endFor(){return this._endBlockNode(ue)}label(ge){return this._leafNode(new I(ge))}break(ge){return this._leafNode(new G(ge))}return(ge){const $e=new $;if(this._blockNode($e),this.code(ge),$e.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode($)}try(ge,$e,mt){if(!$e&&!mt)throw new Error('CodeGen: "try" without "catch" and "finally"');const _t=new Se;if(this._blockNode(_t),this.code(ge),$e){const Vt=this.name("e");this._currNode=_t.catch=new Ie(Vt),$e(Vt)}return mt&&(this._currNode=_t.finally=new Oe,this.code(mt)),this._endBlockNode(Ie,Oe)}throw(ge){return this._leafNode(new z(ge))}block(ge,$e){return this._blockStarts.push(this._nodes.length),ge&&this.code(ge).endBlock($e),this}endBlock(ge){const $e=this._blockStarts.pop();if($e===void 0)throw new Error("CodeGen: not in self-balancing block");const mt=this._nodes.length-$e;if(mt<0||ge!==void 0&&mt!==ge)throw new Error(`CodeGen: wrong number of nodes: ${mt} vs ${ge} expected`);return this._nodes.length=$e,this}func(ge,$e=s.nil,mt,_t){return this._blockNode(new ee(ge,$e,mt)),_t&&this.code(_t).endFunc(),this}endFunc(){return this._endBlockNode(ee)}optimize(ge=1){for(;ge-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(ge){return this._currNode.nodes.push(ge),this}_blockNode(ge){this._currNode.nodes.push(ge),this._nodes.push(ge)}_endBlockNode(ge,$e){const mt=this._currNode;if(mt instanceof ge||$e&&mt instanceof $e)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${$e?`${ge.kind}/${$e.kind}`:ge.kind}"`)}_elseNode(ge){const $e=this._currNode;if(!($e instanceof H))throw new Error('CodeGen: "else" without "if"');return this._currNode=$e.else=ge,this}get _root(){return this._nodes[0]}get _currNode(){const ge=this._nodes;return ge[ge.length-1]}set _currNode(ge){const $e=this._nodes;$e[$e.length-1]=ge}}w.CodeGen=We;function Ge(tt,ge){for(const $e in ge)tt[$e]=(tt[$e]||0)+(ge[$e]||0);return tt}function lt(tt,ge){return ge instanceof s._CodeOrName?Ge(tt,ge.names):tt}function Qe(tt,ge,$e){if(tt instanceof s.Name)return mt(tt);if(!_t(tt))return tt;return new s._Code(tt._items.reduce((Vt,Cr)=>(Cr instanceof s.Name&&(Cr=mt(Cr)),Cr instanceof s._Code?Vt.push(...Cr._items):Vt.push(Cr),Vt),[]));function mt(Vt){const Cr=$e[Vt.str];return Cr===void 0||ge[Vt.str]!==1?Vt:(delete ge[Vt.str],Cr)}function _t(Vt){return Vt instanceof s._Code&&Vt._items.some(Cr=>Cr instanceof s.Name&&ge[Cr.str]===1&&$e[Cr.str]!==void 0)}}function He(tt,ge){for(const $e in ge)tt[$e]=(tt[$e]||0)-(ge[$e]||0)}function St(tt){return typeof tt=="boolean"||typeof tt=="number"||tt===null?!tt:(0,s._)`!${yt(tt)}`}w.not=St;const qt=Ze(w.operators.AND);function dt(...tt){return tt.reduce(qt)}w.and=dt;const wt=Ze(w.operators.OR);function rt(...tt){return tt.reduce(wt)}w.or=rt;function Ze(tt){return(ge,$e)=>ge===s.nil?$e:$e===s.nil?ge:(0,s._)`${yt(ge)} ${tt} ${yt($e)}`}function yt(tt){return tt instanceof s.Name?tt:(0,s._)`(${tt})`}},36001:function(Le,w,u){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.ValueScope=w.ValueScopeName=w.Scope=w.varKinds=w.UsedValueState=void 0;const s=u(28044);class p extends Error{constructor(I){super(`CodeGen: "code" for ${I} not defined`),this.value=I.value}}var R;(function(j){j[j.Started=0]="Started",j[j.Completed=1]="Completed"})(R=w.UsedValueState||(w.UsedValueState={})),w.varKinds={const:new s.Name("const"),let:new s.Name("let"),var:new s.Name("var")};class O{constructor({prefixes:I,parent:G}={}){this._names={},this._prefixes=I,this._parent=G}toName(I){return I instanceof s.Name?I:this.name(I)}name(I){return new s.Name(this._newName(I))}_newName(I){const G=this._names[I]||this._nameGroup(I);return`${I}${G.index++}`}_nameGroup(I){var G,z;if(!((z=(G=this._parent)===null||G===void 0?void 0:G._prefixes)===null||z===void 0)&&z.has(I)||this._prefixes&&!this._prefixes.has(I))throw new Error(`CodeGen: prefix "${I}" is not allowed in this scope`);return this._names[I]={prefix:I,index:0}}}w.Scope=O;class _ extends s.Name{constructor(I,G){super(G),this.prefix=I}setValue(I,{property:G,itemIndex:z}){this.value=I,this.scopePath=(0,s._)`.${new s.Name(G)}[${z}]`}}w.ValueScopeName=_;const D=(0,s._)`\n`;class N extends O{constructor(I){super(I),this._values={},this._scope=I.scope,this.opts={...I,_n:I.lines?D:s.nil}}get(){return this._scope}name(I){return new _(I,this._newName(I))}value(I,G){var z;if(G.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const re=this.toName(I),{prefix:ne}=re,ae=(z=G.key)!==null&&z!==void 0?z:G.ref;let ve=this._values[ne];if(ve){const ue=ve.get(ae);if(ue)return ue}else ve=this._values[ne]=new Map;ve.set(ae,re);const M=this._scope[ne]||(this._scope[ne]=[]),H=M.length;return M[H]=G.ref,re.setValue(G,{property:ne,itemIndex:H}),re}getValue(I,G){const z=this._values[I];if(z)return z.get(G)}scopeRefs(I,G=this._values){return this._reduceValues(G,z=>{if(z.scopePath===void 0)throw new Error(`CodeGen: name "${z}" has no value`);return(0,s._)`${I}${z.scopePath}`})}scopeCode(I=this._values,G,z){return this._reduceValues(I,re=>{if(re.value===void 0)throw new Error(`CodeGen: name "${re}" has no value`);return re.value.code},G,z)}_reduceValues(I,G,z={},re){let ne=s.nil;for(const ae in I){const ve=I[ae];if(!ve)continue;const M=z[ae]=z[ae]||new Map;ve.forEach(H=>{if(M.has(H))return;M.set(H,R.Started);let ue=G(H);if(ue){const X=this.opts.es5?w.varKinds.var:w.varKinds.const;ne=(0,s._)`${ne}${X} ${H} = ${ue};${this.opts._n}`}else if(ue=re==null?void 0:re(H))ne=(0,s._)`${ne}${ue}${this.opts._n}`;else throw new p(H);M.set(H,R.Completed)})}return ne}}w.ValueScope=N},19606:function(Le,w,u){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.extendErrors=w.resetErrorsCount=w.reportExtraError=w.reportError=w.keyword$DataError=w.keywordError=void 0;const s=u(45117),p=u(79812),R=u(93239);w.keywordError={message:({keyword:M})=>(0,s.str)`must pass "${M}" keyword validation`},w.keyword$DataError={message:({keyword:M,schemaType:H})=>H?(0,s.str)`"${M}" keyword must be ${H} ($data)`:(0,s.str)`"${M}" keyword is invalid ($data)`};function O(M,H=w.keywordError,ue,X){const{it:se}=M,{gen:fe,compositeRule:ee,allErrors:$}=se,Se=z(M,H,ue);(X!=null?X:ee||$)?j(fe,Se):I(se,(0,s._)`[${Se}]`)}w.reportError=O;function _(M,H=w.keywordError,ue){const{it:X}=M,{gen:se,compositeRule:fe,allErrors:ee}=X,$=z(M,H,ue);j(se,$),fe||ee||I(X,R.default.vErrors)}w.reportExtraError=_;function D(M,H){M.assign(R.default.errors,H),M.if((0,s._)`${R.default.vErrors} !== null`,()=>M.if(H,()=>M.assign((0,s._)`${R.default.vErrors}.length`,H),()=>M.assign(R.default.vErrors,null)))}w.resetErrorsCount=D;function N({gen:M,keyword:H,schemaValue:ue,data:X,errsCount:se,it:fe}){if(se===void 0)throw new Error("ajv implementation error");const ee=M.name("err");M.forRange("i",se,R.default.errors,$=>{M.const(ee,(0,s._)`${R.default.vErrors}[${$}]`),M.if((0,s._)`${ee}.instancePath === undefined`,()=>M.assign((0,s._)`${ee}.instancePath`,(0,s.strConcat)(R.default.instancePath,fe.errorPath))),M.assign((0,s._)`${ee}.schemaPath`,(0,s.str)`${fe.errSchemaPath}/${H}`),fe.opts.verbose&&(M.assign((0,s._)`${ee}.schema`,ue),M.assign((0,s._)`${ee}.data`,X))})}w.extendErrors=N;function j(M,H){const ue=M.const("err",H);M.if((0,s._)`${R.default.vErrors} === null`,()=>M.assign(R.default.vErrors,(0,s._)`[${ue}]`),(0,s._)`${R.default.vErrors}.push(${ue})`),M.code((0,s._)`${R.default.errors}++`)}function I(M,H){const{gen:ue,validateName:X,schemaEnv:se}=M;se.$async?ue.throw((0,s._)`new ${M.ValidationError}(${H})`):(ue.assign((0,s._)`${X}.errors`,H),ue.return(!1))}const G={keyword:new s.Name("keyword"),schemaPath:new s.Name("schemaPath"),params:new s.Name("params"),propertyName:new s.Name("propertyName"),message:new s.Name("message"),schema:new s.Name("schema"),parentSchema:new s.Name("parentSchema")};function z(M,H,ue){const{createErrors:X}=M.it;return X===!1?(0,s._)`{}`:re(M,H,ue)}function re(M,H,ue={}){const{gen:X,it:se}=M,fe=[ne(se,ue),ae(M,ue)];return ve(M,H,fe),X.object(...fe)}function ne({errorPath:M},{instancePath:H}){const ue=H?(0,s.str)`${M}${(0,p.getErrorPath)(H,p.Type.Str)}`:M;return[R.default.instancePath,(0,s.strConcat)(R.default.instancePath,ue)]}function ae({keyword:M,it:{errSchemaPath:H}},{schemaPath:ue,parentSchema:X}){let se=X?H:(0,s.str)`${H}/${M}`;return ue&&(se=(0,s.str)`${se}${(0,p.getErrorPath)(ue,p.Type.Str)}`),[G.schemaPath,se]}function ve(M,{params:H,message:ue},X){const{keyword:se,data:fe,schemaValue:ee,it:$}=M,{opts:Se,propertyName:Ie,topSchemaRef:Oe,schemaPath:We}=$;X.push([G.keyword,se],[G.params,typeof H=="function"?H(M):H||(0,s._)`{}`]),Se.messages&&X.push([G.message,typeof ue=="function"?ue(M):ue]),Se.verbose&&X.push([G.schema,ee],[G.parentSchema,(0,s._)`${Oe}${We}`],[R.default.data,fe]),Ie&&X.push([G.propertyName,Ie])}},19984:function(Le,w,u){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.resolveSchema=w.getCompilingSchema=w.resolveRef=w.compileSchema=w.SchemaEnv=void 0;const s=u(45117),p=u(65282),R=u(93239),O=u(40071),_=u(79812),D=u(53970);class N{constructor(ue){var X;this.refs={},this.dynamicAnchors={};let se;typeof ue.schema=="object"&&(se=ue.schema),this.schema=ue.schema,this.schemaId=ue.schemaId,this.root=ue.root||this,this.baseId=(X=ue.baseId)!==null&&X!==void 0?X:(0,O.normalizeId)(se==null?void 0:se[ue.schemaId||"$id"]),this.schemaPath=ue.schemaPath,this.localRefs=ue.localRefs,this.meta=ue.meta,this.$async=se==null?void 0:se.$async,this.refs={}}}w.SchemaEnv=N;function j(H){const ue=z.call(this,H);if(ue)return ue;const X=(0,O.getFullPath)(this.opts.uriResolver,H.root.baseId),{es5:se,lines:fe}=this.opts.code,{ownProperties:ee}=this.opts,$=new s.CodeGen(this.scope,{es5:se,lines:fe,ownProperties:ee});let Se;H.$async&&(Se=$.scopeValue("Error",{ref:p.default,code:(0,s._)`require("ajv/dist/runtime/validation_error").default`}));const Ie=$.scopeName("validate");H.validateName=Ie;const Oe={gen:$,allErrors:this.opts.allErrors,data:R.default.data,parentData:R.default.parentData,parentDataProperty:R.default.parentDataProperty,dataNames:[R.default.data],dataPathArr:[s.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:$.scopeValue("schema",this.opts.code.source===!0?{ref:H.schema,code:(0,s.stringify)(H.schema)}:{ref:H.schema}),validateName:Ie,ValidationError:Se,schema:H.schema,schemaEnv:H,rootId:X,baseId:H.baseId||X,schemaPath:s.nil,errSchemaPath:H.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,s._)`""`,opts:this.opts,self:this};let We;try{this._compilations.add(H),(0,D.validateFunctionCode)(Oe),$.optimize(this.opts.code.optimize);const Ge=$.toString();We=`${$.scopeRefs(R.default.scope)}return ${Ge}`,this.opts.code.process&&(We=this.opts.code.process(We,H));const Qe=new Function(`${R.default.self}`,`${R.default.scope}`,We)(this,this.scope.get());if(this.scope.value(Ie,{ref:Qe}),Qe.errors=null,Qe.schema=H.schema,Qe.schemaEnv=H,H.$async&&(Qe.$async=!0),this.opts.code.source===!0&&(Qe.source={validateName:Ie,validateCode:Ge,scopeValues:$._values}),this.opts.unevaluated){const{props:He,items:St}=Oe;Qe.evaluated={props:He instanceof s.Name?void 0:He,items:St instanceof s.Name?void 0:St,dynamicProps:He instanceof s.Name,dynamicItems:St instanceof s.Name},Qe.source&&(Qe.source.evaluated=(0,s.stringify)(Qe.evaluated))}return H.validate=Qe,H}catch(Ge){throw delete H.validate,delete H.validateName,We&&this.logger.error("Error compiling schema, function code:",We),Ge}finally{this._compilations.delete(H)}}w.compileSchema=j;function I(H,ue,X){var se;X=(0,O.resolveUrl)(this.opts.uriResolver,ue,X);const fe=H.refs[X];if(fe)return fe;let ee=ne.call(this,H,X);if(ee===void 0){const $=(se=H.localRefs)===null||se===void 0?void 0:se[X],{schemaId:Se}=this.opts;$&&(ee=new N({schema:$,schemaId:Se,root:H,baseId:ue}))}if(ee!==void 0)return H.refs[X]=G.call(this,ee)}w.resolveRef=I;function G(H){return(0,O.inlineRef)(H.schema,this.opts.inlineRefs)?H.schema:H.validate?H:j.call(this,H)}function z(H){for(const ue of this._compilations)if(re(ue,H))return ue}w.getCompilingSchema=z;function re(H,ue){return H.schema===ue.schema&&H.root===ue.root&&H.baseId===ue.baseId}function ne(H,ue){let X;for(;typeof(X=this.refs[ue])=="string";)ue=X;return X||this.schemas[ue]||ae.call(this,H,ue)}function ae(H,ue){const X=this.opts.uriResolver.parse(ue),se=(0,O._getFullPath)(this.opts.uriResolver,X);let fe=(0,O.getFullPath)(this.opts.uriResolver,H.baseId,void 0);if(Object.keys(H.schema).length>0&&se===fe)return M.call(this,X,H);const ee=(0,O.normalizeId)(se),$=this.refs[ee]||this.schemas[ee];if(typeof $=="string"){const Se=ae.call(this,H,$);return typeof(Se==null?void 0:Se.schema)!="object"?void 0:M.call(this,X,Se)}if(typeof($==null?void 0:$.schema)=="object"){if($.validate||j.call(this,$),ee===(0,O.normalizeId)(ue)){const{schema:Se}=$,{schemaId:Ie}=this.opts,Oe=Se[Ie];return Oe&&(fe=(0,O.resolveUrl)(this.opts.uriResolver,fe,Oe)),new N({schema:Se,schemaId:Ie,root:H,baseId:fe})}return M.call(this,X,$)}}w.resolveSchema=ae;const ve=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function M(H,{baseId:ue,schema:X,root:se}){var fe;if(((fe=H.fragment)===null||fe===void 0?void 0:fe[0])!=="/")return;for(const Se of H.fragment.slice(1).split("/")){if(typeof X=="boolean")return;const Ie=X[(0,_.unescapeFragment)(Se)];if(Ie===void 0)return;X=Ie;const Oe=typeof X=="object"&&X[this.opts.schemaId];!ve.has(Se)&&Oe&&(ue=(0,O.resolveUrl)(this.opts.uriResolver,ue,Oe))}let ee;if(typeof X!="boolean"&&X.$ref&&!(0,_.schemaHasRulesButRef)(X,this.RULES)){const Se=(0,O.resolveUrl)(this.opts.uriResolver,ue,X.$ref);ee=ae.call(this,se,Se)}const{schemaId:$}=this.opts;if(ee=ee||new N({schema:X,schemaId:$,root:se,baseId:ue}),ee.schema!==ee.root.schema)return ee}},93239:function(Le,w,u){"use strict";Object.defineProperty(w,"__esModule",{value:!0});const s=u(45117),p={data:new s.Name("data"),valCxt:new s.Name("valCxt"),instancePath:new s.Name("instancePath"),parentData:new s.Name("parentData"),parentDataProperty:new s.Name("parentDataProperty"),rootData:new s.Name("rootData"),dynamicAnchors:new s.Name("dynamicAnchors"),vErrors:new s.Name("vErrors"),errors:new s.Name("errors"),this:new s.Name("this"),self:new s.Name("self"),scope:new s.Name("scope"),json:new s.Name("json"),jsonPos:new s.Name("jsonPos"),jsonLen:new s.Name("jsonLen"),jsonPart:new s.Name("jsonPart")};w.default=p},97566:function(Le,w,u){"use strict";Object.defineProperty(w,"__esModule",{value:!0});const s=u(40071);class p extends Error{constructor(O,_,D,N){super(N||`can't resolve reference ${D} from id ${_}`),this.missingRef=(0,s.resolveUrl)(O,_,D),this.missingSchema=(0,s.normalizeId)((0,s.getFullPath)(O,this.missingRef))}}w.default=p},40071:function(Le,w,u){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.getSchemaRefs=w.resolveUrl=w.normalizeId=w._getFullPath=w.getFullPath=w.inlineRef=void 0;const s=u(79812),p=u(69378),R=u(19522),O=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function _(M,H=!0){return typeof M=="boolean"?!0:H===!0?!N(M):H?j(M)<=H:!1}w.inlineRef=_;const D=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function N(M){for(const H in M){if(D.has(H))return!0;const ue=M[H];if(Array.isArray(ue)&&ue.some(N)||typeof ue=="object"&&N(ue))return!0}return!1}function j(M){let H=0;for(const ue in M){if(ue==="$ref")return 1/0;if(H++,!O.has(ue)&&(typeof M[ue]=="object"&&(0,s.eachItem)(M[ue],X=>H+=j(X)),H===1/0))return 1/0}return H}function I(M,H="",ue){ue!==!1&&(H=re(H));const X=M.parse(H);return G(M,X)}w.getFullPath=I;function G(M,H){return M.serialize(H).split("#")[0]+"#"}w._getFullPath=G;const z=/#\/?$/;function re(M){return M?M.replace(z,""):""}w.normalizeId=re;function ne(M,H,ue){return ue=re(ue),M.resolve(H,ue)}w.resolveUrl=ne;const ae=/^[a-z_][-a-z0-9._]*$/i;function ve(M,H){if(typeof M=="boolean")return{};const{schemaId:ue,uriResolver:X}=this.opts,se=re(M[ue]||H),fe={"":se},ee=I(X,se,!1),$={},Se=new Set;return R(M,{allKeys:!0},(We,Ge,lt,Qe)=>{if(Qe===void 0)return;const He=ee+Ge;let St=fe[Qe];typeof We[ue]=="string"&&(St=qt.call(this,We[ue])),dt.call(this,We.$anchor),dt.call(this,We.$dynamicAnchor),fe[Ge]=St;function qt(wt){const rt=this.opts.uriResolver.resolve;if(wt=re(St?rt(St,wt):wt),Se.has(wt))throw Oe(wt);Se.add(wt);let Ze=this.refs[wt];return typeof Ze=="string"&&(Ze=this.refs[Ze]),typeof Ze=="object"?Ie(We,Ze.schema,wt):wt!==re(He)&&(wt[0]==="#"?(Ie(We,$[wt],wt),$[wt]=We):this.refs[wt]=He),wt}function dt(wt){if(typeof wt=="string"){if(!ae.test(wt))throw new Error(`invalid anchor "${wt}"`);qt.call(this,`#${wt}`)}}}),$;function Ie(We,Ge,lt){if(Ge!==void 0&&!p(We,Ge))throw Oe(lt)}function Oe(We){return new Error(`reference "${We}" resolves to more than one schema`)}}w.getSchemaRefs=ve},60968:function(Le,w){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.getRules=w.isJSONType=void 0;const u=["string","number","integer","boolean","null","object","array"],s=new Set(u);function p(O){return typeof O=="string"&&s.has(O)}w.isJSONType=p;function R(){const O={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...O,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},O.number,O.string,O.array,O.object],post:{rules:[]},all:{},keywords:{}}}w.getRules=R},79812:function(Le,w,u){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.checkStrictMode=w.getErrorPath=w.Type=w.useFunc=w.setEvaluated=w.evaluatedPropsToName=w.mergeEvaluated=w.eachItem=w.unescapeJsonPointer=w.escapeJsonPointer=w.escapeFragment=w.unescapeFragment=w.schemaRefOrVal=w.schemaHasRulesButRef=w.schemaHasRules=w.checkUnknownRules=w.alwaysValidSchema=w.toHash=void 0;const s=u(45117),p=u(28044);function R(ee){const $={};for(const Se of ee)$[Se]=!0;return $}w.toHash=R;function O(ee,$){return typeof $=="boolean"?$:Object.keys($).length===0?!0:(_(ee,$),!D($,ee.self.RULES.all))}w.alwaysValidSchema=O;function _(ee,$=ee.schema){const{opts:Se,self:Ie}=ee;if(!Se.strictSchema||typeof $=="boolean")return;const Oe=Ie.RULES.keywords;for(const We in $)Oe[We]||fe(ee,`unknown keyword: "${We}"`)}w.checkUnknownRules=_;function D(ee,$){if(typeof ee=="boolean")return!ee;for(const Se in ee)if($[Se])return!0;return!1}w.schemaHasRules=D;function N(ee,$){if(typeof ee=="boolean")return!ee;for(const Se in ee)if(Se!=="$ref"&&$.all[Se])return!0;return!1}w.schemaHasRulesButRef=N;function j({topSchemaRef:ee,schemaPath:$},Se,Ie,Oe){if(!Oe){if(typeof Se=="number"||typeof Se=="boolean")return Se;if(typeof Se=="string")return(0,s._)`${Se}`}return(0,s._)`${ee}${$}${(0,s.getProperty)(Ie)}`}w.schemaRefOrVal=j;function I(ee){return re(decodeURIComponent(ee))}w.unescapeFragment=I;function G(ee){return encodeURIComponent(z(ee))}w.escapeFragment=G;function z(ee){return typeof ee=="number"?`${ee}`:ee.replace(/~/g,"~0").replace(/\//g,"~1")}w.escapeJsonPointer=z;function re(ee){return ee.replace(/~1/g,"/").replace(/~0/g,"~")}w.unescapeJsonPointer=re;function ne(ee,$){if(Array.isArray(ee))for(const Se of ee)$(Se);else $(ee)}w.eachItem=ne;function ae({mergeNames:ee,mergeToName:$,mergeValues:Se,resultToName:Ie}){return(Oe,We,Ge,lt)=>{const Qe=Ge===void 0?We:Ge instanceof s.Name?(We instanceof s.Name?ee(Oe,We,Ge):$(Oe,We,Ge),Ge):We instanceof s.Name?($(Oe,Ge,We),We):Se(We,Ge);return lt===s.Name&&!(Qe instanceof s.Name)?Ie(Oe,Qe):Qe}}w.mergeEvaluated={props:ae({mergeNames:(ee,$,Se)=>ee.if((0,s._)`${Se} !== true && ${$} !== undefined`,()=>{ee.if((0,s._)`${$} === true`,()=>ee.assign(Se,!0),()=>ee.assign(Se,(0,s._)`${Se} || {}`).code((0,s._)`Object.assign(${Se}, ${$})`))}),mergeToName:(ee,$,Se)=>ee.if((0,s._)`${Se} !== true`,()=>{$===!0?ee.assign(Se,!0):(ee.assign(Se,(0,s._)`${Se} || {}`),M(ee,Se,$))}),mergeValues:(ee,$)=>ee===!0?!0:{...ee,...$},resultToName:ve}),items:ae({mergeNames:(ee,$,Se)=>ee.if((0,s._)`${Se} !== true && ${$} !== undefined`,()=>ee.assign(Se,(0,s._)`${$} === true ? true : ${Se} > ${$} ? ${Se} : ${$}`)),mergeToName:(ee,$,Se)=>ee.if((0,s._)`${Se} !== true`,()=>ee.assign(Se,$===!0?!0:(0,s._)`${Se} > ${$} ? ${Se} : ${$}`)),mergeValues:(ee,$)=>ee===!0?!0:Math.max(ee,$),resultToName:(ee,$)=>ee.var("items",$)})};function ve(ee,$){if($===!0)return ee.var("props",!0);const Se=ee.var("props",(0,s._)`{}`);return $!==void 0&&M(ee,Se,$),Se}w.evaluatedPropsToName=ve;function M(ee,$,Se){Object.keys(Se).forEach(Ie=>ee.assign((0,s._)`${$}${(0,s.getProperty)(Ie)}`,!0))}w.setEvaluated=M;const H={};function ue(ee,$){return ee.scopeValue("func",{ref:$,code:H[$.code]||(H[$.code]=new p._Code($.code))})}w.useFunc=ue;var X;(function(ee){ee[ee.Num=0]="Num",ee[ee.Str=1]="Str"})(X=w.Type||(w.Type={}));function se(ee,$,Se){if(ee instanceof s.Name){const Ie=$===X.Num;return Se?Ie?(0,s._)`"[" + ${ee} + "]"`:(0,s._)`"['" + ${ee} + "']"`:Ie?(0,s._)`"/" + ${ee}`:(0,s._)`"/" + ${ee}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return Se?(0,s.getProperty)(ee).toString():"/"+z(ee)}w.getErrorPath=se;function fe(ee,$,Se=ee.opts.strictSchema){if(Se){if($=`strict mode: ${$}`,Se===!0)throw new Error($);ee.self.logger.warn($)}}w.checkStrictMode=fe},15149:function(Le,w){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.shouldUseRule=w.shouldUseGroup=w.schemaHasRulesForType=void 0;function u({schema:R,self:O},_){const D=O.RULES.types[_];return D&&D!==!0&&s(R,D)}w.schemaHasRulesForType=u;function s(R,O){return O.rules.some(_=>p(R,_))}w.shouldUseGroup=s;function p(R,O){var _;return R[O.keyword]!==void 0||((_=O.definition.implements)===null||_===void 0?void 0:_.some(D=>R[D]!==void 0))}w.shouldUseRule=p},87929:function(Le,w,u){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.boolOrEmptySchema=w.topBoolOrEmptySchema=void 0;const s=u(19606),p=u(45117),R=u(93239),O={message:"boolean schema is false"};function _(j){const{gen:I,schema:G,validateName:z}=j;G===!1?N(j,!1):typeof G=="object"&&G.$async===!0?I.return(R.default.data):(I.assign((0,p._)`${z}.errors`,null),I.return(!0))}w.topBoolOrEmptySchema=_;function D(j,I){const{gen:G,schema:z}=j;z===!1?(G.var(I,!1),N(j)):G.var(I,!0)}w.boolOrEmptySchema=D;function N(j,I){const{gen:G,data:z}=j,re={gen:G,keyword:"false schema",data:z,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:j};(0,s.reportError)(re,O,void 0,I)}},51549:function(Le,w,u){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.reportTypeError=w.checkDataTypes=w.checkDataType=w.coerceAndCheckDataType=w.getJSONTypes=w.getSchemaTypes=w.DataType=void 0;const s=u(60968),p=u(15149),R=u(19606),O=u(45117),_=u(79812);var D;(function(X){X[X.Correct=0]="Correct",X[X.Wrong=1]="Wrong"})(D=w.DataType||(w.DataType={}));function N(X){const se=j(X.type);if(se.includes("null")){if(X.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!se.length&&X.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');X.nullable===!0&&se.push("null")}return se}w.getSchemaTypes=N;function j(X){const se=Array.isArray(X)?X:X?[X]:[];if(se.every(s.isJSONType))return se;throw new Error("type must be JSONType or JSONType[]: "+se.join(","))}w.getJSONTypes=j;function I(X,se){const{gen:fe,data:ee,opts:$}=X,Se=z(se,$.coerceTypes),Ie=se.length>0&&!(Se.length===0&&se.length===1&&(0,p.schemaHasRulesForType)(X,se[0]));if(Ie){const Oe=ve(se,ee,$.strictNumbers,D.Wrong);fe.if(Oe,()=>{Se.length?re(X,se,Se):H(X)})}return Ie}w.coerceAndCheckDataType=I;const G=new Set(["string","number","integer","boolean","null"]);function z(X,se){return se?X.filter(fe=>G.has(fe)||se==="array"&&fe==="array"):[]}function re(X,se,fe){const{gen:ee,data:$,opts:Se}=X,Ie=ee.let("dataType",(0,O._)`typeof ${$}`),Oe=ee.let("coerced",(0,O._)`undefined`);Se.coerceTypes==="array"&&ee.if((0,O._)`${Ie} == 'object' && Array.isArray(${$}) && ${$}.length == 1`,()=>ee.assign($,(0,O._)`${$}[0]`).assign(Ie,(0,O._)`typeof ${$}`).if(ve(se,$,Se.strictNumbers),()=>ee.assign(Oe,$))),ee.if((0,O._)`${Oe} !== undefined`);for(const Ge of fe)(G.has(Ge)||Ge==="array"&&Se.coerceTypes==="array")&&We(Ge);ee.else(),H(X),ee.endIf(),ee.if((0,O._)`${Oe} !== undefined`,()=>{ee.assign($,Oe),ne(X,Oe)});function We(Ge){switch(Ge){case"string":ee.elseIf((0,O._)`${Ie} == "number" || ${Ie} == "boolean"`).assign(Oe,(0,O._)`"" + ${$}`).elseIf((0,O._)`${$} === null`).assign(Oe,(0,O._)`""`);return;case"number":ee.elseIf((0,O._)`${Ie} == "boolean" || ${$} === null
              || (${Ie} == "string" && ${$} && ${$} == +${$})`).assign(Oe,(0,O._)`+${$}`);return;case"integer":ee.elseIf((0,O._)`${Ie} === "boolean" || ${$} === null
              || (${Ie} === "string" && ${$} && ${$} == +${$} && !(${$} % 1))`).assign(Oe,(0,O._)`+${$}`);return;case"boolean":ee.elseIf((0,O._)`${$} === "false" || ${$} === 0 || ${$} === null`).assign(Oe,!1).elseIf((0,O._)`${$} === "true" || ${$} === 1`).assign(Oe,!0);return;case"null":ee.elseIf((0,O._)`${$} === "" || ${$} === 0 || ${$} === false`),ee.assign(Oe,null);return;case"array":ee.elseIf((0,O._)`${Ie} === "string" || ${Ie} === "number"
              || ${Ie} === "boolean" || ${$} === null`).assign(Oe,(0,O._)`[${$}]`)}}}function ne({gen:X,parentData:se,parentDataProperty:fe},ee){X.if((0,O._)`${se} !== undefined`,()=>X.assign((0,O._)`${se}[${fe}]`,ee))}function ae(X,se,fe,ee=D.Correct){const $=ee===D.Correct?O.operators.EQ:O.operators.NEQ;let Se;switch(X){case"null":return(0,O._)`${se} ${$} null`;case"array":Se=(0,O._)`Array.isArray(${se})`;break;case"object":Se=(0,O._)`${se} && typeof ${se} == "object" && !Array.isArray(${se})`;break;case"integer":Se=Ie((0,O._)`!(${se} % 1) && !isNaN(${se})`);break;case"number":Se=Ie();break;default:return(0,O._)`typeof ${se} ${$} ${X}`}return ee===D.Correct?Se:(0,O.not)(Se);function Ie(Oe=O.nil){return(0,O.and)((0,O._)`typeof ${se} == "number"`,Oe,fe?(0,O._)`isFinite(${se})`:O.nil)}}w.checkDataType=ae;function ve(X,se,fe,ee){if(X.length===1)return ae(X[0],se,fe,ee);let $;const Se=(0,_.toHash)(X);if(Se.array&&Se.object){const Ie=(0,O._)`typeof ${se} != "object"`;$=Se.null?Ie:(0,O._)`!${se} || ${Ie}`,delete Se.null,delete Se.array,delete Se.object}else $=O.nil;Se.number&&delete Se.integer;for(const Ie in Se)$=(0,O.and)($,ae(Ie,se,fe,ee));return $}w.checkDataTypes=ve;const M={message:({schema:X})=>`must be ${X}`,params:({schema:X,schemaValue:se})=>typeof X=="string"?(0,O._)`{type: ${X}}`:(0,O._)`{type: ${se}}`};function H(X){const se=ue(X);(0,R.reportError)(se,M)}w.reportTypeError=H;function ue(X){const{gen:se,data:fe,schema:ee}=X,$=(0,_.schemaRefOrVal)(X,ee,"type");return{gen:se,keyword:"type",data:fe,schema:ee.type,schemaCode:$,schemaValue:$,parentSchema:ee,params:{},it:X}}},6549:function(Le,w,u){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.assignDefaults=void 0;const s=u(45117),p=u(79812);function R(_,D){const{properties:N,items:j}=_.schema;if(D==="object"&&N)for(const I in N)O(_,I,N[I].default);else D==="array"&&Array.isArray(j)&&j.forEach((I,G)=>O(_,G,I.default))}w.assignDefaults=R;function O(_,D,N){const{gen:j,compositeRule:I,data:G,opts:z}=_;if(N===void 0)return;const re=(0,s._)`${G}${(0,s.getProperty)(D)}`;if(I){(0,p.checkStrictMode)(_,`default is ignored for: ${re}`);return}let ne=(0,s._)`${re} === undefined`;z.useDefaults==="empty"&&(ne=(0,s._)`${ne} || ${re} === null || ${re} === ""`),j.if(ne,(0,s._)`${re} = ${(0,s.stringify)(N)}`)}},53970:function(Le,w,u){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.getData=w.KeywordCxt=w.validateFunctionCode=void 0;const s=u(87929),p=u(51549),R=u(15149),O=u(51549),_=u(6549),D=u(87896),N=u(94929),j=u(45117),I=u(93239),G=u(40071),z=u(79812),re=u(19606);function ne(Z){if(ee(Z)&&(Se(Z),fe(Z))){H(Z);return}ae(Z,()=>(0,s.topBoolOrEmptySchema)(Z))}w.validateFunctionCode=ne;function ae({gen:Z,validateName:Q,schema:ie,schemaEnv:Te,opts:Xe},ct){Xe.code.es5?Z.func(Q,(0,j._)`${I.default.data}, ${I.default.valCxt}`,Te.$async,()=>{Z.code((0,j._)`"use strict"; ${X(ie,Xe)}`),M(Z,Xe),Z.code(ct)}):Z.func(Q,(0,j._)`${I.default.data}, ${ve(Xe)}`,Te.$async,()=>Z.code(X(ie,Xe)).code(ct))}function ve(Z){return(0,j._)`{${I.default.instancePath}="", ${I.default.parentData}, ${I.default.parentDataProperty}, ${I.default.rootData}=${I.default.data}${Z.dynamicRef?(0,j._)`, ${I.default.dynamicAnchors}={}`:j.nil}}={}`}function M(Z,Q){Z.if(I.default.valCxt,()=>{Z.var(I.default.instancePath,(0,j._)`${I.default.valCxt}.${I.default.instancePath}`),Z.var(I.default.parentData,(0,j._)`${I.default.valCxt}.${I.default.parentData}`),Z.var(I.default.parentDataProperty,(0,j._)`${I.default.valCxt}.${I.default.parentDataProperty}`),Z.var(I.default.rootData,(0,j._)`${I.default.valCxt}.${I.default.rootData}`),Q.dynamicRef&&Z.var(I.default.dynamicAnchors,(0,j._)`${I.default.valCxt}.${I.default.dynamicAnchors}`)},()=>{Z.var(I.default.instancePath,(0,j._)`""`),Z.var(I.default.parentData,(0,j._)`undefined`),Z.var(I.default.parentDataProperty,(0,j._)`undefined`),Z.var(I.default.rootData,I.default.data),Q.dynamicRef&&Z.var(I.default.dynamicAnchors,(0,j._)`{}`)})}function H(Z){const{schema:Q,opts:ie,gen:Te}=Z;ae(Z,()=>{ie.$comment&&Q.$comment&&Qe(Z),We(Z),Te.let(I.default.vErrors,null),Te.let(I.default.errors,0),ie.unevaluated&&ue(Z),Ie(Z),He(Z)})}function ue(Z){const{gen:Q,validateName:ie}=Z;Z.evaluated=Q.const("evaluated",(0,j._)`${ie}.evaluated`),Q.if((0,j._)`${Z.evaluated}.dynamicProps`,()=>Q.assign((0,j._)`${Z.evaluated}.props`,(0,j._)`undefined`)),Q.if((0,j._)`${Z.evaluated}.dynamicItems`,()=>Q.assign((0,j._)`${Z.evaluated}.items`,(0,j._)`undefined`))}function X(Z,Q){const ie=typeof Z=="object"&&Z[Q.schemaId];return ie&&(Q.code.source||Q.code.process)?(0,j._)`/*# sourceURL=${ie} */`:j.nil}function se(Z,Q){if(ee(Z)&&(Se(Z),fe(Z))){$(Z,Q);return}(0,s.boolOrEmptySchema)(Z,Q)}function fe({schema:Z,self:Q}){if(typeof Z=="boolean")return!Z;for(const ie in Z)if(Q.RULES.all[ie])return!0;return!1}function ee(Z){return typeof Z.schema!="boolean"}function $(Z,Q){const{schema:ie,gen:Te,opts:Xe}=Z;Xe.$comment&&ie.$comment&&Qe(Z),Ge(Z),lt(Z);const ct=Te.const("_errs",I.default.errors);Ie(Z,ct),Te.var(Q,(0,j._)`${ct} === ${I.default.errors}`)}function Se(Z){(0,z.checkUnknownRules)(Z),Oe(Z)}function Ie(Z,Q){if(Z.opts.jtd)return qt(Z,[],!1,Q);const ie=(0,p.getSchemaTypes)(Z.schema),Te=(0,p.coerceAndCheckDataType)(Z,ie);qt(Z,ie,!Te,Q)}function Oe(Z){const{schema:Q,errSchemaPath:ie,opts:Te,self:Xe}=Z;Q.$ref&&Te.ignoreKeywordsWithRef&&(0,z.schemaHasRulesButRef)(Q,Xe.RULES)&&Xe.logger.warn(`$ref: keywords ignored in schema at path "${ie}"`)}function We(Z){const{schema:Q,opts:ie}=Z;Q.default!==void 0&&ie.useDefaults&&ie.strictSchema&&(0,z.checkStrictMode)(Z,"default is ignored in the schema root")}function Ge(Z){const Q=Z.schema[Z.opts.schemaId];Q&&(Z.baseId=(0,G.resolveUrl)(Z.opts.uriResolver,Z.baseId,Q))}function lt(Z){if(Z.schema.$async&&!Z.schemaEnv.$async)throw new Error("async schema in sync schema")}function Qe({gen:Z,schemaEnv:Q,schema:ie,errSchemaPath:Te,opts:Xe}){const ct=ie.$comment;if(Xe.$comment===!0)Z.code((0,j._)`${I.default.self}.logger.log(${ct})`);else if(typeof Xe.$comment=="function"){const Mt=(0,j.str)`${Te}/$comment`,Qt=Z.scopeValue("root",{ref:Q.root});Z.code((0,j._)`${I.default.self}.opts.$comment(${ct}, ${Mt}, ${Qt}.schema)`)}}function He(Z){const{gen:Q,schemaEnv:ie,validateName:Te,ValidationError:Xe,opts:ct}=Z;ie.$async?Q.if((0,j._)`${I.default.errors} === 0`,()=>Q.return(I.default.data),()=>Q.throw((0,j._)`new ${Xe}(${I.default.vErrors})`)):(Q.assign((0,j._)`${Te}.errors`,I.default.vErrors),ct.unevaluated&&St(Z),Q.return((0,j._)`${I.default.errors} === 0`))}function St({gen:Z,evaluated:Q,props:ie,items:Te}){ie instanceof j.Name&&Z.assign((0,j._)`${Q}.props`,ie),Te instanceof j.Name&&Z.assign((0,j._)`${Q}.items`,Te)}function qt(Z,Q,ie,Te){const{gen:Xe,schema:ct,data:Mt,allErrors:Qt,opts:Yt,self:zt}=Z,{RULES:Xt}=zt;if(ct.$ref&&(Yt.ignoreKeywordsWithRef||!(0,z.schemaHasRulesButRef)(ct,Xt))){Xe.block(()=>Vt(Z,"$ref",Xt.all.$ref.definition));return}Yt.jtd||wt(Z,Q),Xe.block(()=>{for(const Ct of Xt.rules)ot(Ct);ot(Xt.post)});function ot(Ct){(0,R.shouldUseGroup)(ct,Ct)&&(Ct.type?(Xe.if((0,O.checkDataType)(Ct.type,Mt,Yt.strictNumbers)),dt(Z,Ct),Q.length===1&&Q[0]===Ct.type&&ie&&(Xe.else(),(0,O.reportTypeError)(Z)),Xe.endIf()):dt(Z,Ct),Qt||Xe.if((0,j._)`${I.default.errors} === ${Te||0}`))}}function dt(Z,Q){const{gen:ie,schema:Te,opts:{useDefaults:Xe}}=Z;Xe&&(0,_.assignDefaults)(Z,Q.type),ie.block(()=>{for(const ct of Q.rules)(0,R.shouldUseRule)(Te,ct)&&Vt(Z,ct.keyword,ct.definition,Q.type)})}function wt(Z,Q){Z.schemaEnv.meta||!Z.opts.strictTypes||(rt(Z,Q),Z.opts.allowUnionTypes||Ze(Z,Q),yt(Z,Z.dataTypes))}function rt(Z,Q){if(Q.length){if(!Z.dataTypes.length){Z.dataTypes=Q;return}Q.forEach(ie=>{ge(Z.dataTypes,ie)||mt(Z,`type "${ie}" not allowed by context "${Z.dataTypes.join(",")}"`)}),$e(Z,Q)}}function Ze(Z,Q){Q.length>1&&!(Q.length===2&&Q.includes("null"))&&mt(Z,"use allowUnionTypes to allow union type keyword")}function yt(Z,Q){const ie=Z.self.RULES.all;for(const Te in ie){const Xe=ie[Te];if(typeof Xe=="object"&&(0,R.shouldUseRule)(Z.schema,Xe)){const{type:ct}=Xe.definition;ct.length&&!ct.some(Mt=>tt(Q,Mt))&&mt(Z,`missing type "${ct.join(",")}" for keyword "${Te}"`)}}}function tt(Z,Q){return Z.includes(Q)||Q==="number"&&Z.includes("integer")}function ge(Z,Q){return Z.includes(Q)||Q==="integer"&&Z.includes("number")}function $e(Z,Q){const ie=[];for(const Te of Z.dataTypes)ge(Q,Te)?ie.push(Te):Q.includes("integer")&&Te==="number"&&ie.push("integer");Z.dataTypes=ie}function mt(Z,Q){const ie=Z.schemaEnv.baseId+Z.errSchemaPath;Q+=` at "${ie}" (strictTypes)`,(0,z.checkStrictMode)(Z,Q,Z.opts.strictTypes)}class _t{constructor(Q,ie,Te){if((0,D.validateKeywordUsage)(Q,ie,Te),this.gen=Q.gen,this.allErrors=Q.allErrors,this.keyword=Te,this.data=Q.data,this.schema=Q.schema[Te],this.$data=ie.$data&&Q.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,z.schemaRefOrVal)(Q,this.schema,Te,this.$data),this.schemaType=ie.schemaType,this.parentSchema=Q.schema,this.params={},this.it=Q,this.def=ie,this.$data)this.schemaCode=Q.gen.const("vSchema",K(this.$data,Q));else if(this.schemaCode=this.schemaValue,!(0,D.validSchemaType)(this.schema,ie.schemaType,ie.allowUndefined))throw new Error(`${Te} value must be ${JSON.stringify(ie.schemaType)}`);("code"in ie?ie.trackErrors:ie.errors!==!1)&&(this.errsCount=Q.gen.const("_errs",I.default.errors))}result(Q,ie,Te){this.failResult((0,j.not)(Q),ie,Te)}failResult(Q,ie,Te){this.gen.if(Q),Te?Te():this.error(),ie?(this.gen.else(),ie(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(Q,ie){this.failResult((0,j.not)(Q),void 0,ie)}fail(Q){if(Q===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(Q),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(Q){if(!this.$data)return this.fail(Q);const{schemaCode:ie}=this;this.fail((0,j._)`${ie} !== undefined && (${(0,j.or)(this.invalid$data(),Q)})`)}error(Q,ie,Te){if(ie){this.setParams(ie),this._error(Q,Te),this.setParams({});return}this._error(Q,Te)}_error(Q,ie){(Q?re.reportExtraError:re.reportError)(this,this.def.error,ie)}$dataError(){(0,re.reportError)(this,this.def.$dataError||re.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,re.resetErrorsCount)(this.gen,this.errsCount)}ok(Q){this.allErrors||this.gen.if(Q)}setParams(Q,ie){ie?Object.assign(this.params,Q):this.params=Q}block$data(Q,ie,Te=j.nil){this.gen.block(()=>{this.check$data(Q,Te),ie()})}check$data(Q=j.nil,ie=j.nil){if(!this.$data)return;const{gen:Te,schemaCode:Xe,schemaType:ct,def:Mt}=this;Te.if((0,j.or)((0,j._)`${Xe} === undefined`,ie)),Q!==j.nil&&Te.assign(Q,!0),(ct.length||Mt.validateSchema)&&(Te.elseIf(this.invalid$data()),this.$dataError(),Q!==j.nil&&Te.assign(Q,!1)),Te.else()}invalid$data(){const{gen:Q,schemaCode:ie,schemaType:Te,def:Xe,it:ct}=this;return(0,j.or)(Mt(),Qt());function Mt(){if(Te.length){if(!(ie instanceof j.Name))throw new Error("ajv implementation error");const Yt=Array.isArray(Te)?Te:[Te];return(0,j._)`${(0,O.checkDataTypes)(Yt,ie,ct.opts.strictNumbers,O.DataType.Wrong)}`}return j.nil}function Qt(){if(Xe.validateSchema){const Yt=Q.scopeValue("validate$data",{ref:Xe.validateSchema});return(0,j._)`!${Yt}(${ie})`}return j.nil}}subschema(Q,ie){const Te=(0,N.getSubschema)(this.it,Q);(0,N.extendSubschemaData)(Te,this.it,Q),(0,N.extendSubschemaMode)(Te,Q);const Xe={...this.it,...Te,items:void 0,props:void 0};return se(Xe,ie),Xe}mergeEvaluated(Q,ie){const{it:Te,gen:Xe}=this;Te.opts.unevaluated&&(Te.props!==!0&&Q.props!==void 0&&(Te.props=z.mergeEvaluated.props(Xe,Q.props,Te.props,ie)),Te.items!==!0&&Q.items!==void 0&&(Te.items=z.mergeEvaluated.items(Xe,Q.items,Te.items,ie)))}mergeValidEvaluated(Q,ie){const{it:Te,gen:Xe}=this;if(Te.opts.unevaluated&&(Te.props!==!0||Te.items!==!0))return Xe.if(ie,()=>this.mergeEvaluated(Q,j.Name)),!0}}w.KeywordCxt=_t;function Vt(Z,Q,ie,Te){const Xe=new _t(Z,ie,Q);"code"in ie?ie.code(Xe,Te):Xe.$data&&ie.validate?(0,D.funcKeywordCode)(Xe,ie):"macro"in ie?(0,D.macroKeywordCode)(Xe,ie):(ie.compile||ie.validate)&&(0,D.funcKeywordCode)(Xe,ie)}const Cr=/^\/(?:[^~]|~0|~1)*$/,Ve=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function K(Z,{dataLevel:Q,dataNames:ie,dataPathArr:Te}){let Xe,ct;if(Z==="")return I.default.rootData;if(Z[0]==="/"){if(!Cr.test(Z))throw new Error(`Invalid JSON-pointer: ${Z}`);Xe=Z,ct=I.default.rootData}else{const zt=Ve.exec(Z);if(!zt)throw new Error(`Invalid JSON-pointer: ${Z}`);const Xt=+zt[1];if(Xe=zt[2],Xe==="#"){if(Xt>=Q)throw new Error(Yt("property/index",Xt));return Te[Q-Xt]}if(Xt>Q)throw new Error(Yt("data",Xt));if(ct=ie[Q-Xt],!Xe)return ct}let Mt=ct;const Qt=Xe.split("/");for(const zt of Qt)zt&&(ct=(0,j._)`${ct}${(0,j.getProperty)((0,z.unescapeJsonPointer)(zt))}`,Mt=(0,j._)`${Mt} && ${ct}`);return Mt;function Yt(zt,Xt){return`Cannot access ${zt} ${Xt} levels up, current level is ${Q}`}}w.getData=K},87896:function(Le,w,u){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.validateKeywordUsage=w.validSchemaType=w.funcKeywordCode=w.macroKeywordCode=void 0;const s=u(45117),p=u(93239),R=u(13898),O=u(19606);function _(ne,ae){const{gen:ve,keyword:M,schema:H,parentSchema:ue,it:X}=ne,se=ae.macro.call(X.self,H,ue,X),fe=G(ve,M,se);X.opts.validateSchema!==!1&&X.self.validateSchema(se,!0);const ee=ve.name("valid");ne.subschema({schema:se,schemaPath:s.nil,errSchemaPath:`${X.errSchemaPath}/${M}`,topSchemaRef:fe,compositeRule:!0},ee),ne.pass(ee,()=>ne.error(!0))}w.macroKeywordCode=_;function D(ne,ae){var ve;const{gen:M,keyword:H,schema:ue,parentSchema:X,$data:se,it:fe}=ne;I(fe,ae);const ee=!se&&ae.compile?ae.compile.call(fe.self,ue,X,fe):ae.validate,$=G(M,H,ee),Se=M.let("valid");ne.block$data(Se,Ie),ne.ok((ve=ae.valid)!==null&&ve!==void 0?ve:Se);function Ie(){if(ae.errors===!1)Ge(),ae.modifying&&N(ne),lt(()=>ne.error());else{const Qe=ae.async?Oe():We();ae.modifying&&N(ne),lt(()=>j(ne,Qe))}}function Oe(){const Qe=M.let("ruleErrs",null);return M.try(()=>Ge((0,s._)`await `),He=>M.assign(Se,!1).if((0,s._)`${He} instanceof ${fe.ValidationError}`,()=>M.assign(Qe,(0,s._)`${He}.errors`),()=>M.throw(He))),Qe}function We(){const Qe=(0,s._)`${$}.errors`;return M.assign(Qe,null),Ge(s.nil),Qe}function Ge(Qe=ae.async?(0,s._)`await `:s.nil){const He=fe.opts.passContext?p.default.this:p.default.self,St=!("compile"in ae&&!se||ae.schema===!1);M.assign(Se,(0,s._)`${Qe}${(0,R.callValidateCode)(ne,$,He,St)}`,ae.modifying)}function lt(Qe){var He;M.if((0,s.not)((He=ae.valid)!==null&&He!==void 0?He:Se),Qe)}}w.funcKeywordCode=D;function N(ne){const{gen:ae,data:ve,it:M}=ne;ae.if(M.parentData,()=>ae.assign(ve,(0,s._)`${M.parentData}[${M.parentDataProperty}]`))}function j(ne,ae){const{gen:ve}=ne;ve.if((0,s._)`Array.isArray(${ae})`,()=>{ve.assign(p.default.vErrors,(0,s._)`${p.default.vErrors} === null ? ${ae} : ${p.default.vErrors}.concat(${ae})`).assign(p.default.errors,(0,s._)`${p.default.vErrors}.length`),(0,O.extendErrors)(ne)},()=>ne.error())}function I({schemaEnv:ne},ae){if(ae.async&&!ne.$async)throw new Error("async keyword in sync schema")}function G(ne,ae,ve){if(ve===void 0)throw new Error(`keyword "${ae}" failed to compile`);return ne.scopeValue("keyword",typeof ve=="function"?{ref:ve}:{ref:ve,code:(0,s.stringify)(ve)})}function z(ne,ae,ve=!1){return!ae.length||ae.some(M=>M==="array"?Array.isArray(ne):M==="object"?ne&&typeof ne=="object"&&!Array.isArray(ne):typeof ne==M||ve&&typeof ne=="undefined")}w.validSchemaType=z;function re({schema:ne,opts:ae,self:ve,errSchemaPath:M},H,ue){if(Array.isArray(H.keyword)?!H.keyword.includes(ue):H.keyword!==ue)throw new Error("ajv implementation error");const X=H.dependencies;if(X!=null&&X.some(se=>!Object.prototype.hasOwnProperty.call(ne,se)))throw new Error(`parent schema must have dependencies of ${ue}: ${X.join(",")}`);if(H.validateSchema&&!H.validateSchema(ne[ue])){const fe=`keyword "${ue}" value is invalid at path "${M}": `+ve.errorsText(H.validateSchema.errors);if(ae.validateSchema==="log")ve.logger.error(fe);else throw new Error(fe)}}w.validateKeywordUsage=re},94929:function(Le,w,u){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.extendSubschemaMode=w.extendSubschemaData=w.getSubschema=void 0;const s=u(45117),p=u(79812);function R(D,{keyword:N,schemaProp:j,schema:I,schemaPath:G,errSchemaPath:z,topSchemaRef:re}){if(N!==void 0&&I!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(N!==void 0){const ne=D.schema[N];return j===void 0?{schema:ne,schemaPath:(0,s._)`${D.schemaPath}${(0,s.getProperty)(N)}`,errSchemaPath:`${D.errSchemaPath}/${N}`}:{schema:ne[j],schemaPath:(0,s._)`${D.schemaPath}${(0,s.getProperty)(N)}${(0,s.getProperty)(j)}`,errSchemaPath:`${D.errSchemaPath}/${N}/${(0,p.escapeFragment)(j)}`}}if(I!==void 0){if(G===void 0||z===void 0||re===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:I,schemaPath:G,topSchemaRef:re,errSchemaPath:z}}throw new Error('either "keyword" or "schema" must be passed')}w.getSubschema=R;function O(D,N,{dataProp:j,dataPropType:I,data:G,dataTypes:z,propertyName:re}){if(G!==void 0&&j!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:ne}=N;if(j!==void 0){const{errorPath:ve,dataPathArr:M,opts:H}=N,ue=ne.let("data",(0,s._)`${N.data}${(0,s.getProperty)(j)}`,!0);ae(ue),D.errorPath=(0,s.str)`${ve}${(0,p.getErrorPath)(j,I,H.jsPropertySyntax)}`,D.parentDataProperty=(0,s._)`${j}`,D.dataPathArr=[...M,D.parentDataProperty]}if(G!==void 0){const ve=G instanceof s.Name?G:ne.let("data",G,!0);ae(ve),re!==void 0&&(D.propertyName=re)}z&&(D.dataTypes=z);function ae(ve){D.data=ve,D.dataLevel=N.dataLevel+1,D.dataTypes=[],N.definedProperties=new Set,D.parentData=N.data,D.dataNames=[...N.dataNames,ve]}}w.extendSubschemaData=O;function _(D,{jtdDiscriminator:N,jtdMetadata:j,compositeRule:I,createErrors:G,allErrors:z}){I!==void 0&&(D.compositeRule=I),G!==void 0&&(D.createErrors=G),z!==void 0&&(D.allErrors=z),D.jtdDiscriminator=N,D.jtdMetadata=j}w.extendSubschemaMode=_},29414:function(Le,w,u){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.CodeGen=w.Name=w.nil=w.stringify=w.str=w._=w.KeywordCxt=void 0;var s=u(53970);Object.defineProperty(w,"KeywordCxt",{enumerable:!0,get:function(){return s.KeywordCxt}});var p=u(45117);Object.defineProperty(w,"_",{enumerable:!0,get:function(){return p._}}),Object.defineProperty(w,"str",{enumerable:!0,get:function(){return p.str}}),Object.defineProperty(w,"stringify",{enumerable:!0,get:function(){return p.stringify}}),Object.defineProperty(w,"nil",{enumerable:!0,get:function(){return p.nil}}),Object.defineProperty(w,"Name",{enumerable:!0,get:function(){return p.Name}}),Object.defineProperty(w,"CodeGen",{enumerable:!0,get:function(){return p.CodeGen}});const R=u(65282),O=u(97566),_=u(60968),D=u(19984),N=u(45117),j=u(40071),I=u(51549),G=u(79812),z=u(75758),re=u(36651),ne=(rt,Ze)=>new RegExp(rt,Ze);ne.code="new RegExp";const ae=["removeAdditional","useDefaults","coerceTypes"],ve=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),M={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},H={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},ue=200;function X(rt){var Ze,yt,tt,ge,$e,mt,_t,Vt,Cr,Ve,K,Z,Q,ie,Te,Xe,ct,Mt,Qt,Yt,zt,Xt,ot,Ct,Nt;const fr=rt.strict,Or=(Ze=rt.code)===null||Ze===void 0?void 0:Ze.optimize,xr=Or===!0||Or===void 0?1:Or||0,ar=(tt=(yt=rt.code)===null||yt===void 0?void 0:yt.regExp)!==null&&tt!==void 0?tt:ne,Ft=(ge=rt.uriResolver)!==null&&ge!==void 0?ge:re.default;return{strictSchema:(mt=($e=rt.strictSchema)!==null&&$e!==void 0?$e:fr)!==null&&mt!==void 0?mt:!0,strictNumbers:(Vt=(_t=rt.strictNumbers)!==null&&_t!==void 0?_t:fr)!==null&&Vt!==void 0?Vt:!0,strictTypes:(Ve=(Cr=rt.strictTypes)!==null&&Cr!==void 0?Cr:fr)!==null&&Ve!==void 0?Ve:"log",strictTuples:(Z=(K=rt.strictTuples)!==null&&K!==void 0?K:fr)!==null&&Z!==void 0?Z:"log",strictRequired:(ie=(Q=rt.strictRequired)!==null&&Q!==void 0?Q:fr)!==null&&ie!==void 0?ie:!1,code:rt.code?{...rt.code,optimize:xr,regExp:ar}:{optimize:xr,regExp:ar},loopRequired:(Te=rt.loopRequired)!==null&&Te!==void 0?Te:ue,loopEnum:(Xe=rt.loopEnum)!==null&&Xe!==void 0?Xe:ue,meta:(ct=rt.meta)!==null&&ct!==void 0?ct:!0,messages:(Mt=rt.messages)!==null&&Mt!==void 0?Mt:!0,inlineRefs:(Qt=rt.inlineRefs)!==null&&Qt!==void 0?Qt:!0,schemaId:(Yt=rt.schemaId)!==null&&Yt!==void 0?Yt:"$id",addUsedSchema:(zt=rt.addUsedSchema)!==null&&zt!==void 0?zt:!0,validateSchema:(Xt=rt.validateSchema)!==null&&Xt!==void 0?Xt:!0,validateFormats:(ot=rt.validateFormats)!==null&&ot!==void 0?ot:!0,unicodeRegExp:(Ct=rt.unicodeRegExp)!==null&&Ct!==void 0?Ct:!0,int32range:(Nt=rt.int32range)!==null&&Nt!==void 0?Nt:!0,uriResolver:Ft}}class se{constructor(Ze={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,Ze=this.opts={...Ze,...X(Ze)};const{es5:yt,lines:tt}=this.opts.code;this.scope=new N.ValueScope({scope:{},prefixes:ve,es5:yt,lines:tt}),this.logger=Ge(Ze.logger);const ge=Ze.validateFormats;Ze.validateFormats=!1,this.RULES=(0,_.getRules)(),fe.call(this,M,Ze,"NOT SUPPORTED"),fe.call(this,H,Ze,"DEPRECATED","warn"),this._metaOpts=Oe.call(this),Ze.formats&&Se.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),Ze.keywords&&Ie.call(this,Ze.keywords),typeof Ze.meta=="object"&&this.addMetaSchema(Ze.meta),$.call(this),Ze.validateFormats=ge}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:Ze,meta:yt,schemaId:tt}=this.opts;let ge=z;tt==="id"&&(ge={...z},ge.id=ge.$id,delete ge.$id),yt&&Ze&&this.addMetaSchema(ge,ge[tt],!1)}defaultMeta(){const{meta:Ze,schemaId:yt}=this.opts;return this.opts.defaultMeta=typeof Ze=="object"?Ze[yt]||Ze:void 0}validate(Ze,yt){let tt;if(typeof Ze=="string"){if(tt=this.getSchema(Ze),!tt)throw new Error(`no schema with key or ref "${Ze}"`)}else tt=this.compile(Ze);const ge=tt(yt);return"$async"in tt||(this.errors=tt.errors),ge}compile(Ze,yt){const tt=this._addSchema(Ze,yt);return tt.validate||this._compileSchemaEnv(tt)}compileAsync(Ze,yt){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:tt}=this.opts;return ge.call(this,Ze,yt);async function ge(Ve,K){await $e.call(this,Ve.$schema);const Z=this._addSchema(Ve,K);return Z.validate||mt.call(this,Z)}async function $e(Ve){Ve&&!this.getSchema(Ve)&&await ge.call(this,{$ref:Ve},!0)}async function mt(Ve){try{return this._compileSchemaEnv(Ve)}catch(K){if(!(K instanceof O.default))throw K;return _t.call(this,K),await Vt.call(this,K.missingSchema),mt.call(this,Ve)}}function _t({missingSchema:Ve,missingRef:K}){if(this.refs[Ve])throw new Error(`AnySchema ${Ve} is loaded but ${K} cannot be resolved`)}async function Vt(Ve){const K=await Cr.call(this,Ve);this.refs[Ve]||await $e.call(this,K.$schema),this.refs[Ve]||this.addSchema(K,Ve,yt)}async function Cr(Ve){const K=this._loading[Ve];if(K)return K;try{return await(this._loading[Ve]=tt(Ve))}finally{delete this._loading[Ve]}}}addSchema(Ze,yt,tt,ge=this.opts.validateSchema){if(Array.isArray(Ze)){for(const mt of Ze)this.addSchema(mt,void 0,tt,ge);return this}let $e;if(typeof Ze=="object"){const{schemaId:mt}=this.opts;if($e=Ze[mt],$e!==void 0&&typeof $e!="string")throw new Error(`schema ${mt} must be string`)}return yt=(0,j.normalizeId)(yt||$e),this._checkUnique(yt),this.schemas[yt]=this._addSchema(Ze,tt,yt,ge,!0),this}addMetaSchema(Ze,yt,tt=this.opts.validateSchema){return this.addSchema(Ze,yt,!0,tt),this}validateSchema(Ze,yt){if(typeof Ze=="boolean")return!0;let tt;if(tt=Ze.$schema,tt!==void 0&&typeof tt!="string")throw new Error("$schema must be a string");if(tt=tt||this.opts.defaultMeta||this.defaultMeta(),!tt)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const ge=this.validate(tt,Ze);if(!ge&&yt){const $e="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error($e);else throw new Error($e)}return ge}getSchema(Ze){let yt;for(;typeof(yt=ee.call(this,Ze))=="string";)Ze=yt;if(yt===void 0){const{schemaId:tt}=this.opts,ge=new D.SchemaEnv({schema:{},schemaId:tt});if(yt=D.resolveSchema.call(this,ge,Ze),!yt)return;this.refs[Ze]=yt}return yt.validate||this._compileSchemaEnv(yt)}removeSchema(Ze){if(Ze instanceof RegExp)return this._removeAllSchemas(this.schemas,Ze),this._removeAllSchemas(this.refs,Ze),this;switch(typeof Ze){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const yt=ee.call(this,Ze);return typeof yt=="object"&&this._cache.delete(yt.schema),delete this.schemas[Ze],delete this.refs[Ze],this}case"object":{const yt=Ze;this._cache.delete(yt);let tt=Ze[this.opts.schemaId];return tt&&(tt=(0,j.normalizeId)(tt),delete this.schemas[tt],delete this.refs[tt]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(Ze){for(const yt of Ze)this.addKeyword(yt);return this}addKeyword(Ze,yt){let tt;if(typeof Ze=="string")tt=Ze,typeof yt=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),yt.keyword=tt);else if(typeof Ze=="object"&&yt===void 0){if(yt=Ze,tt=yt.keyword,Array.isArray(tt)&&!tt.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(Qe.call(this,tt,yt),!yt)return(0,G.eachItem)(tt,$e=>He.call(this,$e)),this;qt.call(this,yt);const ge={...yt,type:(0,I.getJSONTypes)(yt.type),schemaType:(0,I.getJSONTypes)(yt.schemaType)};return(0,G.eachItem)(tt,ge.type.length===0?$e=>He.call(this,$e,ge):$e=>ge.type.forEach(mt=>He.call(this,$e,ge,mt))),this}getKeyword(Ze){const yt=this.RULES.all[Ze];return typeof yt=="object"?yt.definition:!!yt}removeKeyword(Ze){const{RULES:yt}=this;delete yt.keywords[Ze],delete yt.all[Ze];for(const tt of yt.rules){const ge=tt.rules.findIndex($e=>$e.keyword===Ze);ge>=0&&tt.rules.splice(ge,1)}return this}addFormat(Ze,yt){return typeof yt=="string"&&(yt=new RegExp(yt)),this.formats[Ze]=yt,this}errorsText(Ze=this.errors,{separator:yt=", ",dataVar:tt="data"}={}){return!Ze||Ze.length===0?"No errors":Ze.map(ge=>`${tt}${ge.instancePath} ${ge.message}`).reduce((ge,$e)=>ge+yt+$e)}$dataMetaSchema(Ze,yt){const tt=this.RULES.all;Ze=JSON.parse(JSON.stringify(Ze));for(const ge of yt){const $e=ge.split("/").slice(1);let mt=Ze;for(const _t of $e)mt=mt[_t];for(const _t in tt){const Vt=tt[_t];if(typeof Vt!="object")continue;const{$data:Cr}=Vt.definition,Ve=mt[_t];Cr&&Ve&&(mt[_t]=wt(Ve))}}return Ze}_removeAllSchemas(Ze,yt){for(const tt in Ze){const ge=Ze[tt];(!yt||yt.test(tt))&&(typeof ge=="string"?delete Ze[tt]:ge&&!ge.meta&&(this._cache.delete(ge.schema),delete Ze[tt]))}}_addSchema(Ze,yt,tt,ge=this.opts.validateSchema,$e=this.opts.addUsedSchema){let mt;const{schemaId:_t}=this.opts;if(typeof Ze=="object")mt=Ze[_t];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof Ze!="boolean")throw new Error("schema must be object or boolean")}let Vt=this._cache.get(Ze);if(Vt!==void 0)return Vt;tt=(0,j.normalizeId)(mt||tt);const Cr=j.getSchemaRefs.call(this,Ze,tt);return Vt=new D.SchemaEnv({schema:Ze,schemaId:_t,meta:yt,baseId:tt,localRefs:Cr}),this._cache.set(Vt.schema,Vt),$e&&!tt.startsWith("#")&&(tt&&this._checkUnique(tt),this.refs[tt]=Vt),ge&&this.validateSchema(Ze,!0),Vt}_checkUnique(Ze){if(this.schemas[Ze]||this.refs[Ze])throw new Error(`schema with key or id "${Ze}" already exists`)}_compileSchemaEnv(Ze){if(Ze.meta?this._compileMetaSchema(Ze):D.compileSchema.call(this,Ze),!Ze.validate)throw new Error("ajv implementation error");return Ze.validate}_compileMetaSchema(Ze){const yt=this.opts;this.opts=this._metaOpts;try{D.compileSchema.call(this,Ze)}finally{this.opts=yt}}}w.default=se,se.ValidationError=R.default,se.MissingRefError=O.default;function fe(rt,Ze,yt,tt="error"){for(const ge in rt){const $e=ge;$e in Ze&&this.logger[tt](`${yt}: option ${ge}. ${rt[$e]}`)}}function ee(rt){return rt=(0,j.normalizeId)(rt),this.schemas[rt]||this.refs[rt]}function $(){const rt=this.opts.schemas;if(rt)if(Array.isArray(rt))this.addSchema(rt);else for(const Ze in rt)this.addSchema(rt[Ze],Ze)}function Se(){for(const rt in this.opts.formats){const Ze=this.opts.formats[rt];Ze&&this.addFormat(rt,Ze)}}function Ie(rt){if(Array.isArray(rt)){this.addVocabulary(rt);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const Ze in rt){const yt=rt[Ze];yt.keyword||(yt.keyword=Ze),this.addKeyword(yt)}}function Oe(){const rt={...this.opts};for(const Ze of ae)delete rt[Ze];return rt}const We={log(){},warn(){},error(){}};function Ge(rt){if(rt===!1)return We;if(rt===void 0)return console;if(rt.log&&rt.warn&&rt.error)return rt;throw new Error("logger must implement log, warn and error methods")}const lt=/^[a-z_$][a-z0-9_$:-]*$/i;function Qe(rt,Ze){const{RULES:yt}=this;if((0,G.eachItem)(rt,tt=>{if(yt.keywords[tt])throw new Error(`Keyword ${tt} is already defined`);if(!lt.test(tt))throw new Error(`Keyword ${tt} has invalid name`)}),!!Ze&&Ze.$data&&!("code"in Ze||"validate"in Ze))throw new Error('$data keyword must have "code" or "validate" function')}function He(rt,Ze,yt){var tt;const ge=Ze==null?void 0:Ze.post;if(yt&&ge)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:$e}=this;let mt=ge?$e.post:$e.rules.find(({type:Vt})=>Vt===yt);if(mt||(mt={type:yt,rules:[]},$e.rules.push(mt)),$e.keywords[rt]=!0,!Ze)return;const _t={keyword:rt,definition:{...Ze,type:(0,I.getJSONTypes)(Ze.type),schemaType:(0,I.getJSONTypes)(Ze.schemaType)}};Ze.before?St.call(this,mt,_t,Ze.before):mt.rules.push(_t),$e.all[rt]=_t,(tt=Ze.implements)===null||tt===void 0||tt.forEach(Vt=>this.addKeyword(Vt))}function St(rt,Ze,yt){const tt=rt.rules.findIndex(ge=>ge.keyword===yt);tt>=0?rt.rules.splice(tt,0,Ze):(rt.rules.push(Ze),this.logger.warn(`rule ${yt} is not defined`))}function qt(rt){let{metaSchema:Ze}=rt;Ze!==void 0&&(rt.$data&&this.opts.$data&&(Ze=wt(Ze)),rt.validateSchema=this.compile(Ze,!0))}const dt={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function wt(rt){return{anyOf:[rt,dt]}}},64629:function(Le,w,u){"use strict";Object.defineProperty(w,"__esModule",{value:!0});const s=u(69378);s.code='require("ajv/dist/runtime/equal").default',w.default=s},72496:function(Le,w){"use strict";Object.defineProperty(w,"__esModule",{value:!0});function u(s){const p=s.length;let R=0,O=0,_;for(;O<p;)R++,_=s.charCodeAt(O++),_>=55296&&_<=56319&&O<p&&(_=s.charCodeAt(O),(_&64512)===56320&&O++);return R}w.default=u,u.code='require("ajv/dist/runtime/ucs2length").default'},36651:function(Le,w,u){"use strict";Object.defineProperty(w,"__esModule",{value:!0});const s=u(12854);s.code='require("ajv/dist/runtime/uri").default',w.default=s},65282:function(Le,w){"use strict";Object.defineProperty(w,"__esModule",{value:!0});class u extends Error{constructor(p){super("validation failed"),this.errors=p,this.ajv=this.validation=!0}}w.default=u},80663:function(Le,w,u){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.validateAdditionalItems=void 0;const s=u(45117),p=u(79812),O={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:D}})=>(0,s.str)`must NOT have more than ${D} items`,params:({params:{len:D}})=>(0,s._)`{limit: ${D}}`},code(D){const{parentSchema:N,it:j}=D,{items:I}=N;if(!Array.isArray(I)){(0,p.checkStrictMode)(j,'"additionalItems" is ignored when "items" is not an array of schemas');return}_(D,I)}};function _(D,N){const{gen:j,schema:I,data:G,keyword:z,it:re}=D;re.items=!0;const ne=j.const("len",(0,s._)`${G}.length`);if(I===!1)D.setParams({len:N.length}),D.pass((0,s._)`${ne} <= ${N.length}`);else if(typeof I=="object"&&!(0,p.alwaysValidSchema)(re,I)){const ve=j.var("valid",(0,s._)`${ne} <= ${N.length}`);j.if((0,s.not)(ve),()=>ae(ve)),D.ok(ve)}function ae(ve){j.forRange("i",N.length,ne,M=>{D.subschema({keyword:z,dataProp:M,dataPropType:p.Type.Num},ve),re.allErrors||j.if((0,s.not)(ve),()=>j.break())})}}w.validateAdditionalItems=_,w.default=O},67106:function(Le,w,u){"use strict";Object.defineProperty(w,"__esModule",{value:!0});const s=u(13898),p=u(45117),R=u(93239),O=u(79812),D={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:N})=>(0,p._)`{additionalProperty: ${N.additionalProperty}}`},code(N){const{gen:j,schema:I,parentSchema:G,data:z,errsCount:re,it:ne}=N;if(!re)throw new Error("ajv implementation error");const{allErrors:ae,opts:ve}=ne;if(ne.props=!0,ve.removeAdditional!=="all"&&(0,O.alwaysValidSchema)(ne,I))return;const M=(0,s.allSchemaProperties)(G.properties),H=(0,s.allSchemaProperties)(G.patternProperties);ue(),N.ok((0,p._)`${re} === ${R.default.errors}`);function ue(){j.forIn("key",z,$=>{!M.length&&!H.length?fe($):j.if(X($),()=>fe($))})}function X($){let Se;if(M.length>8){const Ie=(0,O.schemaRefOrVal)(ne,G.properties,"properties");Se=(0,s.isOwnProperty)(j,Ie,$)}else M.length?Se=(0,p.or)(...M.map(Ie=>(0,p._)`${$} === ${Ie}`)):Se=p.nil;return H.length&&(Se=(0,p.or)(Se,...H.map(Ie=>(0,p._)`${(0,s.usePattern)(N,Ie)}.test(${$})`))),(0,p.not)(Se)}function se($){j.code((0,p._)`delete ${z}[${$}]`)}function fe($){if(ve.removeAdditional==="all"||ve.removeAdditional&&I===!1){se($);return}if(I===!1){N.setParams({additionalProperty:$}),N.error(),ae||j.break();return}if(typeof I=="object"&&!(0,O.alwaysValidSchema)(ne,I)){const Se=j.name("valid");ve.removeAdditional==="failing"?(ee($,Se,!1),j.if((0,p.not)(Se),()=>{N.reset(),se($)})):(ee($,Se),ae||j.if((0,p.not)(Se),()=>j.break()))}}function ee($,Se,Ie){const Oe={keyword:"additionalProperties",dataProp:$,dataPropType:O.Type.Str};Ie===!1&&Object.assign(Oe,{compositeRule:!0,createErrors:!1,allErrors:!1}),N.subschema(Oe,Se)}}};w.default=D},2973:function(Le,w,u){"use strict";Object.defineProperty(w,"__esModule",{value:!0});const s=u(79812),p={keyword:"allOf",schemaType:"array",code(R){const{gen:O,schema:_,it:D}=R;if(!Array.isArray(_))throw new Error("ajv implementation error");const N=O.name("valid");_.forEach((j,I)=>{if((0,s.alwaysValidSchema)(D,j))return;const G=R.subschema({keyword:"allOf",schemaProp:I},N);R.ok(N),R.mergeEvaluated(G)})}};w.default=p},3067:function(Le,w,u){"use strict";Object.defineProperty(w,"__esModule",{value:!0});const p={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:u(13898).validateUnion,error:{message:"must match a schema in anyOf"}};w.default=p},53608:function(Le,w,u){"use strict";Object.defineProperty(w,"__esModule",{value:!0});const s=u(45117),p=u(79812),O={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:_,max:D}})=>D===void 0?(0,s.str)`must contain at least ${_} valid item(s)`:(0,s.str)`must contain at least ${_} and no more than ${D} valid item(s)`,params:({params:{min:_,max:D}})=>D===void 0?(0,s._)`{minContains: ${_}}`:(0,s._)`{minContains: ${_}, maxContains: ${D}}`},code(_){const{gen:D,schema:N,parentSchema:j,data:I,it:G}=_;let z,re;const{minContains:ne,maxContains:ae}=j;G.opts.next?(z=ne===void 0?1:ne,re=ae):z=1;const ve=D.const("len",(0,s._)`${I}.length`);if(_.setParams({min:z,max:re}),re===void 0&&z===0){(0,p.checkStrictMode)(G,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(re!==void 0&&z>re){(0,p.checkStrictMode)(G,'"minContains" > "maxContains" is always invalid'),_.fail();return}if((0,p.alwaysValidSchema)(G,N)){let se=(0,s._)`${ve} >= ${z}`;re!==void 0&&(se=(0,s._)`${se} && ${ve} <= ${re}`),_.pass(se);return}G.items=!0;const M=D.name("valid");re===void 0&&z===1?ue(M,()=>D.if(M,()=>D.break())):z===0?(D.let(M,!0),re!==void 0&&D.if((0,s._)`${I}.length > 0`,H)):(D.let(M,!1),H()),_.result(M,()=>_.reset());function H(){const se=D.name("_valid"),fe=D.let("count",0);ue(se,()=>D.if(se,()=>X(fe)))}function ue(se,fe){D.forRange("i",0,ve,ee=>{_.subschema({keyword:"contains",dataProp:ee,dataPropType:p.Type.Num,compositeRule:!0},se),fe()})}function X(se){D.code((0,s._)`${se}++`),re===void 0?D.if((0,s._)`${se} >= ${z}`,()=>D.assign(M,!0).break()):(D.if((0,s._)`${se} > ${re}`,()=>D.assign(M,!1).break()),z===1?D.assign(M,!0):D.if((0,s._)`${se} >= ${z}`,()=>D.assign(M,!0)))}}};w.default=O},96859:function(Le,w,u){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.validateSchemaDeps=w.validatePropertyDeps=w.error=void 0;const s=u(45117),p=u(79812),R=u(13898);w.error={message:({params:{property:j,depsCount:I,deps:G}})=>{const z=I===1?"property":"properties";return(0,s.str)`must have ${z} ${G} when property ${j} is present`},params:({params:{property:j,depsCount:I,deps:G,missingProperty:z}})=>(0,s._)`{property: ${j},
    missingProperty: ${z},
    depsCount: ${I},
    deps: ${G}}`};const O={keyword:"dependencies",type:"object",schemaType:"object",error:w.error,code(j){const[I,G]=_(j);D(j,I),N(j,G)}};function _({schema:j}){const I={},G={};for(const z in j){if(z==="__proto__")continue;const re=Array.isArray(j[z])?I:G;re[z]=j[z]}return[I,G]}function D(j,I=j.schema){const{gen:G,data:z,it:re}=j;if(Object.keys(I).length===0)return;const ne=G.let("missing");for(const ae in I){const ve=I[ae];if(ve.length===0)continue;const M=(0,R.propertyInData)(G,z,ae,re.opts.ownProperties);j.setParams({property:ae,depsCount:ve.length,deps:ve.join(", ")}),re.allErrors?G.if(M,()=>{for(const H of ve)(0,R.checkReportMissingProp)(j,H)}):(G.if((0,s._)`${M} && (${(0,R.checkMissingProp)(j,ve,ne)})`),(0,R.reportMissingProp)(j,ne),G.else())}}w.validatePropertyDeps=D;function N(j,I=j.schema){const{gen:G,data:z,keyword:re,it:ne}=j,ae=G.name("valid");for(const ve in I)(0,p.alwaysValidSchema)(ne,I[ve])||(G.if((0,R.propertyInData)(G,z,ve,ne.opts.ownProperties),()=>{const M=j.subschema({keyword:re,schemaProp:ve},ae);j.mergeValidEvaluated(M,ae)},()=>G.var(ae,!0)),j.ok(ae))}w.validateSchemaDeps=N,w.default=O},91569:function(Le,w,u){"use strict";Object.defineProperty(w,"__esModule",{value:!0});const s=u(45117),p=u(79812),O={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:D})=>(0,s.str)`must match "${D.ifClause}" schema`,params:({params:D})=>(0,s._)`{failingKeyword: ${D.ifClause}}`},code(D){const{gen:N,parentSchema:j,it:I}=D;j.then===void 0&&j.else===void 0&&(0,p.checkStrictMode)(I,'"if" without "then" and "else" is ignored');const G=_(I,"then"),z=_(I,"else");if(!G&&!z)return;const re=N.let("valid",!0),ne=N.name("_valid");if(ae(),D.reset(),G&&z){const M=N.let("ifClause");D.setParams({ifClause:M}),N.if(ne,ve("then",M),ve("else",M))}else G?N.if(ne,ve("then")):N.if((0,s.not)(ne),ve("else"));D.pass(re,()=>D.error(!0));function ae(){const M=D.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},ne);D.mergeEvaluated(M)}function ve(M,H){return()=>{const ue=D.subschema({keyword:M},ne);N.assign(re,ne),D.mergeValidEvaluated(ue,re),H?N.assign(H,(0,s._)`${M}`):D.setParams({ifClause:M})}}}};function _(D,N){const j=D.schema[N];return j!==void 0&&!(0,p.alwaysValidSchema)(D,j)}w.default=O},59708:function(Le,w,u){"use strict";Object.defineProperty(w,"__esModule",{value:!0});const s=u(80663),p=u(85490),R=u(22858),O=u(45610),_=u(53608),D=u(96859),N=u(17366),j=u(67106),I=u(34983),G=u(34783),z=u(63464),re=u(3067),ne=u(89338),ae=u(2973),ve=u(91569),M=u(7303);function H(ue=!1){const X=[z.default,re.default,ne.default,ae.default,ve.default,M.default,N.default,j.default,D.default,I.default,G.default];return ue?X.push(p.default,O.default):X.push(s.default,R.default),X.push(_.default),X}w.default=H},22858:function(Le,w,u){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.validateTuple=void 0;const s=u(45117),p=u(79812),R=u(13898),O={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(D){const{schema:N,it:j}=D;if(Array.isArray(N))return _(D,"additionalItems",N);j.items=!0,!(0,p.alwaysValidSchema)(j,N)&&D.ok((0,R.validateArray)(D))}};function _(D,N,j=D.schema){const{gen:I,parentSchema:G,data:z,keyword:re,it:ne}=D;M(G),ne.opts.unevaluated&&j.length&&ne.items!==!0&&(ne.items=p.mergeEvaluated.items(I,j.length,ne.items));const ae=I.name("valid"),ve=I.const("len",(0,s._)`${z}.length`);j.forEach((H,ue)=>{(0,p.alwaysValidSchema)(ne,H)||(I.if((0,s._)`${ve} > ${ue}`,()=>D.subschema({keyword:re,schemaProp:ue,dataProp:ue},ae)),D.ok(ae))});function M(H){const{opts:ue,errSchemaPath:X}=ne,se=j.length,fe=se===H.minItems&&(se===H.maxItems||H[N]===!1);if(ue.strictTuples&&!fe){const ee=`"${re}" is ${se}-tuple, but minItems or maxItems/${N} are not specified or different at path "${X}"`;(0,p.checkStrictMode)(ne,ee,ue.strictTuples)}}}w.validateTuple=_,w.default=O},45610:function(Le,w,u){"use strict";Object.defineProperty(w,"__esModule",{value:!0});const s=u(45117),p=u(79812),R=u(13898),O=u(80663),D={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:N}})=>(0,s.str)`must NOT have more than ${N} items`,params:({params:{len:N}})=>(0,s._)`{limit: ${N}}`},code(N){const{schema:j,parentSchema:I,it:G}=N,{prefixItems:z}=I;G.items=!0,!(0,p.alwaysValidSchema)(G,j)&&(z?(0,O.validateAdditionalItems)(N,z):N.ok((0,R.validateArray)(N)))}};w.default=D},63464:function(Le,w,u){"use strict";Object.defineProperty(w,"__esModule",{value:!0});const s=u(79812),p={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(R){const{gen:O,schema:_,it:D}=R;if((0,s.alwaysValidSchema)(D,_)){R.fail();return}const N=O.name("valid");R.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},N),R.failResult(N,()=>R.reset(),()=>R.error())},error:{message:"must NOT be valid"}};w.default=p},89338:function(Le,w,u){"use strict";Object.defineProperty(w,"__esModule",{value:!0});const s=u(45117),p=u(79812),O={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:_})=>(0,s._)`{passingSchemas: ${_.passing}}`},code(_){const{gen:D,schema:N,parentSchema:j,it:I}=_;if(!Array.isArray(N))throw new Error("ajv implementation error");if(I.opts.discriminator&&j.discriminator)return;const G=N,z=D.let("valid",!1),re=D.let("passing",null),ne=D.name("_valid");_.setParams({passing:re}),D.block(ae),_.result(z,()=>_.reset(),()=>_.error(!0));function ae(){G.forEach((ve,M)=>{let H;(0,p.alwaysValidSchema)(I,ve)?D.var(ne,!0):H=_.subschema({keyword:"oneOf",schemaProp:M,compositeRule:!0},ne),M>0&&D.if((0,s._)`${ne} && ${z}`).assign(z,!1).assign(re,(0,s._)`[${re}, ${M}]`).else(),D.if(ne,()=>{D.assign(z,!0),D.assign(re,M),H&&_.mergeEvaluated(H,s.Name)})})}}};w.default=O},34783:function(Le,w,u){"use strict";Object.defineProperty(w,"__esModule",{value:!0});const s=u(13898),p=u(45117),R=u(79812),O=u(79812),_={keyword:"patternProperties",type:"object",schemaType:"object",code(D){const{gen:N,schema:j,data:I,parentSchema:G,it:z}=D,{opts:re}=z,ne=(0,s.allSchemaProperties)(j),ae=ne.filter(fe=>(0,R.alwaysValidSchema)(z,j[fe]));if(ne.length===0||ae.length===ne.length&&(!z.opts.unevaluated||z.props===!0))return;const ve=re.strictSchema&&!re.allowMatchingProperties&&G.properties,M=N.name("valid");z.props!==!0&&!(z.props instanceof p.Name)&&(z.props=(0,O.evaluatedPropsToName)(N,z.props));const{props:H}=z;ue();function ue(){for(const fe of ne)ve&&X(fe),z.allErrors?se(fe):(N.var(M,!0),se(fe),N.if(M))}function X(fe){for(const ee in ve)new RegExp(fe).test(ee)&&(0,R.checkStrictMode)(z,`property ${ee} matches pattern ${fe} (use allowMatchingProperties)`)}function se(fe){N.forIn("key",I,ee=>{N.if((0,p._)`${(0,s.usePattern)(D,fe)}.test(${ee})`,()=>{const $=ae.includes(fe);$||D.subschema({keyword:"patternProperties",schemaProp:fe,dataProp:ee,dataPropType:O.Type.Str},M),z.opts.unevaluated&&H!==!0?N.assign((0,p._)`${H}[${ee}]`,!0):!$&&!z.allErrors&&N.if((0,p.not)(M),()=>N.break())})})}}};w.default=_},85490:function(Le,w,u){"use strict";Object.defineProperty(w,"__esModule",{value:!0});const s=u(22858),p={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:R=>(0,s.validateTuple)(R,"items")};w.default=p},34983:function(Le,w,u){"use strict";Object.defineProperty(w,"__esModule",{value:!0});const s=u(53970),p=u(13898),R=u(79812),O=u(67106),_={keyword:"properties",type:"object",schemaType:"object",code(D){const{gen:N,schema:j,parentSchema:I,data:G,it:z}=D;z.opts.removeAdditional==="all"&&I.additionalProperties===void 0&&O.default.code(new s.KeywordCxt(z,O.default,"additionalProperties"));const re=(0,p.allSchemaProperties)(j);for(const H of re)z.definedProperties.add(H);z.opts.unevaluated&&re.length&&z.props!==!0&&(z.props=R.mergeEvaluated.props(N,(0,R.toHash)(re),z.props));const ne=re.filter(H=>!(0,R.alwaysValidSchema)(z,j[H]));if(ne.length===0)return;const ae=N.name("valid");for(const H of ne)ve(H)?M(H):(N.if((0,p.propertyInData)(N,G,H,z.opts.ownProperties)),M(H),z.allErrors||N.else().var(ae,!0),N.endIf()),D.it.definedProperties.add(H),D.ok(ae);function ve(H){return z.opts.useDefaults&&!z.compositeRule&&j[H].default!==void 0}function M(H){D.subschema({keyword:"properties",schemaProp:H,dataProp:H},ae)}}};w.default=_},17366:function(Le,w,u){"use strict";Object.defineProperty(w,"__esModule",{value:!0});const s=u(45117),p=u(79812),O={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:_})=>(0,s._)`{propertyName: ${_.propertyName}}`},code(_){const{gen:D,schema:N,data:j,it:I}=_;if((0,p.alwaysValidSchema)(I,N))return;const G=D.name("valid");D.forIn("key",j,z=>{_.setParams({propertyName:z}),_.subschema({keyword:"propertyNames",data:z,dataTypes:["string"],propertyName:z,compositeRule:!0},G),D.if((0,s.not)(G),()=>{_.error(!0),I.allErrors||D.break()})}),_.ok(G)}};w.default=O},7303:function(Le,w,u){"use strict";Object.defineProperty(w,"__esModule",{value:!0});const s=u(79812),p={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:R,parentSchema:O,it:_}){O.if===void 0&&(0,s.checkStrictMode)(_,`"${R}" without "if" is ignored`)}};w.default=p},13898:function(Le,w,u){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.validateUnion=w.validateArray=w.usePattern=w.callValidateCode=w.schemaProperties=w.allSchemaProperties=w.noPropertyInData=w.propertyInData=w.isOwnProperty=w.hasPropFunc=w.reportMissingProp=w.checkMissingProp=w.checkReportMissingProp=void 0;const s=u(45117),p=u(79812),R=u(93239),O=u(79812);function _(X,se){const{gen:fe,data:ee,it:$}=X;fe.if(z(fe,ee,se,$.opts.ownProperties),()=>{X.setParams({missingProperty:(0,s._)`${se}`},!0),X.error()})}w.checkReportMissingProp=_;function D({gen:X,data:se,it:{opts:fe}},ee,$){return(0,s.or)(...ee.map(Se=>(0,s.and)(z(X,se,Se,fe.ownProperties),(0,s._)`${$} = ${Se}`)))}w.checkMissingProp=D;function N(X,se){X.setParams({missingProperty:se},!0),X.error()}w.reportMissingProp=N;function j(X){return X.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,s._)`Object.prototype.hasOwnProperty`})}w.hasPropFunc=j;function I(X,se,fe){return(0,s._)`${j(X)}.call(${se}, ${fe})`}w.isOwnProperty=I;function G(X,se,fe,ee){const $=(0,s._)`${se}${(0,s.getProperty)(fe)} !== undefined`;return ee?(0,s._)`${$} && ${I(X,se,fe)}`:$}w.propertyInData=G;function z(X,se,fe,ee){const $=(0,s._)`${se}${(0,s.getProperty)(fe)} === undefined`;return ee?(0,s.or)($,(0,s.not)(I(X,se,fe))):$}w.noPropertyInData=z;function re(X){return X?Object.keys(X).filter(se=>se!=="__proto__"):[]}w.allSchemaProperties=re;function ne(X,se){return re(se).filter(fe=>!(0,p.alwaysValidSchema)(X,se[fe]))}w.schemaProperties=ne;function ae({schemaCode:X,data:se,it:{gen:fe,topSchemaRef:ee,schemaPath:$,errorPath:Se},it:Ie},Oe,We,Ge){const lt=Ge?(0,s._)`${X}, ${se}, ${ee}${$}`:se,Qe=[[R.default.instancePath,(0,s.strConcat)(R.default.instancePath,Se)],[R.default.parentData,Ie.parentData],[R.default.parentDataProperty,Ie.parentDataProperty],[R.default.rootData,R.default.rootData]];Ie.opts.dynamicRef&&Qe.push([R.default.dynamicAnchors,R.default.dynamicAnchors]);const He=(0,s._)`${lt}, ${fe.object(...Qe)}`;return We!==s.nil?(0,s._)`${Oe}.call(${We}, ${He})`:(0,s._)`${Oe}(${He})`}w.callValidateCode=ae;const ve=(0,s._)`new RegExp`;function M({gen:X,it:{opts:se}},fe){const ee=se.unicodeRegExp?"u":"",{regExp:$}=se.code,Se=$(fe,ee);return X.scopeValue("pattern",{key:Se.toString(),ref:Se,code:(0,s._)`${$.code==="new RegExp"?ve:(0,O.useFunc)(X,$)}(${fe}, ${ee})`})}w.usePattern=M;function H(X){const{gen:se,data:fe,keyword:ee,it:$}=X,Se=se.name("valid");if($.allErrors){const Oe=se.let("valid",!0);return Ie(()=>se.assign(Oe,!1)),Oe}return se.var(Se,!0),Ie(()=>se.break()),Se;function Ie(Oe){const We=se.const("len",(0,s._)`${fe}.length`);se.forRange("i",0,We,Ge=>{X.subschema({keyword:ee,dataProp:Ge,dataPropType:p.Type.Num},Se),se.if((0,s.not)(Se),Oe)})}}w.validateArray=H;function ue(X){const{gen:se,schema:fe,keyword:ee,it:$}=X;if(!Array.isArray(fe))throw new Error("ajv implementation error");if(fe.some(We=>(0,p.alwaysValidSchema)($,We))&&!$.opts.unevaluated)return;const Ie=se.let("valid",!1),Oe=se.name("_valid");se.block(()=>fe.forEach((We,Ge)=>{const lt=X.subschema({keyword:ee,schemaProp:Ge,compositeRule:!0},Oe);se.assign(Ie,(0,s._)`${Ie} || ${Oe}`),X.mergeValidEvaluated(lt,Oe)||se.if((0,s.not)(Ie))})),X.result(Ie,()=>X.reset(),()=>X.error(!0))}w.validateUnion=ue},70076:function(Le,w){"use strict";Object.defineProperty(w,"__esModule",{value:!0});const u={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};w.default=u},90394:function(Le,w,u){"use strict";Object.defineProperty(w,"__esModule",{value:!0});const s=u(70076),p=u(77350),R=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",s.default,p.default];w.default=R},77350:function(Le,w,u){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.callRef=w.getValidate=void 0;const s=u(97566),p=u(13898),R=u(45117),O=u(93239),_=u(19984),D=u(79812),N={keyword:"$ref",schemaType:"string",code(G){const{gen:z,schema:re,it:ne}=G,{baseId:ae,schemaEnv:ve,validateName:M,opts:H,self:ue}=ne,{root:X}=ve;if((re==="#"||re==="#/")&&ae===X.baseId)return fe();const se=_.resolveRef.call(ue,X,ae,re);if(se===void 0)throw new s.default(ne.opts.uriResolver,ae,re);if(se instanceof _.SchemaEnv)return ee(se);return $(se);function fe(){if(ve===X)return I(G,M,ve,ve.$async);const Se=z.scopeValue("root",{ref:X});return I(G,(0,R._)`${Se}.validate`,X,X.$async)}function ee(Se){const Ie=j(G,Se);I(G,Ie,Se,Se.$async)}function $(Se){const Ie=z.scopeValue("schema",H.code.source===!0?{ref:Se,code:(0,R.stringify)(Se)}:{ref:Se}),Oe=z.name("valid"),We=G.subschema({schema:Se,dataTypes:[],schemaPath:R.nil,topSchemaRef:Ie,errSchemaPath:re},Oe);G.mergeEvaluated(We),G.ok(Oe)}}};function j(G,z){const{gen:re}=G;return z.validate?re.scopeValue("validate",{ref:z.validate}):(0,R._)`${re.scopeValue("wrapper",{ref:z})}.validate`}w.getValidate=j;function I(G,z,re,ne){const{gen:ae,it:ve}=G,{allErrors:M,schemaEnv:H,opts:ue}=ve,X=ue.passContext?O.default.this:R.nil;ne?se():fe();function se(){if(!H.$async)throw new Error("async schema referenced by sync schema");const Se=ae.let("valid");ae.try(()=>{ae.code((0,R._)`await ${(0,p.callValidateCode)(G,z,X)}`),$(z),M||ae.assign(Se,!0)},Ie=>{ae.if((0,R._)`!(${Ie} instanceof ${ve.ValidationError})`,()=>ae.throw(Ie)),ee(Ie),M||ae.assign(Se,!1)}),G.ok(Se)}function fe(){G.result((0,p.callValidateCode)(G,z,X),()=>$(z),()=>ee(z))}function ee(Se){const Ie=(0,R._)`${Se}.errors`;ae.assign(O.default.vErrors,(0,R._)`${O.default.vErrors} === null ? ${Ie} : ${O.default.vErrors}.concat(${Ie})`),ae.assign(O.default.errors,(0,R._)`${O.default.vErrors}.length`)}function $(Se){var Ie;if(!ve.opts.unevaluated)return;const Oe=(Ie=re==null?void 0:re.validate)===null||Ie===void 0?void 0:Ie.evaluated;if(ve.props!==!0)if(Oe&&!Oe.dynamicProps)Oe.props!==void 0&&(ve.props=D.mergeEvaluated.props(ae,Oe.props,ve.props));else{const We=ae.var("props",(0,R._)`${Se}.evaluated.props`);ve.props=D.mergeEvaluated.props(ae,We,ve.props,R.Name)}if(ve.items!==!0)if(Oe&&!Oe.dynamicItems)Oe.items!==void 0&&(ve.items=D.mergeEvaluated.items(ae,Oe.items,ve.items));else{const We=ae.var("items",(0,R._)`${Se}.evaluated.items`);ve.items=D.mergeEvaluated.items(ae,We,ve.items,R.Name)}}}w.callRef=I,w.default=N},72360:function(Le,w,u){"use strict";Object.defineProperty(w,"__esModule",{value:!0});const s=u(45117),p=u(41720),R=u(19984),O=u(79812),D={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:N,tagName:j}})=>N===p.DiscrError.Tag?`tag "${j}" must be string`:`value of tag "${j}" must be in oneOf`,params:({params:{discrError:N,tag:j,tagName:I}})=>(0,s._)`{error: ${N}, tag: ${I}, tagValue: ${j}}`},code(N){const{gen:j,data:I,schema:G,parentSchema:z,it:re}=N,{oneOf:ne}=z;if(!re.opts.discriminator)throw new Error("discriminator: requires discriminator option");const ae=G.propertyName;if(typeof ae!="string")throw new Error("discriminator: requires propertyName");if(G.mapping)throw new Error("discriminator: mapping is not supported");if(!ne)throw new Error("discriminator: requires oneOf keyword");const ve=j.let("valid",!1),M=j.const("tag",(0,s._)`${I}${(0,s.getProperty)(ae)}`);j.if((0,s._)`typeof ${M} == "string"`,()=>H(),()=>N.error(!1,{discrError:p.DiscrError.Tag,tag:M,tagName:ae})),N.ok(ve);function H(){const se=X();j.if(!1);for(const fe in se)j.elseIf((0,s._)`${M} === ${fe}`),j.assign(ve,ue(se[fe]));j.else(),N.error(!1,{discrError:p.DiscrError.Mapping,tag:M,tagName:ae}),j.endIf()}function ue(se){const fe=j.name("valid"),ee=N.subschema({keyword:"oneOf",schemaProp:se},fe);return N.mergeEvaluated(ee,s.Name),fe}function X(){var se;const fe={},ee=Se(z);let $=!0;for(let We=0;We<ne.length;We++){let Ge=ne[We];Ge!=null&&Ge.$ref&&!(0,O.schemaHasRulesButRef)(Ge,re.self.RULES)&&(Ge=R.resolveRef.call(re.self,re.schemaEnv.root,re.baseId,Ge==null?void 0:Ge.$ref),Ge instanceof R.SchemaEnv&&(Ge=Ge.schema));const lt=(se=Ge==null?void 0:Ge.properties)===null||se===void 0?void 0:se[ae];if(typeof lt!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${ae}"`);$=$&&(ee||Se(Ge)),Ie(lt,We)}if(!$)throw new Error(`discriminator: "${ae}" must be required`);return fe;function Se({required:We}){return Array.isArray(We)&&We.includes(ae)}function Ie(We,Ge){if(We.const)Oe(We.const,Ge);else if(We.enum)for(const lt of We.enum)Oe(lt,Ge);else throw new Error(`discriminator: "properties/${ae}" must have "const" or "enum"`)}function Oe(We,Ge){if(typeof We!="string"||We in fe)throw new Error(`discriminator: "${ae}" values must be unique strings`);fe[We]=Ge}}}};w.default=D},41720:function(Le,w){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.DiscrError=void 0;var u;(function(s){s.Tag="tag",s.Mapping="mapping"})(u=w.DiscrError||(w.DiscrError={}))},6797:function(Le,w,u){"use strict";Object.defineProperty(w,"__esModule",{value:!0});const s=u(90394),p=u(80794),R=u(59708),O=u(76481),_=u(43886),D=[s.default,p.default,(0,R.default)(),O.default,_.metadataVocabulary,_.contentVocabulary];w.default=D},9470:function(Le,w,u){"use strict";Object.defineProperty(w,"__esModule",{value:!0});const s=u(45117),R={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:O})=>(0,s.str)`must match format "${O}"`,params:({schemaCode:O})=>(0,s._)`{format: ${O}}`},code(O,_){const{gen:D,data:N,$data:j,schema:I,schemaCode:G,it:z}=O,{opts:re,errSchemaPath:ne,schemaEnv:ae,self:ve}=z;if(!re.validateFormats)return;j?M():H();function M(){const ue=D.scopeValue("formats",{ref:ve.formats,code:re.code.formats}),X=D.const("fDef",(0,s._)`${ue}[${G}]`),se=D.let("fType"),fe=D.let("format");D.if((0,s._)`typeof ${X} == "object" && !(${X} instanceof RegExp)`,()=>D.assign(se,(0,s._)`${X}.type || "string"`).assign(fe,(0,s._)`${X}.validate`),()=>D.assign(se,(0,s._)`"string"`).assign(fe,X)),O.fail$data((0,s.or)(ee(),$()));function ee(){return re.strictSchema===!1?s.nil:(0,s._)`${G} && !${fe}`}function $(){const Se=ae.$async?(0,s._)`(${X}.async ? await ${fe}(${N}) : ${fe}(${N}))`:(0,s._)`${fe}(${N})`,Ie=(0,s._)`(typeof ${fe} == "function" ? ${Se} : ${fe}.test(${N}))`;return(0,s._)`${fe} && ${fe} !== true && ${se} === ${_} && !${Ie}`}}function H(){const ue=ve.formats[I];if(!ue){ee();return}if(ue===!0)return;const[X,se,fe]=$(ue);X===_&&O.pass(Se());function ee(){if(re.strictSchema===!1){ve.logger.warn(Ie());return}throw new Error(Ie());function Ie(){return`unknown format "${I}" ignored in schema at path "${ne}"`}}function $(Ie){const Oe=Ie instanceof RegExp?(0,s.regexpCode)(Ie):re.code.formats?(0,s._)`${re.code.formats}${(0,s.getProperty)(I)}`:void 0,We=D.scopeValue("formats",{key:I,ref:Ie,code:Oe});return typeof Ie=="object"&&!(Ie instanceof RegExp)?[Ie.type||"string",Ie.validate,(0,s._)`${We}.validate`]:["string",Ie,We]}function Se(){if(typeof ue=="object"&&!(ue instanceof RegExp)&&ue.async){if(!ae.$async)throw new Error("async format in sync schema");return(0,s._)`await ${fe}(${N})`}return typeof se=="function"?(0,s._)`${fe}(${N})`:(0,s._)`${fe}.test(${N})`}}}};w.default=R},76481:function(Le,w,u){"use strict";Object.defineProperty(w,"__esModule",{value:!0});const p=[u(9470).default];w.default=p},43886:function(Le,w){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.contentVocabulary=w.metadataVocabulary=void 0,w.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],w.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]},78917:function(Le,w,u){"use strict";Object.defineProperty(w,"__esModule",{value:!0});const s=u(45117),p=u(79812),R=u(64629),_={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:D})=>(0,s._)`{allowedValue: ${D}}`},code(D){const{gen:N,data:j,$data:I,schemaCode:G,schema:z}=D;I||z&&typeof z=="object"?D.fail$data((0,s._)`!${(0,p.useFunc)(N,R.default)}(${j}, ${G})`):D.fail((0,s._)`${z} !== ${j}`)}};w.default=_},28328:function(Le,w,u){"use strict";Object.defineProperty(w,"__esModule",{value:!0});const s=u(45117),p=u(79812),R=u(64629),_={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:D})=>(0,s._)`{allowedValues: ${D}}`},code(D){const{gen:N,data:j,$data:I,schema:G,schemaCode:z,it:re}=D;if(!I&&G.length===0)throw new Error("enum must have non-empty array");const ne=G.length>=re.opts.loopEnum;let ae;const ve=()=>ae!=null?ae:ae=(0,p.useFunc)(N,R.default);let M;if(ne||I)M=N.let("valid"),D.block$data(M,H);else{if(!Array.isArray(G))throw new Error("ajv implementation error");const X=N.const("vSchema",z);M=(0,s.or)(...G.map((se,fe)=>ue(X,fe)))}D.pass(M);function H(){N.assign(M,!1),N.forOf("v",z,X=>N.if((0,s._)`${ve()}(${j}, ${X})`,()=>N.assign(M,!0).break()))}function ue(X,se){const fe=G[se];return typeof fe=="object"&&fe!==null?(0,s._)`${ve()}(${j}, ${X}[${se}])`:(0,s._)`${j} === ${fe}`}}};w.default=_},80794:function(Le,w,u){"use strict";Object.defineProperty(w,"__esModule",{value:!0});const s=u(59135),p=u(71878),R=u(84008),O=u(98736),_=u(33789),D=u(86778),N=u(50524),j=u(44592),I=u(78917),G=u(28328),z=[s.default,p.default,R.default,O.default,_.default,D.default,N.default,j.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},I.default,G.default];w.default=z},50524:function(Le,w,u){"use strict";Object.defineProperty(w,"__esModule",{value:!0});const s=u(45117),R={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:O,schemaCode:_}){const D=O==="maxItems"?"more":"fewer";return(0,s.str)`must NOT have ${D} than ${_} items`},params:({schemaCode:O})=>(0,s._)`{limit: ${O}}`},code(O){const{keyword:_,data:D,schemaCode:N}=O,j=_==="maxItems"?s.operators.GT:s.operators.LT;O.fail$data((0,s._)`${D}.length ${j} ${N}`)}};w.default=R},84008:function(Le,w,u){"use strict";Object.defineProperty(w,"__esModule",{value:!0});const s=u(45117),p=u(79812),R=u(72496),_={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:D,schemaCode:N}){const j=D==="maxLength"?"more":"fewer";return(0,s.str)`must NOT have ${j} than ${N} characters`},params:({schemaCode:D})=>(0,s._)`{limit: ${D}}`},code(D){const{keyword:N,data:j,schemaCode:I,it:G}=D,z=N==="maxLength"?s.operators.GT:s.operators.LT,re=G.opts.unicode===!1?(0,s._)`${j}.length`:(0,s._)`${(0,p.useFunc)(D.gen,R.default)}(${j})`;D.fail$data((0,s._)`${re} ${z} ${I}`)}};w.default=_},59135:function(Le,w,u){"use strict";Object.defineProperty(w,"__esModule",{value:!0});const s=u(45117),p=s.operators,R={maximum:{okStr:"<=",ok:p.LTE,fail:p.GT},minimum:{okStr:">=",ok:p.GTE,fail:p.LT},exclusiveMaximum:{okStr:"<",ok:p.LT,fail:p.GTE},exclusiveMinimum:{okStr:">",ok:p.GT,fail:p.LTE}},O={message:({keyword:D,schemaCode:N})=>(0,s.str)`must be ${R[D].okStr} ${N}`,params:({keyword:D,schemaCode:N})=>(0,s._)`{comparison: ${R[D].okStr}, limit: ${N}}`},_={keyword:Object.keys(R),type:"number",schemaType:"number",$data:!0,error:O,code(D){const{keyword:N,data:j,schemaCode:I}=D;D.fail$data((0,s._)`${j} ${R[N].fail} ${I} || isNaN(${j})`)}};w.default=_},33789:function(Le,w,u){"use strict";Object.defineProperty(w,"__esModule",{value:!0});const s=u(45117),R={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:O,schemaCode:_}){const D=O==="maxProperties"?"more":"fewer";return(0,s.str)`must NOT have ${D} than ${_} properties`},params:({schemaCode:O})=>(0,s._)`{limit: ${O}}`},code(O){const{keyword:_,data:D,schemaCode:N}=O,j=_==="maxProperties"?s.operators.GT:s.operators.LT;O.fail$data((0,s._)`Object.keys(${D}).length ${j} ${N}`)}};w.default=R},71878:function(Le,w,u){"use strict";Object.defineProperty(w,"__esModule",{value:!0});const s=u(45117),R={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:O})=>(0,s.str)`must be multiple of ${O}`,params:({schemaCode:O})=>(0,s._)`{multipleOf: ${O}}`},code(O){const{gen:_,data:D,schemaCode:N,it:j}=O,I=j.opts.multipleOfPrecision,G=_.let("res"),z=I?(0,s._)`Math.abs(Math.round(${G}) - ${G}) > 1e-${I}`:(0,s._)`${G} !== parseInt(${G})`;O.fail$data((0,s._)`(${N} === 0 || (${G} = ${D}/${N}, ${z}))`)}};w.default=R},98736:function(Le,w,u){"use strict";Object.defineProperty(w,"__esModule",{value:!0});const s=u(13898),p=u(45117),O={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:_})=>(0,p.str)`must match pattern "${_}"`,params:({schemaCode:_})=>(0,p._)`{pattern: ${_}}`},code(_){const{data:D,$data:N,schema:j,schemaCode:I,it:G}=_,z=G.opts.unicodeRegExp?"u":"",re=N?(0,p._)`(new RegExp(${I}, ${z}))`:(0,s.usePattern)(_,j);_.fail$data((0,p._)`!${re}.test(${D})`)}};w.default=O},86778:function(Le,w,u){"use strict";Object.defineProperty(w,"__esModule",{value:!0});const s=u(13898),p=u(45117),R=u(79812),_={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:D}})=>(0,p.str)`must have required property '${D}'`,params:({params:{missingProperty:D}})=>(0,p._)`{missingProperty: ${D}}`},code(D){const{gen:N,schema:j,schemaCode:I,data:G,$data:z,it:re}=D,{opts:ne}=re;if(!z&&j.length===0)return;const ae=j.length>=ne.loopRequired;if(re.allErrors?ve():M(),ne.strictRequired){const X=D.parentSchema.properties,{definedProperties:se}=D.it;for(const fe of j)if((X==null?void 0:X[fe])===void 0&&!se.has(fe)){const ee=re.schemaEnv.baseId+re.errSchemaPath,$=`required property "${fe}" is not defined at "${ee}" (strictRequired)`;(0,R.checkStrictMode)(re,$,re.opts.strictRequired)}}function ve(){if(ae||z)D.block$data(p.nil,H);else for(const X of j)(0,s.checkReportMissingProp)(D,X)}function M(){const X=N.let("missing");if(ae||z){const se=N.let("valid",!0);D.block$data(se,()=>ue(X,se)),D.ok(se)}else N.if((0,s.checkMissingProp)(D,j,X)),(0,s.reportMissingProp)(D,X),N.else()}function H(){N.forOf("prop",I,X=>{D.setParams({missingProperty:X}),N.if((0,s.noPropertyInData)(N,G,X,ne.ownProperties),()=>D.error())})}function ue(X,se){D.setParams({missingProperty:X}),N.forOf(X,I,()=>{N.assign(se,(0,s.propertyInData)(N,G,X,ne.ownProperties)),N.if((0,p.not)(se),()=>{D.error(),N.break()})},p.nil)}}};w.default=_},44592:function(Le,w,u){"use strict";Object.defineProperty(w,"__esModule",{value:!0});const s=u(51549),p=u(45117),R=u(79812),O=u(64629),D={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:N,j}})=>(0,p.str)`must NOT have duplicate items (items ## ${j} and ${N} are identical)`,params:({params:{i:N,j}})=>(0,p._)`{i: ${N}, j: ${j}}`},code(N){const{gen:j,data:I,$data:G,schema:z,parentSchema:re,schemaCode:ne,it:ae}=N;if(!G&&!z)return;const ve=j.let("valid"),M=re.items?(0,s.getSchemaTypes)(re.items):[];N.block$data(ve,H,(0,p._)`${ne} === false`),N.ok(ve);function H(){const fe=j.let("i",(0,p._)`${I}.length`),ee=j.let("j");N.setParams({i:fe,j:ee}),j.assign(ve,!0),j.if((0,p._)`${fe} > 1`,()=>(ue()?X:se)(fe,ee))}function ue(){return M.length>0&&!M.some(fe=>fe==="object"||fe==="array")}function X(fe,ee){const $=j.name("item"),Se=(0,s.checkDataTypes)(M,$,ae.opts.strictNumbers,s.DataType.Wrong),Ie=j.const("indices",(0,p._)`{}`);j.for((0,p._)`;${fe}--;`,()=>{j.let($,(0,p._)`${I}[${fe}]`),j.if(Se,(0,p._)`continue`),M.length>1&&j.if((0,p._)`typeof ${$} == "string"`,(0,p._)`${$} += "_"`),j.if((0,p._)`typeof ${Ie}[${$}] == "number"`,()=>{j.assign(ee,(0,p._)`${Ie}[${$}]`),N.error(),j.assign(ve,!1).break()}).code((0,p._)`${Ie}[${$}] = ${fe}`)})}function se(fe,ee){const $=(0,R.useFunc)(j,O.default),Se=j.name("outer");j.label(Se).for((0,p._)`;${fe}--;`,()=>j.for((0,p._)`${ee} = ${fe}; ${ee}--;`,()=>j.if((0,p._)`${$}(${I}[${fe}], ${I}[${ee}])`,()=>{N.error(),j.assign(ve,!1).break(Se)})))}}};w.default=D},67142:function(Le){(function(w,u){Le.exports=u()})(typeof self!="undefined"?self:this,()=>(()=>{"use strict";var w={d:(Oe,We)=>{for(var Ge in We)w.o(We,Ge)&&!w.o(Oe,Ge)&&Object.defineProperty(Oe,Ge,{enumerable:!0,get:We[Ge]})},o:(Oe,We)=>Object.prototype.hasOwnProperty.call(Oe,We),r:Oe=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(Oe,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Oe,"__esModule",{value:!0})}},u={};function s(Oe){return Oe==="#"||Oe===""||Array.isArray(Oe)&&Oe.length===0||!1}w.r(u),w.d(u,{default:()=>Ie,get:()=>I,isRoot:()=>s,join:()=>$,remove:()=>ue,removeUndefinedItems:()=>H,set:()=>ae,split:()=>j,splitLast:()=>Se});const p=/~1/g,R=/~0/g,O=/\/+/g,_=/(^[#/]*|\/+$)/g;function D(Oe){return Oe.replace(p,"/").replace(R,"~")}function N(Oe){return D(decodeURIComponent(Oe))}function j(Oe){if(Oe==null||typeof Oe!="string"||s(Oe))return Array.isArray(Oe)?Oe:[];const We=Oe.indexOf("#")>=0?N:D,Ge=(Oe=(Oe=Oe.replace(O,"/")).replace(_,"")).split("/");for(let lt=0,Qe=Ge.length;lt<Qe;lt+=1)Ge[lt]=We(Ge[lt]);return Ge}function I(Oe,We,Ge){if(We==null||Oe==null)return Ge;if(s(We))return Oe;const lt=G(Oe,j(We));return lt===void 0?Ge:lt}function G(Oe,We){const Ge=We.shift();if(Oe!==void 0)return Ge!==void 0?G(Oe[Ge],We):Oe}const z=/^\[.*\]$/,re=/^\[(.+)\]$/;function ne(Oe,We){return Oe==="__proto__"||Oe=="constructor"&&We.length>0&&We[0]=="prototype"}function ae(Oe,We,Ge){if(We==null)return Oe;const lt=j(We);if(lt.length===0)return Oe;Oe==null&&(Oe=z.test(lt[0])?[]:{});let Qe,He,St=Oe;for(;lt.length>1;)Qe=lt.shift(),He=z.test(lt[0]),ne(Qe,lt)||(St=M(St,Qe,He));return Qe=lt.pop(),ve(St,Qe,Ge),Oe}function ve(Oe,We,Ge){let lt;const Qe=We.match(re);We==="[]"&&Array.isArray(Oe)?Oe.push(Ge):Qe?(lt=Qe.pop(),Oe[lt]=Ge):Oe[We]=Ge}function M(Oe,We,Ge){if(Oe[We]!=null)return Oe[We];const lt=Ge?[]:{};return ve(Oe,We,lt),lt}function H(Oe){let We=0,Ge=0;for(;We+Ge<Oe.length;)Oe[We+Ge]===void 0&&(Ge+=1),Oe[We]=Oe[We+Ge],We+=1;return Oe.length=Oe.length-Ge,Oe}function ue(Oe,We,Ge){const lt=j(We),Qe=lt.pop(),He=I(Oe,lt);return He&&delete He[Qe],Array.isArray(He)&&Ge!==!0&&H(He),Oe}const X=/\/+/g,se=/~/g,fe=/\//g;function ee(Oe,We){if(Oe.length===0)return We?"#":"";for(let Ge=0,lt=Oe.length;Ge<lt;Ge+=1)Oe[Ge]=Oe[Ge].replace(se,"~0").replace(fe,"~1"),We&&(Oe[Ge]=encodeURIComponent(Oe[Ge]));return((We?"#/":"/")+Oe.join("/")).replace(X,"/")}function $(Oe,...We){const Ge=[];if(Array.isArray(Oe))return ee(Oe,arguments[1]===!0);const lt=arguments[arguments.length-1],Qe=typeof lt=="boolean"?lt:Oe&&Oe[0]==="#";for(let St=0,qt=arguments.length;St<qt;St+=1)Ge.push.apply(Ge,j(arguments[St]));const He=[];for(let St=0,qt=Ge.length;St<qt;St+=1)if(Ge[St]===".."){if(He.length===0)return Qe?"#":"";He.pop()}else He.push(Ge[St]);return ee(He,Qe)}function Se(Oe){const We=j(Oe);if(We.length===0)return typeof Oe=="string"&&Oe[0]==="#"?["#",We[0]]:["",void 0];if(We.length===1)return Oe[0]==="#"?["#",We[0]]:["",We[0]];const Ge=We.pop();return[$(We,Oe[0]==="#"),Ge]}const Ie={get:I,set:ae,remove:ue,join:$,split:j,splitLast:Se,isRoot:s,removeUndefinedItems:H};return u})())},2552:function(Le,w,u){"use strict";u.d(w,{ZP:function(){return Dl}});var s=u(7896),p=u(31461),R=u(2784),O=u(1727),_=u(65329),D=u(77120),N=u(21649);const j=f=>{let{state:n}=f,m=n.doc.lineAt(n.selection.main.from),b=H(f.state,m.from);return b.line?G(f):b.block?M(f):!1};function I(f,n){return({state:m,dispatch:b})=>{if(m.readOnly)return!1;let P=f(n,m);return P?(b(m.update(P)),!0):!1}}const G=I(ee,0),z=null,re=null,ne=I(fe,0),ae=null,ve=null,M=I((f,n)=>fe(f,n,se(n)),0);function H(f,n){let m=f.languageDataAt("commentTokens",n);return m.length?m[0]:{}}const ue=50;function X(f,{open:n,close:m},b,P){let W=f.sliceDoc(b-ue,b),ce=f.sliceDoc(P,P+ue),Ae=/\s*$/.exec(W)[0].length,Me=/^\s*/.exec(ce)[0].length,vt=W.length-Ae;if(W.slice(vt-n.length,vt)==n&&ce.slice(Me,Me+m.length)==m)return{open:{pos:b-Ae,margin:Ae&&1},close:{pos:P+Me,margin:Me&&1}};let At,tr;P-b<=2*ue?At=tr=f.sliceDoc(b,P):(At=f.sliceDoc(b,b+ue),tr=f.sliceDoc(P-ue,P));let Gr=/^\s*/.exec(At)[0].length,Nn=/\s*$/.exec(tr)[0].length,Wi=tr.length-Nn-m.length;return At.slice(Gr,Gr+n.length)==n&&tr.slice(Wi,Wi+m.length)==m?{open:{pos:b+Gr+n.length,margin:/\s/.test(At.charAt(Gr+n.length))?1:0},close:{pos:P-Nn-m.length,margin:/\s/.test(tr.charAt(Wi-1))?1:0}}:null}function se(f){let n=[];for(let m of f.selection.ranges){let b=f.doc.lineAt(m.from),P=m.to<=b.to?b:f.doc.lineAt(m.to),W=n.length-1;W>=0&&n[W].to>b.from?n[W].to=P.to:n.push({from:b.from+/^\s*/.exec(b.text)[0].length,to:P.to})}return n}function fe(f,n,m=n.selection.ranges){let b=m.map(W=>H(n,W.from).block);if(!b.every(W=>W))return null;let P=m.map((W,ce)=>X(n,b[ce],W.from,W.to));if(f!=2&&!P.every(W=>W))return{changes:n.changes(m.map((W,ce)=>P[ce]?[]:[{from:W.from,insert:b[ce].open+" "},{from:W.to,insert:" "+b[ce].close}]))};if(f!=1&&P.some(W=>W)){let W=[];for(let ce=0,Ae;ce<P.length;ce++)if(Ae=P[ce]){let Me=b[ce],{open:vt,close:At}=Ae;W.push({from:vt.pos-Me.open.length,to:vt.pos+vt.margin},{from:At.pos-At.margin,to:At.pos+Me.close.length})}return{changes:W}}return null}function ee(f,n,m=n.selection.ranges){let b=[],P=-1;for(let{from:W,to:ce}of m){let Ae=b.length,Me=1e9,vt=H(n,W).line;if(vt){for(let At=W;At<=ce;){let tr=n.doc.lineAt(At);if(tr.from>P&&(W==ce||ce>tr.from)){P=tr.from;let Gr=/^\s*/.exec(tr.text)[0].length,Nn=Gr==tr.length,Wi=tr.text.slice(Gr,Gr+vt.length)==vt?Gr:-1;Gr<tr.text.length&&Gr<Me&&(Me=Gr),b.push({line:tr,comment:Wi,token:vt,indent:Gr,empty:Nn,single:!1})}At=tr.to+1}if(Me<1e9)for(let At=Ae;At<b.length;At++)b[At].indent<b[At].line.text.length&&(b[At].indent=Me);b.length==Ae+1&&(b[Ae].single=!0)}}if(f!=2&&b.some(W=>W.comment<0&&(!W.empty||W.single))){let W=[];for(let{line:Ae,token:Me,indent:vt,empty:At,single:tr}of b)(tr||!At)&&W.push({from:Ae.from+vt,insert:Me+" "});let ce=n.changes(W);return{changes:ce,selection:n.selection.map(ce,1)}}else if(f!=1&&b.some(W=>W.comment>=0)){let W=[];for(let{line:ce,comment:Ae,token:Me}of b)if(Ae>=0){let vt=ce.from+Ae,At=vt+Me.length;ce.text[At-ce.from]==" "&&At++,W.push({from:vt,to:At})}return{changes:W}}return null}const $=O.q6.define(),Se=O.q6.define(),Ie=O.r$.define(),Oe=O.r$.define({combine(f){return(0,O.BO)(f,{minDepth:100,newGroupDelay:500,joinToEvent:(n,m)=>m},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(n,m)=>(b,P)=>n(b,P)||m(b,P)})}});function We(f){let n=0;return f.iterChangedRanges((m,b)=>n=b),n}const Ge=O.QQ.define({create(){return Te.empty},update(f,n){let m=n.state.facet(Oe),b=n.annotation($);if(b){let Me=n.docChanged?O.jT.single(We(n.changes)):void 0,vt=tt.fromTransaction(n,Me),At=b.side,tr=At==0?f.undone:f.done;return vt?tr=ge(tr,tr.length,m.minDepth,vt):tr=Ve(tr,n.startState.selection),new Te(At==0?b.rest:tr,At==0?tr:b.rest)}let P=n.annotation(Se);if((P=="full"||P=="before")&&(f=f.isolate()),n.annotation(O.YW.addToHistory)===!1)return n.changes.empty?f:f.addMapping(n.changes.desc);let W=tt.fromTransaction(n),ce=n.annotation(O.YW.time),Ae=n.annotation(O.YW.userEvent);return W?f=f.addChanges(W,ce,Ae,m,n):n.selection&&(f=f.addSelection(n.startState.selection,ce,Ae,m.newGroupDelay)),(P=="full"||P=="after")&&(f=f.isolate()),f},toJSON(f){return{done:f.done.map(n=>n.toJSON()),undone:f.undone.map(n=>n.toJSON())}},fromJSON(f){return new Te(f.done.map(tt.fromJSON),f.undone.map(tt.fromJSON))}});function lt(f={}){return[Ge,Oe.of(f),_.tk.domEventHandlers({beforeinput(n,m){let b=n.inputType=="historyUndo"?St:n.inputType=="historyRedo"?qt:null;return b?(n.preventDefault(),b(m)):!1}})]}const Qe=null;function He(f,n){return function({state:m,dispatch:b}){if(!n&&m.readOnly)return!1;let P=m.field(Ge,!1);if(!P)return!1;let W=P.pop(f,m,n);return W?(b(W),!0):!1}}const St=He(0,!1),qt=He(1,!1),dt=He(0,!0),wt=He(1,!0);function rt(f){return function(n){let m=n.field(Ge,!1);if(!m)return 0;let b=f==0?m.done:m.undone;return b.length-(b.length&&!b[0].changes?1:0)}}const Ze=null,yt=null;class tt{constructor(n,m,b,P,W){this.changes=n,this.effects=m,this.mapped=b,this.startSelection=P,this.selectionsAfter=W}setSelAfter(n){return new tt(this.changes,this.effects,this.mapped,this.startSelection,n)}toJSON(){var n,m,b;return{changes:(n=this.changes)===null||n===void 0?void 0:n.toJSON(),mapped:(m=this.mapped)===null||m===void 0?void 0:m.toJSON(),startSelection:(b=this.startSelection)===null||b===void 0?void 0:b.toJSON(),selectionsAfter:this.selectionsAfter.map(P=>P.toJSON())}}static fromJSON(n){return new tt(n.changes&&O.as.fromJSON(n.changes),[],n.mapped&&O.n0.fromJSON(n.mapped),n.startSelection&&O.jT.fromJSON(n.startSelection),n.selectionsAfter.map(O.jT.fromJSON))}static fromTransaction(n,m){let b=Vt;for(let P of n.startState.facet(Ie)){let W=P(n);W.length&&(b=b.concat(W))}return!b.length&&n.changes.empty?null:new tt(n.changes.invert(n.startState.doc),b,void 0,m||n.startState.selection,Vt)}static selection(n){return new tt(void 0,Vt,void 0,void 0,n)}}function ge(f,n,m,b){let P=n+1>m+20?n-m-1:0,W=f.slice(P,n);return W.push(b),W}function $e(f,n){let m=[],b=!1;return f.iterChangedRanges((P,W)=>m.push(P,W)),n.iterChangedRanges((P,W,ce,Ae)=>{for(let Me=0;Me<m.length;){let vt=m[Me++],At=m[Me++];Ae>=vt&&ce<=At&&(b=!0)}}),b}function mt(f,n){return f.ranges.length==n.ranges.length&&f.ranges.filter((m,b)=>m.empty!=n.ranges[b].empty).length===0}function _t(f,n){return f.length?n.length?f.concat(n):f:n}const Vt=[],Cr=200;function Ve(f,n){if(f.length){let m=f[f.length-1],b=m.selectionsAfter.slice(Math.max(0,m.selectionsAfter.length-Cr));return b.length&&b[b.length-1].eq(n)?f:(b.push(n),ge(f,f.length-1,1e9,m.setSelAfter(b)))}else return[tt.selection([n])]}function K(f){let n=f[f.length-1],m=f.slice();return m[f.length-1]=n.setSelAfter(n.selectionsAfter.slice(0,n.selectionsAfter.length-1)),m}function Z(f,n){if(!f.length)return f;let m=f.length,b=Vt;for(;m;){let P=Q(f[m-1],n,b);if(P.changes&&!P.changes.empty||P.effects.length){let W=f.slice(0,m);return W[m-1]=P,W}else n=P.mapped,m--,b=P.selectionsAfter}return b.length?[tt.selection(b)]:Vt}function Q(f,n,m){let b=_t(f.selectionsAfter.length?f.selectionsAfter.map(Ae=>Ae.map(n)):Vt,m);if(!f.changes)return tt.selection(b);let P=f.changes.map(n),W=n.mapDesc(f.changes,!0),ce=f.mapped?f.mapped.composeDesc(W):W;return new tt(P,O.Py.mapEffects(f.effects,n),ce,f.startSelection.map(W),b)}const ie=/^(input\.type|delete)($|\.)/;class Te{constructor(n,m,b=0,P=void 0){this.done=n,this.undone=m,this.prevTime=b,this.prevUserEvent=P}isolate(){return this.prevTime?new Te(this.done,this.undone):this}addChanges(n,m,b,P,W){let ce=this.done,Ae=ce[ce.length-1];return Ae&&Ae.changes&&!Ae.changes.empty&&n.changes&&(!b||ie.test(b))&&(!Ae.selectionsAfter.length&&m-this.prevTime<P.newGroupDelay&&P.joinToEvent(W,$e(Ae.changes,n.changes))||b=="input.type.compose")?ce=ge(ce,ce.length-1,P.minDepth,new tt(n.changes.compose(Ae.changes),_t(n.effects,Ae.effects),Ae.mapped,Ae.startSelection,Vt)):ce=ge(ce,ce.length,P.minDepth,n),new Te(ce,Vt,m,b)}addSelection(n,m,b,P){let W=this.done.length?this.done[this.done.length-1].selectionsAfter:Vt;return W.length>0&&m-this.prevTime<P&&b==this.prevUserEvent&&b&&/^select($|\.)/.test(b)&&mt(W[W.length-1],n)?this:new Te(Ve(this.done,n),this.undone,m,b)}addMapping(n){return new Te(Z(this.done,n),Z(this.undone,n),this.prevTime,this.prevUserEvent)}pop(n,m,b){let P=n==0?this.done:this.undone;if(P.length==0)return null;let W=P[P.length-1];if(b&&W.selectionsAfter.length)return m.update({selection:W.selectionsAfter[W.selectionsAfter.length-1],annotations:$.of({side:n,rest:K(P)}),userEvent:n==0?"select.undo":"select.redo",scrollIntoView:!0});if(W.changes){let ce=P.length==1?Vt:P.slice(0,P.length-1);return W.mapped&&(ce=Z(ce,W.mapped)),m.update({changes:W.changes,selection:W.startSelection,effects:W.effects,annotations:$.of({side:n,rest:ce}),filter:!1,userEvent:n==0?"undo":"redo",scrollIntoView:!0})}else return null}}Te.empty=new Te(Vt,Vt);const Xe=[{key:"Mod-z",run:St,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:qt,preventDefault:!0},{linux:"Ctrl-Shift-z",run:qt,preventDefault:!0},{key:"Mod-u",run:dt,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:wt,preventDefault:!0}];function ct(f,n){return O.jT.create(f.ranges.map(n),f.mainIndex)}function Mt(f,n){return f.update({selection:n,scrollIntoView:!0,userEvent:"select"})}function Qt({state:f,dispatch:n},m){let b=ct(f.selection,m);return b.eq(f.selection)?!1:(n(Mt(f,b)),!0)}function Yt(f,n){return O.jT.cursor(n?f.to:f.from)}function zt(f,n){return Qt(f,m=>m.empty?f.moveByChar(m,n):Yt(m,n))}function Xt(f){return f.textDirectionAt(f.state.selection.main.head)==_.Nm.LTR}const ot=f=>zt(f,!Xt(f)),Ct=f=>zt(f,Xt(f)),Nt=f=>zt(f,!0),fr=f=>zt(f,!1);function Or(f,n){return Qt(f,m=>m.empty?f.moveByGroup(m,n):Yt(m,n))}const xr=f=>Or(f,!Xt(f)),ar=f=>Or(f,Xt(f)),Ft=f=>Or(f,!0),jr=f=>Or(f,!1);function yr(f,n,m){let b=f.state.charCategorizer(n.from);return f.moveByChar(n,m,P=>{let W=CharCategory.Space,ce=n.from,Ae=!1,Me=!1,vt=!1,At=tr=>{if(Ae)return!1;ce+=m?tr.length:-tr.length;let Gr=b(tr),Nn;if(Gr==CharCategory.Word&&tr.charCodeAt(0)<128&&/[\W_]/.test(tr)&&(Gr=-1),W==CharCategory.Space&&(W=Gr),W!=Gr)return!1;if(W==CharCategory.Word)if(tr.toLowerCase()==tr){if(!m&&Me)return!1;vt=!0}else if(vt){if(m)return!1;Ae=!0}else{if(Me&&m&&b(Nn=f.state.sliceDoc(ce,ce+1))==CharCategory.Word&&Nn.toLowerCase()==Nn)return!1;Me=!0}return!0};return At(P),At})}function dr(f,n){return Qt(f,m=>m.empty?yr(f,m,n):Yt(m,n))}const pr=f=>dr(f,!0),cr=f=>dr(f,!1);function Wr(f,n,m){if(n.type.prop(m))return!0;let b=n.to-n.from;return b&&(b>2||/[^\s,.;:]/.test(f.sliceDoc(n.from,n.to)))||n.firstChild}function Tr(f,n,m){let b=(0,D.qz)(f).resolveInner(n.head),P=m?N.md.closedBy:N.md.openedBy;for(let Me=n.head;;){let vt=m?b.childAfter(Me):b.childBefore(Me);if(!vt)break;Wr(f,vt,P)?b=vt:Me=m?vt.to:vt.from}let W=b.type.prop(P),ce,Ae;return W&&(ce=m?(0,D.Um)(f,b.from,1):(0,D.Um)(f,b.to,-1))&&ce.matched?Ae=m?ce.end.to:ce.end.from:Ae=m?b.to:b.from,O.jT.cursor(Ae,m?-1:1)}const Ne=f=>Qt(f,n=>Tr(f.state,n,!Xt(f))),Gt=f=>Qt(f,n=>Tr(f.state,n,Xt(f)));function ir(f,n){return Qt(f,m=>{if(!m.empty)return Yt(m,n);let b=f.moveVertically(m,n);return b.head!=m.head?b:f.moveToLineBoundary(m,n)})}const lr=f=>ir(f,!1),Sr=f=>ir(f,!0);function _r(f){let n=f.scrollDOM.clientHeight<f.scrollDOM.scrollHeight-2,m=0,b=0,P;if(n){for(let W of f.state.facet(_.tk.scrollMargins)){let ce=W(f);ce!=null&&ce.top&&(m=Math.max(ce==null?void 0:ce.top,m)),ce!=null&&ce.bottom&&(b=Math.max(ce==null?void 0:ce.bottom,b))}P=f.scrollDOM.clientHeight-m-b}else P=(f.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:m,marginBottom:b,selfScroll:n,height:Math.max(f.defaultLineHeight,P-5)}}function Er(f,n){let m=_r(f),{state:b}=f,P=ct(b.selection,ce=>ce.empty?f.moveVertically(ce,n,m.height):Yt(ce,n));if(P.eq(b.selection))return!1;let W;if(m.selfScroll){let ce=f.coordsAtPos(b.selection.main.head),Ae=f.scrollDOM.getBoundingClientRect(),Me=Ae.top+m.marginTop,vt=Ae.bottom-m.marginBottom;ce&&ce.top>Me&&ce.bottom<vt&&(W=_.tk.scrollIntoView(P.main.head,{y:"start",yMargin:ce.top-Me}))}return f.dispatch(Mt(b,P),{effects:W}),!0}const Zr=f=>Er(f,!1),Ir=f=>Er(f,!0);function Rr(f,n,m){let b=f.lineBlockAt(n.head),P=f.moveToLineBoundary(n,m);if(P.head==n.head&&P.head!=(m?b.to:b.from)&&(P=f.moveToLineBoundary(n,m,!1)),!m&&P.head==b.from&&b.length){let W=/^\s*/.exec(f.state.sliceDoc(b.from,Math.min(b.from+100,b.to)))[0].length;W&&n.head!=b.from+W&&(P=O.jT.cursor(b.from+W))}return P}const Xr=f=>Qt(f,n=>Rr(f,n,!0)),fn=f=>Qt(f,n=>Rr(f,n,!1)),Nr=f=>Qt(f,n=>Rr(f,n,!Xt(f))),ln=f=>Qt(f,n=>Rr(f,n,Xt(f))),mn=f=>Qt(f,n=>O.jT.cursor(f.lineBlockAt(n.head).from,1)),vn=f=>Qt(f,n=>O.jT.cursor(f.lineBlockAt(n.head).to,-1));function gn(f,n,m){let b=!1,P=ct(f.selection,W=>{let ce=(0,D.Um)(f,W.head,-1)||(0,D.Um)(f,W.head,1)||W.head>0&&(0,D.Um)(f,W.head-1,1)||W.head<f.doc.length&&(0,D.Um)(f,W.head+1,-1);if(!ce||!ce.end)return W;b=!0;let Ae=ce.start.from==W.head?ce.end.to:ce.end.from;return m?O.jT.range(W.anchor,Ae):O.jT.cursor(Ae)});return b?(n(Mt(f,P)),!0):!1}const un=({state:f,dispatch:n})=>gn(f,n,!1),cn=({state:f,dispatch:n})=>gn(f,n,!0);function Yr(f,n){let m=ct(f.state.selection,b=>{let P=n(b);return O.jT.range(b.anchor,P.head,P.goalColumn,P.bidiLevel||void 0)});return m.eq(f.state.selection)?!1:(f.dispatch(Mt(f.state,m)),!0)}function yn(f,n){return Yr(f,m=>f.moveByChar(m,n))}const sn=f=>yn(f,!Xt(f)),Qr=f=>yn(f,Xt(f)),En=f=>yn(f,!0),bn=f=>yn(f,!1);function oi(f,n){return Yr(f,m=>f.moveByGroup(m,n))}const zi=f=>oi(f,!Xt(f)),Pe=f=>oi(f,Xt(f)),y=f=>oi(f,!0),T=f=>oi(f,!1);function V(f,n){return Yr(f,m=>yr(f,m,n))}const te=f=>V(f,!0),xe=f=>V(f,!1),be=f=>Yr(f,n=>Tr(f.state,n,!Xt(f))),Ke=f=>Yr(f,n=>Tr(f.state,n,Xt(f)));function je(f,n){return Yr(f,m=>f.moveVertically(m,n))}const Tt=f=>je(f,!1),jt=f=>je(f,!0);function Zt(f,n){return Yr(f,m=>f.moveVertically(m,n,_r(f).height))}const Pr=f=>Zt(f,!1),mr=f=>Zt(f,!0),On=f=>Yr(f,n=>Rr(f,n,!0)),Mn=f=>Yr(f,n=>Rr(f,n,!1)),zn=f=>Yr(f,n=>Rr(f,n,!Xt(f))),$i=f=>Yr(f,n=>Rr(f,n,Xt(f))),Ii=f=>Yr(f,n=>O.jT.cursor(f.lineBlockAt(n.head).from)),Cn=f=>Yr(f,n=>O.jT.cursor(f.lineBlockAt(n.head).to)),Bo=({state:f,dispatch:n})=>(n(Mt(f,{anchor:0})),!0),So=({state:f,dispatch:n})=>(n(Mt(f,{anchor:f.doc.length})),!0),ko=({state:f,dispatch:n})=>(n(Mt(f,{anchor:f.selection.main.anchor,head:0})),!0),$n=({state:f,dispatch:n})=>(n(Mt(f,{anchor:f.selection.main.anchor,head:f.doc.length})),!0),Ri=({state:f,dispatch:n})=>(n(f.update({selection:{anchor:0,head:f.doc.length},userEvent:"select"})),!0),Mo=({state:f,dispatch:n})=>{let m=si(f).map(({from:b,to:P})=>O.jT.range(b,Math.min(P+1,f.doc.length)));return n(f.update({selection:O.jT.create(m),userEvent:"select"})),!0},Ht=({state:f,dispatch:n})=>{let m=ct(f.selection,b=>{var P;let W=(0,D.qz)(f).resolveInner(b.head,1);for(;!(W.from<b.from&&W.to>=b.to||W.to>b.to&&W.from<=b.from||!(!((P=W.parent)===null||P===void 0)&&P.parent));)W=W.parent;return O.jT.range(W.to,W.from)});return n(Mt(f,m)),!0},Ee=({state:f,dispatch:n})=>{let m=f.selection,b=null;return m.ranges.length>1?b=O.jT.create([m.main]):m.main.empty||(b=O.jT.create([O.jT.cursor(m.main.head)])),b?(n(Mt(f,b)),!0):!1};function F(f,n){if(f.state.readOnly)return!1;let m="delete.selection",{state:b}=f,P=b.changeByRange(W=>{let{from:ce,to:Ae}=W;if(ce==Ae){let Me=n(ce);Me<ce?(m="delete.backward",Me=q(f,Me,!1)):Me>ce&&(m="delete.forward",Me=q(f,Me,!0)),ce=Math.min(ce,Me),Ae=Math.max(Ae,Me)}else ce=q(f,ce,!1),Ae=q(f,Ae,!0);return ce==Ae?{range:W}:{changes:{from:ce,to:Ae},range:O.jT.cursor(ce)}});return P.changes.empty?!1:(f.dispatch(b.update(P,{scrollIntoView:!0,userEvent:m,effects:m=="delete.selection"?_.tk.announce.of(b.phrase("Selection deleted")):void 0})),!0)}function q(f,n,m){if(f instanceof _.tk)for(let b of f.state.facet(_.tk.atomicRanges).map(P=>P(f)))b.between(n,n,(P,W)=>{P<n&&W>n&&(n=m?W:P)});return n}const _e=(f,n)=>F(f,m=>{let{state:b}=f,P=b.doc.lineAt(m),W,ce;if(!n&&m>P.from&&m<P.from+200&&!/[^ \t]/.test(W=P.text.slice(0,m-P.from))){if(W[W.length-1]=="	")return m-1;let Ae=(0,O.IS)(W,b.tabSize),Me=Ae%(0,D.y1)(b)||(0,D.y1)(b);for(let vt=0;vt<Me&&W[W.length-1-vt]==" ";vt++)m--;ce=m}else ce=(0,O.cp)(P.text,m-P.from,n,n)+P.from,ce==m&&P.number!=(n?b.doc.lines:1)&&(ce+=n?1:-1);return ce}),Fe=f=>_e(f,!1),st=f=>_e(f,!0),ht=(f,n)=>F(f,m=>{let b=m,{state:P}=f,W=P.doc.lineAt(b),ce=P.charCategorizer(b);for(let Ae=null;;){if(b==(n?W.to:W.from)){b==m&&W.number!=(n?P.doc.lines:1)&&(b+=n?1:-1);break}let Me=(0,O.cp)(W.text,b-W.from,n)+W.from,vt=W.text.slice(Math.min(b,Me)-W.from,Math.max(b,Me)-W.from),At=ce(vt);if(Ae!=null&&At!=Ae)break;(vt!=" "||b!=m)&&(Ae=At),b=Me}return b}),Wt=f=>ht(f,!1),Lt=f=>ht(f,!0),Lr=f=>F(f,n=>{let m=f.lineBlockAt(n).to;return n<m?m:Math.min(f.state.doc.length,n+1)}),Kr=f=>F(f,n=>{let m=f.lineBlockAt(n).from;return n>m?m:Math.max(0,n-1)}),In=({state:f,dispatch:n})=>{if(f.readOnly)return!1;let m=[];for(let b=0,P="",W=f.doc.iter();;){if(W.next(),W.lineBreak||W.done){let ce=P.search(/\s+$/);if(ce>-1&&m.push({from:b-(P.length-ce),to:b}),W.done)break;P=""}else P=W.value;b+=W.value.length}return m.length?(n(f.update({changes:m,userEvent:"delete"})),!0):!1},wi=({state:f,dispatch:n})=>{if(f.readOnly)return!1;let m=f.changeByRange(b=>({changes:{from:b.from,to:b.to,insert:O.xv.of(["",""])},range:O.jT.cursor(b.from)}));return n(f.update(m,{scrollIntoView:!0,userEvent:"input"})),!0},Ai=({state:f,dispatch:n})=>{if(f.readOnly)return!1;let m=f.changeByRange(b=>{if(!b.empty||b.from==0||b.from==f.doc.length)return{range:b};let P=b.from,W=f.doc.lineAt(P),ce=P==W.from?P-1:(0,O.cp)(W.text,P-W.from,!1)+W.from,Ae=P==W.to?P+1:(0,O.cp)(W.text,P-W.from,!0)+W.from;return{changes:{from:ce,to:Ae,insert:f.doc.slice(P,Ae).append(f.doc.slice(ce,P))},range:O.jT.cursor(Ae)}});return m.changes.empty?!1:(n(f.update(m,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function si(f){let n=[],m=-1;for(let b of f.selection.ranges){let P=f.doc.lineAt(b.from),W=f.doc.lineAt(b.to);if(!b.empty&&b.to==W.from&&(W=f.doc.lineAt(b.to-1)),m>=P.number){let ce=n[n.length-1];ce.to=W.to,ce.ranges.push(b)}else n.push({from:P.from,to:W.to,ranges:[b]});m=W.number+1}return n}function Si(f,n,m){if(f.readOnly)return!1;let b=[],P=[];for(let W of si(f)){if(m?W.to==f.doc.length:W.from==0)continue;let ce=f.doc.lineAt(m?W.to+1:W.from-1),Ae=ce.length+1;if(m){b.push({from:W.to,to:ce.to},{from:W.from,insert:ce.text+f.lineBreak});for(let Me of W.ranges)P.push(O.jT.range(Math.min(f.doc.length,Me.anchor+Ae),Math.min(f.doc.length,Me.head+Ae)))}else{b.push({from:ce.from,to:W.from},{from:W.to,insert:f.lineBreak+ce.text});for(let Me of W.ranges)P.push(O.jT.range(Me.anchor-Ae,Me.head-Ae))}}return b.length?(n(f.update({changes:b,scrollIntoView:!0,selection:O.jT.create(P,f.selection.mainIndex),userEvent:"move.line"})),!0):!1}const Hi=({state:f,dispatch:n})=>Si(f,n,!1),gs=({state:f,dispatch:n})=>Si(f,n,!0);function ts(f,n,m){if(f.readOnly)return!1;let b=[];for(let P of si(f))m?b.push({from:P.from,insert:f.doc.slice(P.from,P.to)+f.lineBreak}):b.push({from:P.to,insert:f.lineBreak+f.doc.slice(P.from,P.to)});return n(f.update({changes:b,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const va=({state:f,dispatch:n})=>ts(f,n,!1),Wo=({state:f,dispatch:n})=>ts(f,n,!0),Ks=f=>{if(f.state.readOnly)return!1;let{state:n}=f,m=n.changes(si(n).map(({from:P,to:W})=>(P>0?P--:W<n.doc.length&&W++,{from:P,to:W}))),b=ct(n.selection,P=>f.moveVertically(P,!0)).map(m);return f.dispatch({changes:m,selection:b,scrollIntoView:!0,userEvent:"delete.line"}),!0},gt=({state:f,dispatch:n})=>(n(f.update(f.replaceSelection(f.lineBreak),{scrollIntoView:!0,userEvent:"input"})),!0);function Je(f,n){if(/\(\)|\[\]|\{\}/.test(f.sliceDoc(n-1,n+1)))return{from:n,to:n};let m=(0,D.qz)(f).resolveInner(n),b=m.childBefore(n),P=m.childAfter(n),W;return b&&P&&b.to<=n&&P.from>=n&&(W=b.type.prop(N.md.closedBy))&&W.indexOf(P.name)>-1&&f.doc.lineAt(b.to).from==f.doc.lineAt(P.from).from?{from:b.to,to:P.from}:null}const Bt=nr(!1),Kt=nr(!0);function nr(f){return({state:n,dispatch:m})=>{if(n.readOnly)return!1;let b=n.changeByRange(P=>{let{from:W,to:ce}=P,Ae=n.doc.lineAt(W),Me=!f&&W==ce&&Je(n,W);f&&(W=ce=(ce<=Ae.to?Ae:n.doc.lineAt(ce)).to);let vt=new D.Gn(n,{simulateBreak:W,simulateDoubleBreak:!!Me}),At=(0,D.K0)(vt,W);for(At==null&&(At=/^\s*/.exec(n.doc.lineAt(W).text)[0].length);ce<Ae.to&&/\s/.test(Ae.text[ce-Ae.from]);)ce++;Me?{from:W,to:ce}=Me:W>Ae.from&&W<Ae.from+100&&!/\S/.test(Ae.text.slice(0,W))&&(W=Ae.from);let tr=["",(0,D.SS)(n,At)];return Me&&tr.push((0,D.SS)(n,vt.lineIndent(Ae.from,-1))),{changes:{from:W,to:ce,insert:O.xv.of(tr)},range:O.jT.cursor(W+1+tr[1].length)}});return m(n.update(b,{scrollIntoView:!0,userEvent:"input"})),!0}}function Ur(f,n){let m=-1;return f.changeByRange(b=>{let P=[];for(let ce=b.from;ce<=b.to;){let Ae=f.doc.lineAt(ce);Ae.number>m&&(b.empty||b.to>Ae.from)&&(n(Ae,P,b),m=Ae.number),ce=Ae.to+1}let W=f.changes(P);return{changes:P,range:O.jT.range(W.mapPos(b.anchor,1),W.mapPos(b.head,1))}})}const Fr=({state:f,dispatch:n})=>{if(f.readOnly)return!1;let m=Object.create(null),b=new D.Gn(f,{overrideIndentation:W=>{let ce=m[W];return ce==null?-1:ce}}),P=Ur(f,(W,ce,Ae)=>{let Me=(0,D.K0)(b,W.from);if(Me==null)return;/\S/.test(W.text)||(Me=0);let vt=/^\s*/.exec(W.text)[0],At=(0,D.SS)(f,Me);(vt!=At||Ae.from<W.from+vt.length)&&(m[W.from]=Me,ce.push({from:W.from,to:W.from+vt.length,insert:At}))});return P.changes.empty||n(f.update(P,{userEvent:"indent"})),!0},en=({state:f,dispatch:n})=>f.readOnly?!1:(n(f.update(Ur(f,(m,b)=>{b.push({from:m.from,insert:f.facet(D.c)})}),{userEvent:"input.indent"})),!0),ai=({state:f,dispatch:n})=>f.readOnly?!1:(n(f.update(Ur(f,(m,b)=>{let P=/^\s*/.exec(m.text)[0];if(!P)return;let W=(0,O.IS)(P,f.tabSize),ce=0,Ae=(0,D.SS)(f,Math.max(0,W-(0,D.y1)(f)));for(;ce<P.length&&ce<Ae.length&&P.charCodeAt(ce)==Ae.charCodeAt(ce);)ce++;b.push({from:m.from+ce,to:m.from+P.length,insert:Ae.slice(ce)})}),{userEvent:"delete.dedent"})),!0),Hn=({state:f,dispatch:n})=>f.selection.ranges.some(m=>!m.empty)?en({state:f,dispatch:n}):(n(f.update(f.replaceSelection("	"),{scrollIntoView:!0,userEvent:"input"})),!0),Yn=[{key:"Ctrl-b",run:ot,shift:sn,preventDefault:!0},{key:"Ctrl-f",run:Ct,shift:Qr},{key:"Ctrl-p",run:lr,shift:Tt},{key:"Ctrl-n",run:Sr,shift:jt},{key:"Ctrl-a",run:mn,shift:Ii},{key:"Ctrl-e",run:vn,shift:Cn},{key:"Ctrl-d",run:st},{key:"Ctrl-h",run:Fe},{key:"Ctrl-k",run:Lr},{key:"Ctrl-Alt-h",run:Wt},{key:"Ctrl-o",run:wi},{key:"Ctrl-t",run:Ai},{key:"Ctrl-v",run:Ir}],rn=[{key:"ArrowLeft",run:ot,shift:sn,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:xr,shift:zi,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:Nr,shift:zn,preventDefault:!0},{key:"ArrowRight",run:Ct,shift:Qr,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:ar,shift:Pe,preventDefault:!0},{mac:"Cmd-ArrowRight",run:ln,shift:$i,preventDefault:!0},{key:"ArrowUp",run:lr,shift:Tt,preventDefault:!0},{mac:"Cmd-ArrowUp",run:Bo,shift:ko},{mac:"Ctrl-ArrowUp",run:Zr,shift:Pr},{key:"ArrowDown",run:Sr,shift:jt,preventDefault:!0},{mac:"Cmd-ArrowDown",run:So,shift:$n},{mac:"Ctrl-ArrowDown",run:Ir,shift:mr},{key:"PageUp",run:Zr,shift:Pr},{key:"PageDown",run:Ir,shift:mr},{key:"Home",run:fn,shift:Mn,preventDefault:!0},{key:"Mod-Home",run:Bo,shift:ko},{key:"End",run:Xr,shift:On,preventDefault:!0},{key:"Mod-End",run:So,shift:$n},{key:"Enter",run:Bt},{key:"Mod-a",run:Ri},{key:"Backspace",run:Fe,shift:Fe},{key:"Delete",run:st},{key:"Mod-Backspace",mac:"Alt-Backspace",run:Wt},{key:"Mod-Delete",mac:"Alt-Delete",run:Lt},{mac:"Mod-Backspace",run:Kr},{mac:"Mod-Delete",run:Lr}].concat(Yn.map(f=>({mac:f.key,run:f.run,shift:f.shift}))),tn=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:Ne,shift:be},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:Gt,shift:Ke},{key:"Alt-ArrowUp",run:Hi},{key:"Shift-Alt-ArrowUp",run:va},{key:"Alt-ArrowDown",run:gs},{key:"Shift-Alt-ArrowDown",run:Wo},{key:"Escape",run:Ee},{key:"Mod-Enter",run:Kt},{key:"Alt-l",mac:"Ctrl-l",run:Mo},{key:"Mod-i",run:Ht,preventDefault:!0},{key:"Mod-[",run:ai},{key:"Mod-]",run:en},{key:"Mod-Alt-\\",run:Fr},{key:"Shift-Mod-k",run:Ks},{key:"Shift-Mod-\\",run:un},{key:"Mod-/",run:j},{key:"Alt-A",run:ne}].concat(rn),Zn={key:"Tab",run:en,shift:ai};function an(){var f=arguments[0];typeof f=="string"&&(f=document.createElement(f));var n=1,m=arguments[1];if(m&&typeof m=="object"&&m.nodeType==null&&!Array.isArray(m)){for(var b in m)if(Object.prototype.hasOwnProperty.call(m,b)){var P=m[b];typeof P=="string"?f.setAttribute(b,P):P!=null&&(f[b]=P)}n++}for(;n<arguments.length;n++)mi(f,arguments[n]);return f}function mi(f,n){if(typeof n=="string")f.appendChild(document.createTextNode(n));else if(n!=null)if(n.nodeType!=null)f.appendChild(n);else if(Array.isArray(n))for(var m=0;m<n.length;m++)mi(f,n[m]);else throw new RangeError("Unsupported child node: "+n)}const Pi=typeof String.prototype.normalize=="function"?f=>f.normalize("NFKD"):f=>f;class ji{constructor(n,m,b=0,P=n.length,W,ce){this.test=ce,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=n.iterRange(b,P),this.bufferStart=b,this.normalize=W?Ae=>W(Pi(Ae)):Pi,this.query=this.normalize(m)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return(0,O.gm)(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let n=this.peek();if(n<0)return this.done=!0,this;let m=(0,O.bg)(n),b=this.bufferStart+this.bufferPos;this.bufferPos+=(0,O.nZ)(n);let P=this.normalize(m);for(let W=0,ce=b;;W++){let Ae=P.charCodeAt(W),Me=this.match(Ae,ce);if(Me)return this.value=Me,this;if(W==P.length-1)break;ce==b&&W<m.length&&m.charCodeAt(W)==Ae&&ce++}}}match(n,m){let b=null;for(let P=0;P<this.matches.length;P+=2){let W=this.matches[P],ce=!1;this.query.charCodeAt(W)==n&&(W==this.query.length-1?b={from:this.matches[P+1],to:m+1}:(this.matches[P]++,ce=!0)),ce||(this.matches.splice(P,2),P-=2)}return this.query.charCodeAt(0)==n&&(this.query.length==1?b={from:m,to:m+1}:this.matches.push(1,m)),b&&this.test&&!this.test(b.from,b.to,this.buffer,this.bufferPos)&&(b=null),b}}typeof Symbol!="undefined"&&(ji.prototype[Symbol.iterator]=function(){return this});const qi={from:-1,to:-1,match:/.*/.exec("")},Xn="gm"+(/x/.unicode==null?"":"u");class _n{constructor(n,m,b,P=0,W=n.length){if(this.text=n,this.to=W,this.curLine="",this.done=!1,this.value=qi,/\\[sWDnr]|\n|\r|\[\^/.test(m))return new Zo(n,m,b,P,W);this.re=new RegExp(m,Xn+(b!=null&&b.ignoreCase?"i":"")),this.test=b==null?void 0:b.test,this.iter=n.iter();let ce=n.lineAt(P);this.curLineStart=ce.from,this.matchPos=ci(n,P),this.getLine(this.curLineStart)}getLine(n){this.iter.next(n),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let n=this.matchPos-this.curLineStart;;){this.re.lastIndex=n;let m=this.matchPos<=this.to&&this.re.exec(this.curLine);if(m){let b=this.curLineStart+m.index,P=b+m[0].length;if(this.matchPos=ci(this.text,P+(b==P?1:0)),b==this.curLineStart+this.curLine.length&&this.nextLine(),(b<P||b>this.value.to)&&(!this.test||this.test(b,P,m)))return this.value={from:b,to:P,match:m},this;n=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),n=0;else return this.done=!0,this}}}const Fi=new WeakMap;class An{constructor(n,m){this.from=n,this.text=m}get to(){return this.from+this.text.length}static get(n,m,b){let P=Fi.get(n);if(!P||P.from>=b||P.to<=m){let Ae=new An(m,n.sliceString(m,b));return Fi.set(n,Ae),Ae}if(P.from==m&&P.to==b)return P;let{text:W,from:ce}=P;return ce>m&&(W=n.sliceString(m,ce)+W,ce=m),P.to<b&&(W+=n.sliceString(P.to,b)),Fi.set(n,new An(ce,W)),new An(m,W.slice(m-ce,b-ce))}}class Zo{constructor(n,m,b,P,W){this.text=n,this.to=W,this.done=!1,this.value=qi,this.matchPos=ci(n,P),this.re=new RegExp(m,Xn+(b!=null&&b.ignoreCase?"i":"")),this.test=b==null?void 0:b.test,this.flat=An.get(n,P,this.chunkEnd(P+5e3))}chunkEnd(n){return n>=this.to?this.to:this.text.lineAt(n).to}next(){for(;;){let n=this.re.lastIndex=this.matchPos-this.flat.from,m=this.re.exec(this.flat.text);if(m&&!m[0]&&m.index==n&&(this.re.lastIndex=n+1,m=this.re.exec(this.flat.text)),m){let b=this.flat.from+m.index,P=b+m[0].length;if((this.flat.to>=this.to||m.index+m[0].length<=this.flat.text.length-10)&&(!this.test||this.test(b,P,m)))return this.value={from:b,to:P,match:m},this.matchPos=ci(this.text,P+(b==P?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=An.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol!="undefined"&&(_n.prototype[Symbol.iterator]=Zo.prototype[Symbol.iterator]=function(){return this});function Ji(f){try{return new RegExp(f,Xn),!0}catch{return!1}}function ci(f,n){if(n>=f.length)return n;let m=f.lineAt(n),b;for(;n<m.to&&(b=m.text.charCodeAt(n-m.from))>=56320&&b<57344;)n++;return n}function Eo(f){let n=an("input",{class:"cm-textfield",name:"line"}),m=an("form",{class:"cm-gotoLine",onkeydown:P=>{P.keyCode==27?(P.preventDefault(),f.dispatch({effects:wo.of(!1)}),f.focus()):P.keyCode==13&&(P.preventDefault(),b())},onsubmit:P=>{P.preventDefault(),b()}},an("label",f.state.phrase("Go to line"),": ",n)," ",an("button",{class:"cm-button",type:"submit"},f.state.phrase("go")));function b(){let P=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(n.value);if(!P)return;let{state:W}=f,ce=W.doc.lineAt(W.selection.main.head),[,Ae,Me,vt,At]=P,tr=vt?+vt.slice(1):0,Gr=Me?+Me:ce.number;if(Me&&At){let Wi=Gr/100;Ae&&(Wi=Wi*(Ae=="-"?-1:1)+ce.number/W.doc.lines),Gr=Math.round(W.doc.lines*Wi)}else Me&&Ae&&(Gr=Gr*(Ae=="-"?-1:1)+ce.number);let Nn=W.doc.line(Math.max(1,Math.min(W.doc.lines,Gr)));f.dispatch({effects:wo.of(!1),selection:O.jT.cursor(Nn.from+Math.max(0,Math.min(tr,Nn.length))),scrollIntoView:!0}),f.focus()}return{dom:m}}const wo=O.Py.define(),$o=O.QQ.define({create(){return!0},update(f,n){for(let m of n.effects)m.is(wo)&&(f=m.value);return f},provide:f=>_.mH.from(f,n=>n?Eo:null)}),fi=f=>{let n=(0,_.Sd)(f,Eo);if(!n){let m=[wo.of(!0)];f.state.field($o,!1)==null&&m.push(O.Py.appendConfig.of([$o,no])),f.dispatch({effects:m}),n=(0,_.Sd)(f,Eo)}return n&&n.dom.querySelector("input").focus(),!0},no=_.tk.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),Ti={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},mo=O.r$.define({combine(f){return(0,O.BO)(f,Ti,{highlightWordAroundCursor:(n,m)=>n||m,minSelectionLength:Math.min,maxMatches:Math.min})}});function Io(f){let n=[Ro,Dn];return f&&n.push(mo.of(f)),n}const ao=_.p.mark({class:"cm-selectionMatch"}),As=_.p.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function zs(f,n,m,b){return(m==0||f(n.sliceDoc(m-1,m))!=O.D0.Word)&&(b==n.doc.length||f(n.sliceDoc(b,b+1))!=O.D0.Word)}function ys(f,n,m,b){return f(n.sliceDoc(m,m+1))==O.D0.Word&&f(n.sliceDoc(b-1,b))==O.D0.Word}const Dn=_.lg.fromClass(class{constructor(f){this.decorations=this.getDeco(f)}update(f){(f.selectionSet||f.docChanged||f.viewportChanged)&&(this.decorations=this.getDeco(f.view))}getDeco(f){let n=f.state.facet(mo),{state:m}=f,b=m.selection;if(b.ranges.length>1)return _.p.none;let P=b.main,W,ce=null;if(P.empty){if(!n.highlightWordAroundCursor)return _.p.none;let Me=m.wordAt(P.head);if(!Me)return _.p.none;ce=m.charCategorizer(P.head),W=m.sliceDoc(Me.from,Me.to)}else{let Me=P.to-P.from;if(Me<n.minSelectionLength||Me>200)return _.p.none;if(n.wholeWords){if(W=m.sliceDoc(P.from,P.to),ce=m.charCategorizer(P.head),!(zs(ce,m,P.from,P.to)&&ys(ce,m,P.from,P.to)))return _.p.none}else if(W=m.sliceDoc(P.from,P.to).trim(),!W)return _.p.none}let Ae=[];for(let Me of f.visibleRanges){let vt=new ji(m.doc,W,Me.from,Me.to);for(;!vt.next().done;){let{from:At,to:tr}=vt.value;if((!ce||zs(ce,m,At,tr))&&(P.empty&&At<=P.from&&tr>=P.to?Ae.push(As.range(At,tr)):(At>=P.to||tr<=P.from)&&Ae.push(ao.range(At,tr)),Ae.length>n.maxMatches))return _.p.none}}return _.p.set(Ae)}},{decorations:f=>f.decorations}),Ro=_.tk.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),Gi=({state:f,dispatch:n})=>{let{selection:m}=f,b=O.jT.create(m.ranges.map(P=>f.wordAt(P.head)||O.jT.cursor(P.head)),m.mainIndex);return b.eq(m)?!1:(n(f.update({selection:b})),!0)};function Uo(f,n){let{main:m,ranges:b}=f.selection,P=f.wordAt(m.head),W=P&&P.from==m.from&&P.to==m.to;for(let ce=!1,Ae=new ji(f.doc,n,b[b.length-1].to);;)if(Ae.next(),Ae.done){if(ce)return null;Ae=new ji(f.doc,n,0,Math.max(0,b[b.length-1].from-1)),ce=!0}else{if(ce&&b.some(Me=>Me.from==Ae.value.from))continue;if(W){let Me=f.wordAt(Ae.value.from);if(!Me||Me.from!=Ae.value.from||Me.to!=Ae.value.to)continue}return Ae.value}}const eo=({state:f,dispatch:n})=>{let{ranges:m}=f.selection;if(m.some(W=>W.from===W.to))return Gi({state:f,dispatch:n});let b=f.sliceDoc(m[0].from,m[0].to);if(f.selection.ranges.some(W=>f.sliceDoc(W.from,W.to)!=b))return!1;let P=Uo(f,b);return P?(n(f.update({selection:f.selection.addRange(O.jT.range(P.from,P.to),!1),effects:_.tk.scrollIntoView(P.to)})),!0):!1},dn=O.r$.define({combine(f){return(0,O.BO)(f,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:n=>new bt(n),scrollToMatch:n=>_.tk.scrollIntoView(n)})}});function Ps(f){return f?[dn.of(f),gr]:gr}class _i{constructor(n){this.search=n.search,this.caseSensitive=!!n.caseSensitive,this.literal=!!n.literal,this.regexp=!!n.regexp,this.replace=n.replace||"",this.valid=!!this.search&&(!this.regexp||Ji(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!n.wholeWord}unquote(n){return this.literal?n:n.replace(/\\([nrt\\])/g,(m,b)=>b=="n"?`
`:b=="r"?"\r":b=="t"?"	":"\\")}eq(n){return this.search==n.search&&this.replace==n.replace&&this.caseSensitive==n.caseSensitive&&this.regexp==n.regexp&&this.wholeWord==n.wholeWord}create(){return this.regexp?new Ko(this):new Oo(this)}getCursor(n,m=0,b){let P=n.doc?n:O.yy.create({doc:n});return b==null&&(b=P.doc.length),this.regexp?Un(this,P,m,b):gi(this,P,m,b)}}class Vo{constructor(n){this.spec=n}}function gi(f,n,m,b){return new ji(n.doc,f.unquoted,m,b,f.caseSensitive?void 0:P=>P.toLowerCase(),f.wholeWord?Bn(n.doc,n.charCategorizer(n.selection.main.head)):void 0)}function Bn(f,n){return(m,b,P,W)=>((W>m||W+P.length<b)&&(W=Math.max(0,m-2),P=f.sliceString(W,Math.min(f.length,b+2))),(n(Oi(P,m-W))!=O.D0.Word||n(pi(P,m-W))!=O.D0.Word)&&(n(pi(P,b-W))!=O.D0.Word||n(Oi(P,b-W))!=O.D0.Word))}class Oo extends Vo{constructor(n){super(n)}nextMatch(n,m,b){let P=gi(this.spec,n,b,n.doc.length).nextOverlapping();return P.done&&(P=gi(this.spec,n,0,m).nextOverlapping()),P.done?null:P.value}prevMatchInRange(n,m,b){for(let P=b;;){let W=Math.max(m,P-1e4-this.spec.unquoted.length),ce=gi(this.spec,n,W,P),Ae=null;for(;!ce.nextOverlapping().done;)Ae=ce.value;if(Ae)return Ae;if(W==m)return null;P-=1e4}}prevMatch(n,m,b){return this.prevMatchInRange(n,0,m)||this.prevMatchInRange(n,b,n.doc.length)}getReplacement(n){return this.spec.unquote(this.spec.replace)}matchAll(n,m){let b=gi(this.spec,n,0,n.doc.length),P=[];for(;!b.next().done;){if(P.length>=m)return null;P.push(b.value)}return P}highlight(n,m,b,P){let W=gi(this.spec,n,Math.max(0,m-this.spec.unquoted.length),Math.min(b+this.spec.unquoted.length,n.doc.length));for(;!W.next().done;)P(W.value.from,W.value.to)}}function Un(f,n,m,b){return new _n(n.doc,f.search,{ignoreCase:!f.caseSensitive,test:f.wholeWord?li(n.charCategorizer(n.selection.main.head)):void 0},m,b)}function Oi(f,n){return f.slice((0,O.cp)(f,n,!1),n)}function pi(f,n){return f.slice(n,(0,O.cp)(f,n))}function li(f){return(n,m,b)=>!b[0].length||(f(Oi(b.input,b.index))!=O.D0.Word||f(pi(b.input,b.index))!=O.D0.Word)&&(f(pi(b.input,b.index+b[0].length))!=O.D0.Word||f(Oi(b.input,b.index+b[0].length))!=O.D0.Word)}class Ko extends Vo{nextMatch(n,m,b){let P=Un(this.spec,n,b,n.doc.length).next();return P.done&&(P=Un(this.spec,n,0,m).next()),P.done?null:P.value}prevMatchInRange(n,m,b){for(let P=1;;P++){let W=Math.max(m,b-P*1e4),ce=Un(this.spec,n,W,b),Ae=null;for(;!ce.next().done;)Ae=ce.value;if(Ae&&(W==m||Ae.from>W+10))return Ae;if(W==m)return null}}prevMatch(n,m,b){return this.prevMatchInRange(n,0,m)||this.prevMatchInRange(n,b,n.doc.length)}getReplacement(n){return this.spec.unquote(this.spec.replace.replace(/\$([$&\d+])/g,(m,b)=>b=="$"?"$":b=="&"?n.match[0]:b!="0"&&+b<n.match.length?n.match[b]:m))}matchAll(n,m){let b=Un(this.spec,n,0,n.doc.length),P=[];for(;!b.next().done;){if(P.length>=m)return null;P.push(b.value)}return P}highlight(n,m,b,P){let W=Un(this.spec,n,Math.max(0,m-250),Math.min(b+250,n.doc.length));for(;!W.next().done;)P(W.value.from,W.value.to)}}const po=O.Py.define(),vs=O.Py.define(),ei=O.QQ.define({create(f){return new Ni(Fn(f).create(),null)},update(f,n){for(let m of n.effects)m.is(po)?f=new Ni(m.value.create(),f.panel):m.is(vs)&&(f=new Ni(f.query,m.value?Hs:null));return f},provide:f=>_.mH.from(f,n=>n.panel)});function io(f){let n=f.field(ei,!1);return n?n.query.spec:Fn(f)}function lo(f){var n;return((n=f.field(ei,!1))===null||n===void 0?void 0:n.panel)!=null}class Ni{constructor(n,m){this.query=n,this.panel=m}}const Fo=_.p.mark({class:"cm-searchMatch"}),Ei=_.p.mark({class:"cm-searchMatch cm-searchMatch-selected"}),bs=_.lg.fromClass(class{constructor(f){this.view=f,this.decorations=this.highlight(f.state.field(ei))}update(f){let n=f.state.field(ei);(n!=f.startState.field(ei)||f.docChanged||f.selectionSet||f.viewportChanged)&&(this.decorations=this.highlight(n))}highlight({query:f,panel:n}){if(!n||!f.spec.valid)return _.p.none;let{view:m}=this,b=new O.f_;for(let P=0,W=m.visibleRanges,ce=W.length;P<ce;P++){let{from:Ae,to:Me}=W[P];for(;P<ce-1&&Me>W[P+1].from-2*250;)Me=W[++P].to;f.highlight(m.state,Ae,Me,(vt,At)=>{let tr=m.state.selection.ranges.some(Gr=>Gr.from==vt&&Gr.to==At);b.add(vt,At,tr?Ei:Fo)})}return b.finish()}},{decorations:f=>f.decorations});function xo(f){return n=>{let m=n.state.field(ei,!1);return m&&m.query.spec.valid?f(n,m):os(n)}}const Jn=xo((f,{query:n})=>{let{to:m}=f.state.selection.main,b=n.nextMatch(f.state,m,m);if(!b)return!1;let P=O.jT.single(b.from,b.to),W=f.state.facet(dn);return f.dispatch({selection:P,effects:[zr(f,b),W.scrollToMatch(P.main,f)],userEvent:"select.search"}),is(f),!0}),Di=xo((f,{query:n})=>{let{state:m}=f,{from:b}=m.selection.main,P=n.prevMatch(m,b,b);if(!P)return!1;let W=O.jT.single(P.from,P.to),ce=f.state.facet(dn);return f.dispatch({selection:W,effects:[zr(f,P),ce.scrollToMatch(W.main,f)],userEvent:"select.search"}),is(f),!0}),kr=xo((f,{query:n})=>{let m=n.matchAll(f.state,1e3);return!m||!m.length?!1:(f.dispatch({selection:O.jT.create(m.map(b=>O.jT.range(b.from,b.to))),userEvent:"select.search.matches"}),!0)}),Qn=({state:f,dispatch:n})=>{let m=f.selection;if(m.ranges.length>1||m.main.empty)return!1;let{from:b,to:P}=m.main,W=[],ce=0;for(let Ae=new ji(f.doc,f.sliceDoc(b,P));!Ae.next().done;){if(W.length>1e3)return!1;Ae.value.from==b&&(ce=W.length),W.push(O.jT.range(Ae.value.from,Ae.value.to))}return n(f.update({selection:O.jT.create(W,ce),userEvent:"select.search.matches"})),!0},go=xo((f,{query:n})=>{let{state:m}=f,{from:b,to:P}=m.selection.main;if(m.readOnly)return!1;let W=n.nextMatch(m,b,b);if(!W)return!1;let ce=[],Ae,Me,vt=[];if(W.from==b&&W.to==P&&(Me=m.toText(n.getReplacement(W)),ce.push({from:W.from,to:W.to,insert:Me}),W=n.nextMatch(m,W.from,W.to),vt.push(_.tk.announce.of(m.phrase("replaced match on line $",m.doc.lineAt(b).number)+"."))),W){let At=ce.length==0||ce[0].from>=W.to?0:W.to-W.from-Me.length;Ae=O.jT.single(W.from-At,W.to-At),vt.push(zr(f,W)),vt.push(m.facet(dn).scrollToMatch(Ae.main,f))}return f.dispatch({changes:ce,selection:Ae,effects:vt,userEvent:"input.replace"}),!0}),rs=xo((f,{query:n})=>{if(f.state.readOnly)return!1;let m=n.matchAll(f.state,1e9).map(P=>{let{from:W,to:ce}=P;return{from:W,to:ce,insert:n.getReplacement(P)}});if(!m.length)return!1;let b=f.state.phrase("replaced $ matches",m.length)+".";return f.dispatch({changes:m,effects:_.tk.announce.of(b),userEvent:"input.replace.all"}),!0});function Hs(f){return f.state.facet(dn).createPanel(f)}function Fn(f,n){var m,b,P,W,ce;let Ae=f.selection.main,Me=Ae.empty||Ae.to>Ae.from+100?"":f.sliceDoc(Ae.from,Ae.to);if(n&&!Me)return n;let vt=f.facet(dn);return new _i({search:((m=n==null?void 0:n.literal)!==null&&m!==void 0?m:vt.literal)?Me:Me.replace(/\n/g,"\\n"),caseSensitive:(b=n==null?void 0:n.caseSensitive)!==null&&b!==void 0?b:vt.caseSensitive,literal:(P=n==null?void 0:n.literal)!==null&&P!==void 0?P:vt.literal,regexp:(W=n==null?void 0:n.regexp)!==null&&W!==void 0?W:vt.regexp,wholeWord:(ce=n==null?void 0:n.wholeWord)!==null&&ce!==void 0?ce:vt.wholeWord})}function ns(f){let n=(0,_.Sd)(f,Hs);return n&&n.dom.querySelector("[main-field]")}function is(f){let n=ns(f);n&&n==f.root.activeElement&&n.select()}const os=f=>{let n=f.state.field(ei,!1);if(n&&n.panel){let m=ns(f);if(m&&m!=f.root.activeElement){let b=Fn(f.state,n.query.spec);b.valid&&f.dispatch({effects:po.of(b)}),m.focus(),m.select()}}else f.dispatch({effects:[vs.of(!0),n?po.of(Fn(f.state,n.query.spec)):O.Py.appendConfig.of(gr)]});return!0},Ts=f=>{let n=f.state.field(ei,!1);if(!n||!n.panel)return!1;let m=(0,_.Sd)(f,Hs);return m&&m.dom.contains(f.root.activeElement)&&f.focus(),f.dispatch({effects:vs.of(!1)}),!0},_s=[{key:"Mod-f",run:os,scope:"editor search-panel"},{key:"F3",run:Jn,shift:Di,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:Jn,shift:Di,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:Ts,scope:"editor search-panel"},{key:"Mod-Shift-l",run:Qn},{key:"Alt-g",run:fi},{key:"Mod-d",run:eo,preventDefault:!0}];class bt{constructor(n){this.view=n;let m=this.query=n.state.field(ei).query.spec;this.commit=this.commit.bind(this),this.searchField=an("input",{value:m.search,placeholder:at(n,"Find"),"aria-label":at(n,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=an("input",{value:m.replace,placeholder:at(n,"Replace"),"aria-label":at(n,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=an("input",{type:"checkbox",name:"case",form:"",checked:m.caseSensitive,onchange:this.commit}),this.reField=an("input",{type:"checkbox",name:"re",form:"",checked:m.regexp,onchange:this.commit}),this.wordField=an("input",{type:"checkbox",name:"word",form:"",checked:m.wholeWord,onchange:this.commit});function b(P,W,ce){return an("button",{class:"cm-button",name:P,onclick:W,type:"button"},ce)}this.dom=an("div",{onkeydown:P=>this.keydown(P),class:"cm-search"},[this.searchField,b("next",()=>Jn(n),[at(n,"next")]),b("prev",()=>Di(n),[at(n,"previous")]),b("select",()=>kr(n),[at(n,"all")]),an("label",null,[this.caseField,at(n,"match case")]),an("label",null,[this.reField,at(n,"regexp")]),an("label",null,[this.wordField,at(n,"by word")]),...n.state.readOnly?[]:[an("br"),this.replaceField,b("replace",()=>go(n),[at(n,"replace")]),b("replaceAll",()=>rs(n),[at(n,"replace all")])],an("button",{name:"close",onclick:()=>Ts(n),"aria-label":at(n,"close"),type:"button"},["\xD7"])])}commit(){let n=new _i({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});n.eq(this.query)||(this.query=n,this.view.dispatch({effects:po.of(n)}))}keydown(n){(0,_.$1)(this.view,n,"search-panel")?n.preventDefault():n.keyCode==13&&n.target==this.searchField?(n.preventDefault(),(n.shiftKey?Di:Jn)(this.view)):n.keyCode==13&&n.target==this.replaceField&&(n.preventDefault(),go(this.view))}update(n){for(let m of n.transactions)for(let b of m.effects)b.is(po)&&!b.value.eq(this.query)&&this.setQuery(b.value)}setQuery(n){this.query=n,this.searchField.value=n.search,this.replaceField.value=n.replace,this.caseField.checked=n.caseSensitive,this.reField.checked=n.regexp,this.wordField.checked=n.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(dn).top}}function at(f,n){return f.state.phrase(n)}const Zi=30,Li=/[\s\.,:;?!]/;function zr(f,{from:n,to:m}){let b=f.state.doc.lineAt(n),P=f.state.doc.lineAt(m).to,W=Math.max(b.from,n-Zi),ce=Math.min(P,m+Zi),Ae=f.state.sliceDoc(W,ce);if(W!=b.from){for(let Me=0;Me<Zi;Me++)if(!Li.test(Ae[Me+1])&&Li.test(Ae[Me])){Ae=Ae.slice(Me);break}}if(ce!=P){for(let Me=Ae.length-1;Me>Ae.length-Zi;Me--)if(!Li.test(Ae[Me-1])&&Li.test(Ae[Me])){Ae=Ae.slice(0,Me);break}}return _.tk.announce.of(`${f.state.phrase("current match")}. ${Ae} ${f.state.phrase("on line")} ${b.number}.`)}const wr=_.tk.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),gr=[ei,O.Wl.lowest(bs),wr];class Hr{constructor(n,m,b){this.state=n,this.pos=m,this.explicit=b,this.abortListeners=[]}tokenBefore(n){let m=(0,D.qz)(this.state).resolveInner(this.pos,-1);for(;m&&n.indexOf(m.name)<0;)m=m.parent;return m?{from:m.from,to:this.pos,text:this.state.sliceDoc(m.from,this.pos),type:m.type}:null}matchBefore(n){let m=this.state.doc.lineAt(this.pos),b=Math.max(m.from,this.pos-250),P=m.text.slice(b-m.from,this.pos-m.from),W=P.search(Ds(n,!1));return W<0?null:{from:b+W,to:this.pos,text:P.slice(W)}}get aborted(){return this.abortListeners==null}addEventListener(n,m){n=="abort"&&this.abortListeners&&this.abortListeners.push(m)}}function wn(f){let n=Object.keys(f).join(""),m=/\w/.test(n);return m&&(n=n.replace(/\w/g,"")),`[${m?"\\w":""}${n.replace(/[^\w\s]/g,"\\$&")}]`}function xn(f){let n=Object.create(null),m=Object.create(null);for(let{label:P}of f){n[P[0]]=!0;for(let W=1;W<P.length;W++)m[P[W]]=!0}let b=wn(n)+wn(m)+"*$";return[new RegExp("^"+b),new RegExp(b)]}function di(f){let n=f.map(P=>typeof P=="string"?{label:P}:P),[m,b]=n.every(P=>/^\w+$/.test(P.label))?[/\w*$/,/\w+$/]:xn(n);return P=>{let W=P.matchBefore(b);return W||P.explicit?{from:W?W.from:P.pos,options:n,validFor:m}:null}}function yi(f,n){return m=>{for(let b=syntaxTree(m.state).resolveInner(m.pos,-1);b;b=b.parent){if(f.indexOf(b.name)>-1)return n(m);if(b.type.isTop)break}return null}}function yo(f,n){return m=>{for(let b=syntaxTree(m.state).resolveInner(m.pos,-1);b;b=b.parent){if(f.indexOf(b.name)>-1)return null;if(b.type.isTop)break}return n(m)}}class jn{constructor(n,m,b,P){this.completion=n,this.source=m,this.match=b,this.score=P}}function Vn(f){return f.selection.main.from}function Ds(f,n){var m;let{source:b}=f,P=n&&b[0]!="^",W=b[b.length-1]!="$";return!P&&!W?f:new RegExp(`${P?"^":""}(?:${b})${W?"$":""}`,(m=f.flags)!==null&&m!==void 0?m:f.ignoreCase?"i":"")}const Js=O.q6.define();function zo(f,n,m,b){let{main:P}=f.selection,W=m-P.from,ce=b-P.from;return Object.assign(Object.assign({},f.changeByRange(Ae=>Ae!=P&&m!=b&&f.sliceDoc(Ae.from+W,Ae.from+ce)!=f.sliceDoc(m,b)?{range:Ae}:{changes:{from:Ae.from+W,to:b==P.from?Ae.to:Ae.from+ce,insert:n},range:O.jT.cursor(Ae.from+W+n.length)})),{userEvent:"input.complete"})}const ks=new WeakMap;function qa(f){if(!Array.isArray(f))return f;let n=ks.get(f);return n||ks.set(f,n=di(f)),n}const Gs=O.Py.define(),jo=O.Py.define();class vo{constructor(n){this.pattern=n,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[];for(let m=0;m<n.length;){let b=(0,O.gm)(n,m),P=(0,O.nZ)(b);this.chars.push(b);let W=n.slice(m,m+P),ce=W.toUpperCase();this.folded.push((0,O.gm)(ce==W?W.toLowerCase():ce,0)),m+=P}this.astral=n.length!=this.chars.length}match(n){if(this.pattern.length==0)return[-100];if(n.length<this.pattern.length)return null;let{chars:m,folded:b,any:P,precise:W,byWord:ce}=this;if(m.length==1){let Vi=(0,O.gm)(n,0),ma=(0,O.nZ)(Vi),ms=ma==n.length?0:-100;if(Vi!=m[0])if(Vi==b[0])ms+=-200;else return null;return[ms,0,ma]}let Ae=n.indexOf(this.pattern);if(Ae==0)return[n.length==this.pattern.length?0:-100,0,this.pattern.length];let Me=m.length,vt=0;if(Ae<0){for(let Vi=0,ma=Math.min(n.length,200);Vi<ma&&vt<Me;){let ms=(0,O.gm)(n,Vi);(ms==m[vt]||ms==b[vt])&&(P[vt++]=Vi),Vi+=(0,O.nZ)(ms)}if(vt<Me)return null}let At=0,tr=0,Gr=!1,Nn=0,Wi=-1,aa=-1,nl=/[a-z]/.test(n),Xa=!0;for(let Vi=0,ma=Math.min(n.length,200),ms=0;Vi<ma&&tr<Me;){let Po=(0,O.gm)(n,Vi);Ae<0&&(At<Me&&Po==m[At]&&(W[At++]=Vi),Nn<Me&&(Po==m[Nn]||Po==b[Nn]?(Nn==0&&(Wi=Vi),aa=Vi+1,Nn++):Nn=0));let Aa,Pa=Po<255?Po>=48&&Po<=57||Po>=97&&Po<=122?2:Po>=65&&Po<=90?1:0:(Aa=(0,O.bg)(Po))!=Aa.toLowerCase()?1:Aa!=Aa.toUpperCase()?2:0;(!Vi||Pa==1&&nl||ms==0&&Pa!=0)&&(m[tr]==Po||b[tr]==Po&&(Gr=!0)?ce[tr++]=Vi:ce.length&&(Xa=!1)),ms=Pa,Vi+=(0,O.nZ)(Po)}return tr==Me&&ce[0]==0&&Xa?this.result(-100+(Gr?-200:0),ce,n):Nn==Me&&Wi==0?[-200-n.length+(aa==n.length?0:-100),0,aa]:Ae>-1?[-700-n.length,Ae,Ae+this.pattern.length]:Nn==Me?[-200+-700-n.length,Wi,aa]:tr==Me?this.result(-100+(Gr?-200:0)+-700+(Xa?0:-1100),ce,n):m.length==2?null:this.result((P[0]?-700:0)+-200+-1100,P,n)}result(n,m,b){let P=[n-b.length],W=1;for(let ce of m){let Ae=ce+(this.astral?(0,O.nZ)((0,O.gm)(b,ce)):1);W>1&&P[W-1]==ce?P[W-1]=Ae:(P[W++]=ce,P[W++]=Ae)}return P}}const to=O.r$.define({combine(f){return(0,O.BO)(f,{activateOnTyping:!0,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:Ys,compareCompletions:(n,m)=>n.label.localeCompare(m.label),interactionDelay:75},{defaultKeymap:(n,m)=>n&&m,closeOnBlur:(n,m)=>n&&m,icons:(n,m)=>n&&m,tooltipClass:(n,m)=>b=>ss(n(b),m(b)),optionClass:(n,m)=>b=>ss(n(b),m(b)),addToOptions:(n,m)=>n.concat(m)})}});function ss(f,n){return f?n?f+" "+n:f:n}function Ys(f,n,m,b,P){let W=f.textDirection==_.Nm.RTL,ce=W,Ae=!1,Me="top",vt,At,tr=n.left-P.left,Gr=P.right-n.right,Nn=b.right-b.left,Wi=b.bottom-b.top;if(ce&&tr<Math.min(Nn,Gr)?ce=!1:!ce&&Gr<Math.min(Nn,tr)&&(ce=!0),Nn<=(ce?tr:Gr))vt=Math.max(P.top,Math.min(m.top,P.bottom-Wi))-n.top,At=Math.min(400,ce?tr:Gr);else{Ae=!0,At=Math.min(400,(W?n.right:P.right-n.left)-30);let aa=P.bottom-n.bottom;aa>=Wi||aa>n.top?vt=m.bottom-n.top:(Me="bottom",vt=n.bottom-m.top)}return{style:`${Me}: ${vt}px; max-width: ${At}px`,class:"cm-completionInfo-"+(Ae?W?"left-narrow":"right-narrow":ce?"left":"right")}}function Ss(f){let n=f.addToOptions.slice();return f.icons&&n.push({render(m){let b=document.createElement("div");return b.classList.add("cm-completionIcon"),m.type&&b.classList.add(...m.type.split(/\s+/g).map(P=>"cm-completionIcon-"+P)),b.setAttribute("aria-hidden","true"),b},position:20}),n.push({render(m,b,P){let W=document.createElement("span");W.className="cm-completionLabel";let{label:ce}=m,Ae=0;for(let Me=1;Me<P.length;){let vt=P[Me++],At=P[Me++];vt>Ae&&W.appendChild(document.createTextNode(ce.slice(Ae,vt)));let tr=W.appendChild(document.createElement("span"));tr.appendChild(document.createTextNode(ce.slice(vt,At))),tr.className="cm-completionMatchedText",Ae=At}return Ae<ce.length&&W.appendChild(document.createTextNode(ce.slice(Ae))),W},position:50},{render(m){if(!m.detail)return null;let b=document.createElement("span");return b.className="cm-completionDetail",b.textContent=m.detail,b},position:80}),n.sort((m,b)=>m.position-b.position).map(m=>m.render)}function Ta(f,n,m){if(f<=m)return{from:0,to:f};if(n<0&&(n=0),n<=f>>1){let P=Math.floor(n/m);return{from:P*m,to:(P+1)*m}}let b=Math.floor((f-n)/m);return{from:f-(b+1)*m,to:f-b*m}}class _a{constructor(n,m,b){this.view=n,this.stateField=m,this.applyCompletion=b,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:Me=>this.placeInfo(Me),key:this},this.space=null,this.currentClass="";let P=n.state.field(m),{options:W,selected:ce}=P.open,Ae=n.state.facet(to);this.optionContent=Ss(Ae),this.optionClass=Ae.optionClass,this.tooltipClass=Ae.tooltipClass,this.range=Ta(W.length,ce,Ae.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(n.state),this.dom.addEventListener("mousedown",Me=>{for(let vt=Me.target,At;vt&&vt!=this.dom;vt=vt.parentNode)if(vt.nodeName=="LI"&&(At=/-(\d+)$/.exec(vt.id))&&+At[1]<W.length){this.applyCompletion(n,W[+At[1]]),Me.preventDefault();return}}),this.dom.addEventListener("focusout",Me=>{let vt=n.state.field(this.stateField,!1);vt&&vt.tooltip&&n.state.facet(to).closeOnBlur&&Me.relatedTarget!=n.contentDOM&&n.dispatch({effects:jo.of(null)})}),this.list=this.dom.appendChild(this.createListBox(W,P.id,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}mount(){this.updateSel()}update(n){var m,b,P;let W=n.state.field(this.stateField),ce=n.startState.field(this.stateField);this.updateTooltipClass(n.state),W!=ce&&(this.updateSel(),((m=W.open)===null||m===void 0?void 0:m.disabled)!=((b=ce.open)===null||b===void 0?void 0:b.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!(!((P=W.open)===null||P===void 0)&&P.disabled)))}updateTooltipClass(n){let m=this.tooltipClass(n);if(m!=this.currentClass){for(let b of this.currentClass.split(" "))b&&this.dom.classList.remove(b);for(let b of m.split(" "))b&&this.dom.classList.add(b);this.currentClass=m}}positioned(n){this.space=n,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let n=this.view.state.field(this.stateField),m=n.open;if((m.selected>-1&&m.selected<this.range.from||m.selected>=this.range.to)&&(this.range=Ta(m.options.length,m.selected,this.view.state.facet(to).maxRenderedOptions),this.list.remove(),this.list=this.dom.appendChild(this.createListBox(m.options,n.id,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})),this.updateSelectedOption(m.selected)){this.destroyInfo();let{completion:b}=m.options[m.selected],{info:P}=b;if(!P)return;let W=typeof P=="string"?document.createTextNode(P):P(b);if(!W)return;"then"in W?W.then(ce=>{ce&&this.view.state.field(this.stateField,!1)==n&&this.addInfoPane(ce,b)}).catch(ce=>(0,_.OO)(this.view.state,ce,"completion info")):this.addInfoPane(W,b)}}addInfoPane(n,m){this.destroyInfo();let b=this.info=document.createElement("div");if(b.className="cm-tooltip cm-completionInfo",n.nodeType!=null)b.appendChild(n),this.infoDestroy=null;else{let{dom:P,destroy:W}=n;b.appendChild(P),this.infoDestroy=W||null}this.dom.appendChild(b),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(n){let m=null;for(let b=this.list.firstChild,P=this.range.from;b;b=b.nextSibling,P++)b.nodeName!="LI"||!b.id?P--:P==n?b.hasAttribute("aria-selected")||(b.setAttribute("aria-selected","true"),m=b):b.hasAttribute("aria-selected")&&b.removeAttribute("aria-selected");return m&&Es(this.list,m),m}measureInfo(){let n=this.dom.querySelector("[aria-selected]");if(!n||!this.info)return null;let m=this.dom.getBoundingClientRect(),b=this.info.getBoundingClientRect(),P=n.getBoundingClientRect(),W=this.space;if(!W){let ce=this.dom.ownerDocument.defaultView||window;W={left:0,top:0,right:ce.innerWidth,bottom:ce.innerHeight}}return P.top>Math.min(W.bottom,m.bottom)-10||P.bottom<Math.max(W.top,m.top)+10?null:this.view.state.facet(to).positionInfo(this.view,m,P,b,W)}placeInfo(n){this.info&&(n?(n.style&&(this.info.style.cssText=n.style),this.info.className="cm-tooltip cm-completionInfo "+(n.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(n,m,b){const P=document.createElement("ul");P.id=m,P.setAttribute("role","listbox"),P.setAttribute("aria-expanded","true"),P.setAttribute("aria-label",this.view.state.phrase("Completions"));let W=null;for(let ce=b.from;ce<b.to;ce++){let{completion:Ae,match:Me}=n[ce],{section:vt}=Ae;if(vt){let Gr=typeof vt=="string"?vt:vt.name;if(Gr!=W&&(ce>b.from||b.from==0))if(W=Gr,typeof vt!="string"&&vt.header)P.appendChild(vt.header(vt));else{let Nn=P.appendChild(document.createElement("completion-section"));Nn.textContent=Gr}}const At=P.appendChild(document.createElement("li"));At.id=m+"-"+ce,At.setAttribute("role","option");let tr=this.optionClass(Ae);tr&&(At.className=tr);for(let Gr of this.optionContent){let Nn=Gr(Ae,this.view.state,Me);Nn&&At.appendChild(Nn)}}return b.from&&P.classList.add("cm-completionListIncompleteTop"),b.to<n.length&&P.classList.add("cm-completionListIncompleteBottom"),P}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function Ms(f,n){return m=>new _a(m,f,n)}function Es(f,n){let m=f.getBoundingClientRect(),b=n.getBoundingClientRect();b.top<m.top?f.scrollTop-=m.top-b.top:b.bottom>m.bottom&&(f.scrollTop+=b.bottom-m.bottom)}function ba(f){return(f.boost||0)*100+(f.apply?10:0)+(f.info?5:0)+(f.type?1:0)}function No(f,n){let m=[],b=null,P=Me=>{m.push(Me);let{section:vt}=Me.completion;if(vt){b||(b=[]);let At=typeof vt=="string"?vt:vt.name;b.some(tr=>tr.name==At)||b.push(typeof vt=="string"?{name:At}:vt)}};for(let Me of f)if(Me.hasResult())if(Me.result.filter===!1){let vt=Me.result.getMatch;for(let At of Me.result.options){let tr=[1e9-m.length];if(vt)for(let Gr of vt(At))tr.push(Gr);P(new jn(At,Me.source,tr,tr[0]))}}else{let vt=new vo(n.sliceDoc(Me.from,Me.to)),At;for(let tr of Me.result.options)(At=vt.match(tr.label))&&P(new jn(tr,Me.source,At,At[0]+(tr.boost||0)))}if(b){let Me=Object.create(null),vt=0,At=(tr,Gr)=>{var Nn,Wi;return((Nn=tr.rank)!==null&&Nn!==void 0?Nn:1e9)-((Wi=Gr.rank)!==null&&Wi!==void 0?Wi:1e9)||(tr.name<Gr.name?-1:1)};for(let tr of b.sort(At))vt-=1e5,Me[tr.name]=vt;for(let tr of m){let{section:Gr}=tr.completion;Gr&&(tr.score+=Me[typeof Gr=="string"?Gr:Gr.name])}}let W=[],ce=null,Ae=n.facet(to).compareCompletions;for(let Me of m.sort((vt,At)=>At.score-vt.score||Ae(vt.completion,At.completion)))!ce||ce.label!=Me.completion.label||ce.detail!=Me.completion.detail||ce.type!=null&&Me.completion.type!=null&&ce.type!=Me.completion.type||ce.apply!=Me.completion.apply?W.push(Me):ba(Me.completion)>ba(ce)&&(W[W.length-1]=Me),ce=Me.completion;return W}class $s{constructor(n,m,b,P,W,ce){this.options=n,this.attrs=m,this.tooltip=b,this.timestamp=P,this.selected=W,this.disabled=ce}setSelected(n,m){return n==this.selected||n>=this.options.length?this:new $s(this.options,Is(m,n),this.tooltip,this.timestamp,n,this.disabled)}static build(n,m,b,P,W){let ce=No(n,m);if(!ce.length)return P&&n.some(Me=>Me.state==1)?new $s(P.options,P.attrs,P.tooltip,P.timestamp,P.selected,!0):null;let Ae=m.facet(to).selectOnOpen?0:-1;if(P&&P.selected!=Ae&&P.selected!=-1){let Me=P.options[P.selected].completion;for(let vt=0;vt<ce.length;vt++)if(ce[vt].completion==Me){Ae=vt;break}}return new $s(ce,Is(b,Ae),{pos:n.reduce((Me,vt)=>vt.hasResult()?Math.min(Me,vt.from):Me,1e8),create:Ms(xi,ka),above:W.aboveCursor},P?P.timestamp:Date.now(),Ae,!1)}map(n){return new $s(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:n.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}}class Xs{constructor(n,m,b){this.active=n,this.id=m,this.open=b}static start(){return new Xs(uo,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(n){let{state:m}=n,b=m.facet(to),W=(b.override||m.languageDataAt("autocomplete",Vn(m)).map(qa)).map(Ae=>(this.active.find(vt=>vt.source==Ae)||new Ui(Ae,this.active.some(vt=>vt.state!=0)?1:0)).update(n,b));W.length==this.active.length&&W.every((Ae,Me)=>Ae==this.active[Me])&&(W=this.active);let ce=this.open;ce&&n.docChanged&&(ce=ce.map(n.changes)),n.selection||W.some(Ae=>Ae.hasResult()&&n.changes.touchesRange(Ae.from,Ae.to))||!Da(W,this.active)?ce=$s.build(W,m,this.id,ce,b):ce&&ce.disabled&&!W.some(Ae=>Ae.state==1)&&(ce=null),!ce&&W.every(Ae=>Ae.state!=1)&&W.some(Ae=>Ae.hasResult())&&(W=W.map(Ae=>Ae.hasResult()?new Ui(Ae.source,0):Ae));for(let Ae of n.effects)Ae.is(Jo)&&(ce=ce&&ce.setSelected(Ae.value,this.id));return W==this.active&&ce==this.open?this:new Xs(W,this.id,ce)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:as}}function Da(f,n){if(f==n)return!0;for(let m=0,b=0;;){for(;m<f.length&&!f[m].hasResult;)m++;for(;b<n.length&&!n[b].hasResult;)b++;let P=m==f.length,W=b==n.length;if(P||W)return P==W;if(f[m++].result!=n[b++].result)return!1}}const as={"aria-autocomplete":"list"};function Is(f,n){let m={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":f};return n>-1&&(m["aria-activedescendant"]=f+"-"+n),m}const uo=[];function Ho(f){return f.isUserEvent("input.type")?"input":f.isUserEvent("delete.backward")?"delete":null}class Ui{constructor(n,m,b=-1){this.source=n,this.state=m,this.explicitPos=b}hasResult(){return!1}update(n,m){let b=Ho(n),P=this;b?P=P.handleUserEvent(n,b,m):n.docChanged?P=P.handleChange(n):n.selection&&P.state!=0&&(P=new Ui(P.source,0));for(let W of n.effects)if(W.is(Gs))P=new Ui(P.source,1,W.value?Vn(n.state):-1);else if(W.is(jo))P=new Ui(P.source,0);else if(W.is(Sa))for(let ce of W.value)ce.source==P.source&&(P=ce);return P}handleUserEvent(n,m,b){return m=="delete"||!b.activateOnTyping?this.map(n.changes):new Ui(this.source,1)}handleChange(n){return n.changes.touchesRange(Vn(n.startState))?new Ui(this.source,0):this.map(n.changes)}map(n){return n.empty||this.explicitPos<0?this:new Ui(this.source,this.state,n.mapPos(this.explicitPos))}}class ls extends Ui{constructor(n,m,b,P,W){super(n,2,m),this.result=b,this.from=P,this.to=W}hasResult(){return!0}handleUserEvent(n,m,b){var P;let W=n.changes.mapPos(this.from),ce=n.changes.mapPos(this.to,1),Ae=Vn(n.state);if((this.explicitPos<0?Ae<=W:Ae<this.from)||Ae>ce||m=="delete"&&Vn(n.startState)==this.from)return new Ui(this.source,m=="input"&&b.activateOnTyping?1:0);let Me=this.explicitPos<0?-1:n.changes.mapPos(this.explicitPos),vt;return Rs(this.result.validFor,n.state,W,ce)?new ls(this.source,Me,this.result,W,ce):this.result.update&&(vt=this.result.update(this.result,W,ce,new Hr(n.state,Ae,Me>=0)))?new ls(this.source,Me,vt,vt.from,(P=vt.to)!==null&&P!==void 0?P:Vn(n.state)):new Ui(this.source,1,Me)}handleChange(n){return n.changes.touchesRange(this.from,this.to)?new Ui(this.source,0):this.map(n.changes)}map(n){return n.empty?this:new ls(this.source,this.explicitPos<0?-1:n.mapPos(this.explicitPos),this.result,n.mapPos(this.from),n.mapPos(this.to,1))}}function Rs(f,n,m,b){if(!f)return!1;let P=n.sliceDoc(m,b);return typeof f=="function"?f(P,m,b,n):Ds(f,!0).test(P)}const Sa=O.Py.define({map(f,n){return f.map(m=>m.map(n))}}),Jo=O.Py.define(),xi=O.QQ.define({create(){return Xs.start()},update(f,n){return f.update(n)},provide:f=>[_.hJ.from(f,n=>n.tooltip),_.tk.contentAttributes.from(f,n=>n.attrs)]});function ka(f,n){const m=n.completion.apply||n.completion.label;let b=f.state.field(xi).active.find(P=>P.source==n.source);return b instanceof ls?(typeof m=="string"?f.dispatch(Object.assign(Object.assign({},zo(f.state,m,b.from,b.to)),{annotations:Js.of(n.completion)})):m(f,n.completion,b.from,b.to),!0):!1}function Qs(f,n="option"){return m=>{let b=m.state.field(xi,!1);if(!b||!b.open||b.open.disabled||Date.now()-b.open.timestamp<m.state.facet(to).interactionDelay)return!1;let P=1,W;n=="page"&&(W=(0,_.gB)(m,b.open.tooltip))&&(P=Math.max(2,Math.floor(W.dom.offsetHeight/W.dom.querySelector("li").offsetHeight)-1));let{length:ce}=b.open.options,Ae=b.open.selected>-1?b.open.selected+P*(f?1:-1):f?0:ce-1;return Ae<0?Ae=n=="page"?0:ce-1:Ae>=ce&&(Ae=n=="page"?ce-1:0),m.dispatch({effects:Jo.of(Ae)}),!0}}const qs=f=>{let n=f.state.field(xi,!1);return f.state.readOnly||!n||!n.open||n.open.selected<0||Date.now()-n.open.timestamp<f.state.facet(to).interactionDelay?!1:n.open.disabled?!0:ka(f,n.open.options[n.open.selected])},ws=f=>f.state.field(xi,!1)?(f.dispatch({effects:Gs.of(!0)}),!0):!1,Ka=f=>{let n=f.state.field(xi,!1);return!n||!n.active.some(m=>m.state!=0)?!1:(f.dispatch({effects:jo.of(null)}),!0)};class Ea{constructor(n,m){this.active=n,this.context=m,this.time=Date.now(),this.updates=[],this.done=void 0}}const za=50,ea=50,Ma=1e3,$a=_.lg.fromClass(class{constructor(f){this.view=f,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.composing=0;for(let n of f.state.field(xi).active)n.state==1&&this.startQuery(n)}update(f){let n=f.state.field(xi);if(!f.selectionSet&&!f.docChanged&&f.startState.field(xi)==n)return;let m=f.transactions.some(b=>(b.selection||b.docChanged)&&!Ho(b));for(let b=0;b<this.running.length;b++){let P=this.running[b];if(m||P.updates.length+f.transactions.length>ea&&Date.now()-P.time>Ma){for(let W of P.context.abortListeners)try{W()}catch(ce){(0,_.OO)(this.view.state,ce)}P.context.abortListeners=null,this.running.splice(b--,1)}else P.updates.push(...f.transactions)}if(this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),this.debounceUpdate=n.active.some(b=>b.state==1&&!this.running.some(P=>P.active.source==b.source))?setTimeout(()=>this.startUpdate(),za):-1,this.composing!=0)for(let b of f.transactions)Ho(b)=="input"?this.composing=2:this.composing==2&&b.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1;let{state:f}=this.view,n=f.field(xi);for(let m of n.active)m.state==1&&!this.running.some(b=>b.active.source==m.source)&&this.startQuery(m)}startQuery(f){let{state:n}=this.view,m=Vn(n),b=new Hr(n,m,f.explicitPos==m),P=new Ea(f,b);this.running.push(P),Promise.resolve(f.source(b)).then(W=>{P.context.aborted||(P.done=W||null,this.scheduleAccept())},W=>{this.view.dispatch({effects:jo.of(null)}),(0,_.OO)(this.view.state,W)})}scheduleAccept(){this.running.every(f=>f.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),za))}accept(){var f;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let n=[],m=this.view.state.facet(to);for(let b=0;b<this.running.length;b++){let P=this.running[b];if(P.done===void 0)continue;if(this.running.splice(b--,1),P.done){let ce=new ls(P.active.source,P.active.explicitPos,P.done,P.done.from,(f=P.done.to)!==null&&f!==void 0?f:Vn(P.updates.length?P.updates[0].startState:this.view.state));for(let Ae of P.updates)ce=ce.update(Ae,m);if(ce.hasResult()){n.push(ce);continue}}let W=this.view.state.field(xi).active.find(ce=>ce.source==P.active.source);if(W&&W.state==1)if(P.done==null){let ce=new Ui(P.active.source,0);for(let Ae of P.updates)ce=ce.update(Ae,m);ce.state!=1&&n.push(ce)}else this.startQuery(W)}n.length&&this.view.dispatch({effects:Sa.of(n)})}},{eventHandlers:{blur(f){let n=this.view.state.field(xi,!1);if(n&&n.tooltip&&this.view.state.facet(to).closeOnBlur){let m=n.open&&(0,_.gB)(this.view,n.open.tooltip);(!m||!m.dom.contains(f.relatedTarget))&&this.view.dispatch({effects:jo.of(null)})}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:Gs.of(!1)}),20),this.composing=0}}}),Ha=_.tk.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"\xB7\xB7\xB7"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:`${400}px`,boxSizing:"border-box"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:`${30}px`},".cm-completionInfo.cm-completionInfo-right-narrow":{left:`${30}px`},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'\u0192'"}},".cm-completionIcon-class":{"&:after":{content:"'\u25CB'"}},".cm-completionIcon-interface":{"&:after":{content:"'\u25CC'"}},".cm-completionIcon-variable":{"&:after":{content:"'\u{1D465}'"}},".cm-completionIcon-constant":{"&:after":{content:"'\u{1D436}'"}},".cm-completionIcon-type":{"&:after":{content:"'\u{1D461}'"}},".cm-completionIcon-enum":{"&:after":{content:"'\u222A'"}},".cm-completionIcon-property":{"&:after":{content:"'\u25A1'"}},".cm-completionIcon-keyword":{"&:after":{content:"'\u{1F511}\uFE0E'"}},".cm-completionIcon-namespace":{"&:after":{content:"'\u25A2'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class oo{constructor(n,m,b,P){this.field=n,this.line=m,this.from=b,this.to=P}}class ta{constructor(n,m,b){this.field=n,this.from=m,this.to=b}map(n){let m=n.mapPos(this.from,-1,MapMode.TrackDel),b=n.mapPos(this.to,1,MapMode.TrackDel);return m==null||b==null?null:new ta(this.field,m,b)}}class Yi{constructor(n,m){this.lines=n,this.fieldPositions=m}instantiate(n,m){let b=[],P=[m],W=n.doc.lineAt(m),ce=/^\s*/.exec(W.text)[0];for(let Me of this.lines){if(b.length){let vt=ce,At=/^\t*/.exec(Me)[0].length;for(let tr=0;tr<At;tr++)vt+=n.facet(indentUnit);P.push(m+vt.length-At),Me=vt+Me.slice(At)}b.push(Me),m+=Me.length+1}let Ae=this.fieldPositions.map(Me=>new ta(Me.field,P[Me.line]+Me.from,P[Me.line]+Me.to));return{text:b,ranges:Ae}}static parse(n){let m=[],b=[],P=[],W;for(let ce of n.split(/\r\n?|\n/)){for(;W=/[#$]\{(?:(\d+)(?::([^}]*))?|([^}]*))\}/.exec(ce);){let Ae=W[1]?+W[1]:null,Me=W[2]||W[3]||"",vt=-1;for(let At=0;At<m.length;At++)(Ae!=null?m[At].seq==Ae:Me&&m[At].name==Me)&&(vt=At);if(vt<0){let At=0;for(;At<m.length&&(Ae==null||m[At].seq!=null&&m[At].seq<Ae);)At++;m.splice(At,0,{seq:Ae,name:Me}),vt=At;for(let tr of P)tr.field>=vt&&tr.field++}P.push(new oo(vt,b.length,W.index,W.index+Me.length)),ce=ce.slice(0,W.index)+Me+ce.slice(W.index+W[0].length)}for(let Ae;Ae=/\\([{}])/.exec(ce);){ce=ce.slice(0,Ae.index)+Ae[1]+ce.slice(Ae.index+Ae[0].length);for(let Me of P)Me.line==b.length&&Me.from>Ae.index&&(Me.from--,Me.to--)}b.push(ce)}return new Yi(b,P)}}let Ia=_.p.widget({widget:new class extends _.l9{toDOM(){let f=document.createElement("span");return f.className="cm-snippetFieldPosition",f}ignoreEvent(){return!1}}}),Go=_.p.mark({class:"cm-snippetField"});class ra{constructor(n,m){this.ranges=n,this.active=m,this.deco=_.p.set(n.map(b=>(b.from==b.to?Ia:Go).range(b.from,b.to)))}map(n){let m=[];for(let b of this.ranges){let P=b.map(n);if(!P)return null;m.push(P)}return new ra(m,this.active)}selectionInsideField(n){return n.ranges.every(m=>this.ranges.some(b=>b.field==this.active&&b.from<=m.from&&b.to>=m.to))}}const Lo=O.Py.define({map(f,n){return f&&f.map(n)}}),Ra=O.Py.define(),Co=O.QQ.define({create(){return null},update(f,n){for(let m of n.effects){if(m.is(Lo))return m.value;if(m.is(Ra)&&f)return new ra(f.ranges,m.value)}return f&&n.docChanged&&(f=f.map(n.changes)),f&&n.selection&&!f.selectionInsideField(n.selection)&&(f=null),f},provide:f=>_.tk.decorations.from(f,n=>n?n.deco:_.p.none)});function Xi(f,n){return O.jT.create(f.filter(m=>m.field==n).map(m=>O.jT.range(m.from,m.to)))}function us(f){let n=Yi.parse(f);return(m,b,P,W)=>{let{text:ce,ranges:Ae}=n.instantiate(m.state,P),Me={changes:{from:P,to:W,insert:Text.of(ce)},scrollIntoView:!0,annotations:b?Js.of(b):void 0};if(Ae.length&&(Me.selection=Xi(Ae,0)),Ae.length>1){let vt=new ra(Ae,0),At=Me.effects=[Lo.of(vt)];m.state.field(Co,!1)===void 0&&At.push(StateEffect.appendConfig.of([Co,cs,fs,Ha]))}m.dispatch(m.state.update(Me))}}function Yo(f){return({state:n,dispatch:m})=>{let b=n.field(Co,!1);if(!b||f<0&&b.active==0)return!1;let P=b.active+f,W=f>0&&!b.ranges.some(ce=>ce.field==P+f);return m(n.update({selection:Xi(b.ranges,P),effects:Lo.of(W?null:new ra(b.ranges,P))})),!0}}const Fa=({state:f,dispatch:n})=>f.field(Co,!1)?(n(f.update({effects:Lo.of(null)})),!0):!1,Os=Yo(1),la=Yo(-1);function Ja(f){let n=f.field(Co,!1);return!!(n&&n.ranges.some(m=>m.field==n.active+1))}function xs(f){let n=f.field(Co,!1);return!!(n&&n.active>0)}const wa=[{key:"Tab",run:Os,shift:la},{key:"Escape",run:Fa}],Ci=O.r$.define({combine(f){return f.length?f[0]:wa}}),cs=O.Wl.highest(_.$f.compute([Ci],f=>f.facet(Ci)));function Fs(f,n){return Object.assign(Object.assign({},n),{apply:us(f)})}const fs=_.tk.domEventHandlers({mousedown(f,n){let m=n.state.field(Co,!1),b;if(!m||(b=n.posAtCoords({x:f.clientX,y:f.clientY}))==null)return!1;let P=m.ranges.find(W=>W.from<=b&&W.to>=b);return!P||P.field==m.active?!1:(n.dispatch({selection:Xi(m.ranges,P.field),effects:Lo.of(m.ranges.some(W=>W.field>P.field)?new ra(m.ranges,P.field):null)}),!0)}});function ja(f){let n=f.replace(/[\\[.+*?(){|^$]/g,"\\$&");try{return new RegExp(`[\\p{Alphabetic}\\p{Number}_${n}]+`,"ug")}catch{return new RegExp(`[w${n}]`,"g")}}function js(f,n){return new RegExp(n(f.source),f.unicode?"u":"")}const Ns=null;function ua(f){return Ns[f]||(Ns[f]=new WeakMap)}function Xo(f,n,m,b,P){for(let W=f.iterLines(),ce=0;!W.next().done;){let{value:Ae}=W,Me;for(n.lastIndex=0;Me=n.exec(Ae);)if(!b[Me[0]]&&ce+Me.index!=P&&(m.push({type:"text",label:Me[0]}),b[Me[0]]=!0,m.length>=2e3))return;ce+=Ae.length+1}}function Ls(f,n,m,b,P){let W=f.length>=1e3,ce=W&&n.get(f);if(ce)return ce;let Ae=[],Me=Object.create(null);if(f.children){let vt=0;for(let At of f.children){if(At.length>=1e3)for(let tr of Ls(At,n,m,b-vt,P-vt))Me[tr.label]||(Me[tr.label]=!0,Ae.push(tr));else Xo(At,m,Ae,Me,P-vt);vt+=At.length+1}}else Xo(f,m,Ae,Me,P);return W&&Ae.length<2e3&&n.set(f,Ae),Ae}const Ga=f=>{let n=f.state.languageDataAt("wordChars",f.pos).join(""),m=ja(n),b=f.matchBefore(js(m,ce=>ce+"$"));if(!b&&!f.explicit)return null;let P=b?b.from:f.pos,W=Ls(f.state.doc,ua(n),m,5e4,P);return{from:P,options:W,validFor:js(m,ce=>"^"+ce)}},ds={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},bo=O.Py.define({map(f,n){let m=n.mapPos(f,-1,O.gc.TrackAfter);return m==null?void 0:m}}),Qo=new class extends O.uU{};Qo.startSide=1,Qo.endSide=-1;const ca=O.QQ.define({create(){return O.Xs.empty},update(f,n){if(n.selection){let m=n.state.doc.lineAt(n.selection.main.head).from,b=n.startState.doc.lineAt(n.startState.selection.main.head).from;m!=n.changes.mapPos(b,-1)&&(f=O.Xs.empty)}f=f.map(n.changes);for(let m of n.effects)m.is(bo)&&(f=f.update({add:[Qo.range(m.value,m.value+1)]}));return f}});function Oa(){return[Ce,ca]}const Bs="()[]{}<>";function C(f){for(let n=0;n<Bs.length;n+=2)if(Bs.charCodeAt(n)==f)return Bs.charAt(n+1);return(0,O.bg)(f<128?f:f+1)}function U(f,n){return f.languageDataAt("closeBrackets",n)[0]||ds}const oe=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),Ce=_.tk.inputHandler.of((f,n,m,b)=>{if((oe?f.composing:f.compositionStarted)||f.state.readOnly)return!1;let P=f.state.selection.main;if(b.length>2||b.length==2&&(0,O.nZ)((0,O.gm)(b,0))==1||n!=P.from||m!=P.to)return!1;let W=ut(f.state,b);return W?(f.dispatch(W),!0):!1}),Re=[{key:"Backspace",run:({state:f,dispatch:n})=>{if(f.readOnly)return!1;let b=U(f,f.selection.main.head).brackets||ds.brackets,P=null,W=f.changeByRange(ce=>{if(ce.empty){let Ae=or(f.doc,ce.head);for(let Me of b)if(Me==Ae&&Pt(f.doc,ce.head)==C((0,O.gm)(Me,0)))return{changes:{from:ce.head-Me.length,to:ce.head+Me.length},range:O.jT.cursor(ce.head-Me.length)}}return{range:P=ce}});return P||n(f.update(W,{scrollIntoView:!0,userEvent:"delete.backward"})),!P}}];function ut(f,n){let m=U(f,f.selection.main.head),b=m.brackets||ds.brackets;for(let P of b){let W=C((0,O.gm)(P,0));if(n==P)return W==P?Br(f,P,b.indexOf(P+P+P)>-1,m):vr(f,P,W,m.before||ds.before);if(n==W&&It(f,f.selection.main.from))return Ar(f,P,W)}return null}function It(f,n){let m=!1;return f.field(ca).between(0,f.doc.length,b=>{b==n&&(m=!0)}),m}function Pt(f,n){let m=f.sliceString(n,n+2);return m.slice(0,(0,O.nZ)((0,O.gm)(m,0)))}function or(f,n){let m=f.sliceString(n-2,n);return(0,O.nZ)((0,O.gm)(m,0))==m.length?m:m.slice(1)}function vr(f,n,m,b){let P=null,W=f.changeByRange(ce=>{if(!ce.empty)return{changes:[{insert:n,from:ce.from},{insert:m,from:ce.to}],effects:bo.of(ce.to+n.length),range:O.jT.range(ce.anchor+n.length,ce.head+n.length)};let Ae=Pt(f.doc,ce.head);return!Ae||/\s/.test(Ae)||b.indexOf(Ae)>-1?{changes:{insert:n+m,from:ce.head},effects:bo.of(ce.head+n.length),range:O.jT.cursor(ce.head+n.length)}:{range:P=ce}});return P?null:f.update(W,{scrollIntoView:!0,userEvent:"input.type"})}function Ar(f,n,m){let b=null,P=f.changeByRange(W=>W.empty&&Pt(f.doc,W.head)==m?{changes:{from:W.head,to:W.head+m.length,insert:m},range:O.jT.cursor(W.head+m.length)}:b={range:W});return b?null:f.update(P,{scrollIntoView:!0,userEvent:"input.type"})}function Br(f,n,m,b){let P=b.stringPrefixes||ds.stringPrefixes,W=null,ce=f.changeByRange(Ae=>{if(!Ae.empty)return{changes:[{insert:n,from:Ae.from},{insert:n,from:Ae.to}],effects:bo.of(Ae.to+n.length),range:O.jT.range(Ae.anchor+n.length,Ae.head+n.length)};let Me=Ae.head,vt=Pt(f.doc,Me),At;if(vt==n){if(Sn(f,Me))return{changes:{insert:n+n,from:Me},effects:bo.of(Me+n.length),range:O.jT.cursor(Me+n.length)};if(It(f,Me)){let Gr=m&&f.sliceDoc(Me,Me+n.length*3)==n+n+n?n+n+n:n;return{changes:{from:Me,to:Me+Gr.length,insert:Gr},range:O.jT.cursor(Me+Gr.length)}}}else{if(m&&f.sliceDoc(Me-2*n.length,Me)==n+n&&(At=kn(f,Me-2*n.length,P))>-1&&Sn(f,At))return{changes:{insert:n+n+n+n,from:Me},effects:bo.of(Me+n.length),range:O.jT.cursor(Me+n.length)};if(f.charCategorizer(Me)(vt)!=O.D0.Word&&kn(f,Me,P)>-1&&!Kn(f,Me,n,P))return{changes:{insert:n+n,from:Me},effects:bo.of(Me+n.length),range:O.jT.cursor(Me+n.length)}}return{range:W=Ae}});return W?null:f.update(ce,{scrollIntoView:!0,userEvent:"input.type"})}function Sn(f,n){let m=(0,D.qz)(f).resolveInner(n+1);return m.parent&&m.from==n}function Kn(f,n,m,b){let P=(0,D.qz)(f).resolveInner(n,-1),W=b.reduce((ce,Ae)=>Math.max(ce,Ae.length),0);for(let ce=0;ce<5;ce++){let Ae=f.sliceDoc(P.from,Math.min(P.to,P.from+m.length+W)),Me=Ae.indexOf(m);if(!Me||Me>-1&&b.indexOf(Ae.slice(0,Me))>-1){let At=P.firstChild;for(;At&&At.from==P.from&&At.to-At.from>m.length+Me;){if(f.sliceDoc(At.to-m.length,At.to)==m)return!1;At=At.firstChild}return!0}let vt=P.to==n&&P.parent;if(!vt)break;P=vt}return!1}function kn(f,n,m){let b=f.charCategorizer(n);if(b(f.sliceDoc(n-1,n))!=O.D0.Word)return n;for(let P of m){let W=n-P.length;if(f.sliceDoc(W,n)==P&&b(f.sliceDoc(W-1,W))!=O.D0.Word)return W}return-1}function Tn(f={}){return[xi,to.of(f),$a,vi,Ha]}const qn=[{key:"Ctrl-Space",run:ws},{key:"Escape",run:Ka},{key:"ArrowDown",run:Qs(!0)},{key:"ArrowUp",run:Qs(!1)},{key:"PageDown",run:Qs(!0,"page")},{key:"PageUp",run:Qs(!1,"page")},{key:"Enter",run:qs}],vi=O.Wl.highest(_.$f.computeN([to],f=>f.facet(to).defaultKeymap?[qn]:[]));function co(f){let n=f.field(xi,!1);return n&&n.active.some(m=>m.state==1)?"pending":n&&n.active.some(m=>m.state!=0)?"active":null}const bi=new WeakMap;function so(f){var n;let m=(n=f.field(xi,!1))===null||n===void 0?void 0:n.open;if(!m||m.disabled)return[];let b=bi.get(m.options);return b||bi.set(m.options,b=m.options.map(P=>P.completion)),b}function Gn(f){var n;let m=(n=f.field(xi,!1))===null||n===void 0?void 0:n.open;return m&&!m.disabled&&m.selected>=0?m.options[m.selected].completion:null}function Bi(f){var n;let m=(n=f.field(xi,!1))===null||n===void 0?void 0:n.open;return m&&!m.disabled&&m.selected>=0?m.selected:null}function Ws(f){return Jo.of(f)}class fa{constructor(n,m,b){this.from=n,this.to=m,this.diagnostic=b}}class Pn{constructor(n,m,b){this.diagnostics=n,this.panel=m,this.selected=b}static init(n,m,b){let P=n,W=b.facet(g).markerFilter;W&&(P=W(P));let ce=_.p.set(P.map(Ae=>Ae.from==Ae.to||Ae.from==Ae.to-1&&b.doc.lineAt(Ae.from).to==Ae.from?_.p.widget({widget:new ft(Ae),diagnostic:Ae}).range(Ae.from):_.p.mark({attributes:{class:"cm-lintRange cm-lintRange-"+Ae.severity},diagnostic:Ae}).range(Ae.from,Ae.to)),!0);return new Pn(ce,m,na(ce))}}function na(f,n=null,m=0){let b=null;return f.between(m,1e9,(P,W,{spec:ce})=>{if(!(n&&ce.diagnostic!=n))return b=new fa(P,W,ce.diagnostic),!1}),b}function hs(f,n){let m=f.startState.doc.lineAt(n.pos);return!!(f.effects.some(b=>b.is(qo))||f.changes.touchesRange(m.from,m.to))}function Na(f,n){return f.field(fo,!1)?n:n.concat(O.Py.appendConfig.of(it))}function rl(f,n){return{effects:Na(f,[qo.of(n)])}}const qo=O.Py.define(),La=O.Py.define(),Ba=O.Py.define(),fo=O.QQ.define({create(){return new Pn(_.p.none,null,null)},update(f,n){if(n.docChanged){let m=f.diagnostics.map(n.changes),b=null;if(f.selected){let P=n.changes.mapPos(f.selected.from,1);b=na(m,f.selected.diagnostic,P)||na(m,null,P)}f=new Pn(m,f.panel,b)}for(let m of n.effects)m.is(qo)?f=Pn.init(m.value,f.panel,n.state):m.is(La)?f=new Pn(f.diagnostics,m.value?xt.open:null,f.selected):m.is(Ba)&&(f=new Pn(f.diagnostics,f.panel,m.value));return f},provide:f=>[_.mH.from(f,n=>n.panel),_.tk.decorations.from(f,n=>n.diagnostics)]});function Vr(f){let n=f.field(fo,!1);return n?n.diagnostics.size:0}const da=_.p.mark({class:"cm-lintRange cm-lintRange-active"});function Wa(f,n,m){let{diagnostics:b}=f.state.field(fo),P=[],W=2e8,ce=0;b.between(n-(m<0?1:0),n+(m>0?1:0),(Me,vt,{spec:At})=>{n>=Me&&n<=vt&&(Me==vt||(n>Me||m>0)&&(n<vt||m<0))&&(P.push(At.diagnostic),W=Math.min(Me,W),ce=Math.max(vt,ce))});let Ae=f.state.facet(g).tooltipFilter;return Ae&&(P=Ae(P)),P.length?{pos:W,end:ce,above:f.state.doc.lineAt(W).to<ce,create(){return{dom:Ao(f,P)}}}:null}function Ao(f,n){return an("ul",{class:"cm-tooltip-lint"},n.map(m=>nt(f,m,!1)))}const fl=f=>{let n=f.state.field(fo,!1);(!n||!n.panel)&&f.dispatch({effects:Na(f.state,[La.of(!0)])});let m=(0,_.Sd)(f,xt.open);return m&&m.dom.querySelector(".cm-panel-lint ul").focus(),!0},Ya=f=>{let n=f.state.field(fo,!1);return!n||!n.panel?!1:(f.dispatch({effects:La.of(!1)}),!0)},h=[{key:"Mod-Shift-m",run:fl,preventDefault:!0},{key:"F8",run:f=>{let n=f.state.field(fo,!1);if(!n)return!1;let m=f.state.selection.main,b=n.diagnostics.iter(m.to+1);return!b.value&&(b=n.diagnostics.iter(0),!b.value||b.from==m.from&&b.to==m.to)?!1:(f.dispatch({selection:{anchor:b.from,head:b.to},scrollIntoView:!0}),!0)}}],x=null,g=O.r$.define({combine(f){return Object.assign({sources:f.map(n=>n.source)},(0,O.BO)(f.map(n=>n.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null},{needsRefresh:(n,m)=>n?m?b=>n(b)||m(b):n:m}))}});function L(f,n={}){return[g.of({source:f,config:n}),x,it]}function ye(f){let n=f.plugin(x);n&&n.force()}function qe(f){let n=[];if(f)e:for(let{name:m}of f){for(let b=0;b<m.length;b++){let P=m[b];if(/[a-zA-Z]/.test(P)&&!n.some(W=>W.toLowerCase()==P.toLowerCase())){n.push(P);continue e}}n.push("")}return n}function nt(f,n,m){var b;let P=m?qe(n.actions):[];return an("li",{class:"cm-diagnostic cm-diagnostic-"+n.severity},an("span",{class:"cm-diagnosticText"},n.renderMessage?n.renderMessage():n.message),(b=n.actions)===null||b===void 0?void 0:b.map((W,ce)=>{let Ae=!1,Me=Gr=>{if(Gr.preventDefault(),Ae)return;Ae=!0;let Nn=na(f.state.field(fo).diagnostics,n);Nn&&W.apply(f,Nn.from,Nn.to)},{name:vt}=W,At=P[ce]?vt.indexOf(P[ce]):-1,tr=At<0?vt:[vt.slice(0,At),an("u",vt.slice(At,At+1)),vt.slice(At+1)];return an("button",{type:"button",class:"cm-diagnosticAction",onclick:Me,onmousedown:Me,"aria-label":` Action: ${vt}${At<0?"":` (access key "${P[ce]})"`}.`},tr)}),n.source&&an("div",{class:"cm-diagnosticSource"},n.source))}class ft extends _.l9{constructor(n){super(),this.diagnostic=n}eq(n){return n.diagnostic==this.diagnostic}toDOM(){return an("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}}class Ot{constructor(n,m){this.diagnostic=m,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=nt(n,m,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class xt{constructor(n){this.view=n,this.items=[];let m=P=>{if(P.keyCode==27)Ya(this.view),this.view.focus();else if(P.keyCode==38||P.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(P.keyCode==40||P.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(P.keyCode==36)this.moveSelection(0);else if(P.keyCode==35)this.moveSelection(this.items.length-1);else if(P.keyCode==13)this.view.focus();else if(P.keyCode>=65&&P.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:W}=this.items[this.selectedIndex],ce=qe(W.actions);for(let Ae=0;Ae<ce.length;Ae++)if(ce[Ae].toUpperCase().charCodeAt(0)==P.keyCode){let Me=na(this.view.state.field(fo).diagnostics,W);Me&&W.actions[Ae].apply(n,Me.from,Me.to)}}else return;P.preventDefault()},b=P=>{for(let W=0;W<this.items.length;W++)this.items[W].dom.contains(P.target)&&this.moveSelection(W)};this.list=an("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:m,onclick:b}),this.dom=an("div",{class:"cm-panel-lint"},this.list,an("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>Ya(this.view)},"\xD7")),this.update()}get selectedIndex(){let n=this.view.state.field(fo).selected;if(!n)return-1;for(let m=0;m<this.items.length;m++)if(this.items[m].diagnostic==n.diagnostic)return m;return-1}update(){let{diagnostics:n,selected:m}=this.view.state.field(fo),b=0,P=!1,W=null;for(n.between(0,this.view.state.doc.length,(ce,Ae,{spec:Me})=>{let vt=-1,At;for(let tr=b;tr<this.items.length;tr++)if(this.items[tr].diagnostic==Me.diagnostic){vt=tr;break}vt<0?(At=new Ot(this.view,Me.diagnostic),this.items.splice(b,0,At),P=!0):(At=this.items[vt],vt>b&&(this.items.splice(b,vt-b),P=!0)),m&&At.diagnostic==m.diagnostic?At.dom.hasAttribute("aria-selected")||(At.dom.setAttribute("aria-selected","true"),W=At):At.dom.hasAttribute("aria-selected")&&At.dom.removeAttribute("aria-selected"),b++});b<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)P=!0,this.items.pop();this.items.length==0&&(this.items.push(new Ot(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),P=!0),W?(this.list.setAttribute("aria-activedescendant",W.id),this.view.requestMeasure({key:this,read:()=>({sel:W.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:ce,panel:Ae})=>{ce.top<Ae.top?this.list.scrollTop-=Ae.top-ce.top:ce.bottom>Ae.bottom&&(this.list.scrollTop+=ce.bottom-Ae.bottom)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),P&&this.sync()}sync(){let n=this.list.firstChild;function m(){let b=n;n=b.nextSibling,b.remove()}for(let b of this.items)if(b.dom.parentNode==this.list){for(;n!=b.dom;)m();n=b.dom.nextSibling}else this.list.insertBefore(b.dom,n);for(;n;)m()}moveSelection(n){if(this.selectedIndex<0)return;let m=this.view.state.field(fo),b=na(m.diagnostics,this.items[n].diagnostic);b&&this.view.dispatch({selection:{anchor:b.from,head:b.to},scrollIntoView:!0,effects:Ba.of(b)})}static open(n){return new xt(n)}}function a(f,n='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${n}>${encodeURIComponent(f)}</svg>')`}function e(f){return a(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${f}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const t=_.tk.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:e("#d11")},".cm-lintRange-warning":{backgroundImage:e("orange")},".cm-lintRange-info":{backgroundImage:e("#999")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});class r extends _.SJ{constructor(n){super(),this.diagnostics=n,this.severity=n.reduce((m,b)=>{let P=b.severity;return P=="error"||P=="warning"&&m=="info"?P:m},"info")}toDOM(n){let m=document.createElement("div");m.className="cm-lint-marker cm-lint-marker-"+this.severity;let b=this.diagnostics,P=n.state.facet(pt).tooltipFilter;return P&&(b=P(b)),b.length&&(m.onmouseover=()=>v(n,m,b)),m}}function l(f,n){let m=b=>{let P=n.getBoundingClientRect();if(!(b.clientX>P.left-10&&b.clientX<P.right+10&&b.clientY>P.top-10&&b.clientY<P.bottom+10)){for(let W=b.target;W;W=W.parentNode)if(W.nodeType==1&&W.classList.contains("cm-tooltip-lint"))return;window.removeEventListener("mousemove",m),f.state.field(he)&&f.dispatch({effects:pe.of(null)})}};window.addEventListener("mousemove",m)}function v(f,n,m){function b(){let ce=f.elementAtHeight(n.getBoundingClientRect().top+5-f.documentTop);f.coordsAtPos(ce.from)&&f.dispatch({effects:pe.of({pos:ce.from,above:!1,create(){return{dom:Ao(f,m),getCoords:()=>n.getBoundingClientRect()}}})}),n.onmouseout=n.onmousemove=null,l(f,n)}let{hoverTime:P}=f.state.facet(pt),W=setTimeout(b,P);n.onmouseout=()=>{clearTimeout(W),n.onmouseout=n.onmousemove=null},n.onmousemove=()=>{clearTimeout(W),W=setTimeout(b,P)}}function A(f,n){let m=Object.create(null);for(let P of n){let W=f.lineAt(P.from);(m[W.from]||(m[W.from]=[])).push(P)}let b=[];for(let P in m)b.push(new r(m[P]).range(+P));return O.Xs.of(b,!0)}const B=(0,_.v5)({class:"cm-gutter-lint",markers:f=>f.state.field(Y)}),Y=O.QQ.define({create(){return O.Xs.empty},update(f,n){f=f.map(n.changes);let m=n.state.facet(pt).markerFilter;for(let b of n.effects)if(b.is(qo)){let P=b.value;m&&(P=m(P||[])),f=A(n.state.doc,P.slice(0))}return f}}),pe=O.Py.define(),he=O.QQ.define({create(){return null},update(f,n){return f&&n.docChanged&&(f=hs(n,f)?null:Object.assign(Object.assign({},f),{pos:n.changes.mapPos(f.pos)})),n.effects.reduce((m,b)=>b.is(pe)?b.value:m,f)},provide:f=>_.hJ.from(f)}),ke=_.tk.baseTheme({".cm-gutter-lint":{width:"1.4em","& .cm-gutterElement":{padding:".2em"}},".cm-lint-marker":{width:"1em",height:"1em"},".cm-lint-marker-info":{content:a('<path fill="#aaf" stroke="#77e" stroke-width="6" stroke-linejoin="round" d="M5 5L35 5L35 35L5 35Z"/>')},".cm-lint-marker-warning":{content:a('<path fill="#fe8" stroke="#fd7" stroke-width="6" stroke-linejoin="round" d="M20 6L37 35L3 35Z"/>')},".cm-lint-marker-error":{content:a('<circle cx="20" cy="20" r="15" fill="#f87" stroke="#f43" stroke-width="6"/>')}}),it=[fo,_.tk.decorations.compute([fo],f=>{let{selected:n,panel:m}=f.field(fo);return!n||!m||n.from==n.to?_.p.none:_.p.set([da.range(n.from,n.to)])}),(0,_.bF)(Wa,{hideOn:hs}),t],pt=O.r$.define({combine(f){return(0,O.BO)(f,{hoverTime:300,markerFilter:null,tooltipFilter:null})}});function kt(f={}){return[pt.of(f),Y,B,ke,he]}function Jt(f,n){let m=f.field(fo,!1);if(m&&m.diagnostics.size)for(let b=RangeSet.iter([m.diagnostics]);b.value;b.next())n(b.value.spec.diagnostic,b.from,b.to)}var Rt=function(n){n===void 0&&(n={});var m=[];n.closeBracketsKeymap!==!1&&(m=m.concat(Re)),n.defaultKeymap!==!1&&(m=m.concat(tn)),n.searchKeymap!==!1&&(m=m.concat(_s)),n.historyKeymap!==!1&&(m=m.concat(Xe)),n.foldKeymap!==!1&&(m=m.concat(D.e7)),n.completionKeymap!==!1&&(m=m.concat(qn)),n.lintKeymap!==!1&&(m=m.concat(h));var b=[];return n.lineNumbers!==!1&&b.push((0,_.Eu)()),n.highlightActiveLineGutter!==!1&&b.push((0,_.HQ)()),n.highlightSpecialChars!==!1&&b.push((0,_.AE)()),n.history!==!1&&b.push(lt()),n.foldGutter!==!1&&b.push((0,D.mi)()),n.drawSelection!==!1&&b.push((0,_.Uw)()),n.dropCursor!==!1&&b.push((0,_.qr)()),n.allowMultipleSelections!==!1&&b.push(O.yy.allowMultipleSelections.of(!0)),n.indentOnInput!==!1&&b.push((0,D.nY)()),n.syntaxHighlighting!==!1&&b.push((0,D.nF)(D.R_,{fallback:!0})),n.bracketMatching!==!1&&b.push((0,D.n$)()),n.closeBrackets!==!1&&b.push(Oa()),n.autocompletion!==!1&&b.push(Tn()),n.rectangularSelection!==!1&&b.push((0,_.Zs)()),n.crosshairCursor!==!1&&b.push((0,_.S2)()),n.highlightActiveLine!==!1&&b.push((0,_.ZO)()),n.highlightSelectionMatches!==!1&&b.push(Io()),n.tabSize&&typeof n.tabSize=="number"&&b.push(D.c.of(" ".repeat(n.tabSize))),b.concat([_.$f.of(m.flat())]).filter(Boolean)},sr=function(n){n===void 0&&(n={});var m=[];n.defaultKeymap!==!1&&(m=m.concat(defaultKeymap)),n.historyKeymap!==!1&&(m=m.concat(historyKeymap));var b=[];return n.highlightSpecialChars!==!1&&b.push(highlightSpecialChars()),n.history!==!1&&b.push(history()),n.drawSelection!==!1&&b.push(drawSelection()),n.syntaxHighlighting!==!1&&b.push(syntaxHighlighting(defaultHighlightStyle,{fallback:!0})),b.concat([keymap.of(m.flat())]).filter(Boolean)},er=u(86253);const hn="#e5c07b",Dr="#e06c75",nn="#56b6c2",qr="#ffffff",hi="#abb2bf",ro="#7d8799",ho="#61afef",Cs="#98c379",ia="#d19a66",Zs="#c678dd",Za="#21252b",Us="#2c313a",oa="#282c34",sa="#353a42",xa="#3E4451",Ua="#528bff",Ca={chalky:hn,coral:Dr,cyan:nn,invalid:qr,ivory:hi,stone:ro,malibu:ho,sage:Cs,whiskey:ia,violet:Zs,darkBackground:Za,highlightBackground:Us,background:oa,tooltipBackground:sa,selection:xa,cursor:Ua},ha=_.tk.theme({"&":{color:hi,backgroundColor:oa},".cm-content":{caretColor:Ua},".cm-cursor, .cm-dropCursor":{borderLeftColor:Ua},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:xa},".cm-panels":{backgroundColor:Za,color:hi},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:oa,color:ro,border:"none"},".cm-activeLineGutter":{backgroundColor:Us},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:sa},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:sa,borderBottomColor:sa},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:Us,color:hi}}},{dark:!0}),wl=D.Qf.define([{tag:er.pJ.keyword,color:Zs},{tag:[er.pJ.name,er.pJ.deleted,er.pJ.character,er.pJ.propertyName,er.pJ.macroName],color:Dr},{tag:[er.pJ.function(er.pJ.variableName),er.pJ.labelName],color:ho},{tag:[er.pJ.color,er.pJ.constant(er.pJ.name),er.pJ.standard(er.pJ.name)],color:ia},{tag:[er.pJ.definition(er.pJ.name),er.pJ.separator],color:hi},{tag:[er.pJ.typeName,er.pJ.className,er.pJ.number,er.pJ.changed,er.pJ.annotation,er.pJ.modifier,er.pJ.self,er.pJ.namespace],color:hn},{tag:[er.pJ.operator,er.pJ.operatorKeyword,er.pJ.url,er.pJ.escape,er.pJ.regexp,er.pJ.link,er.pJ.special(er.pJ.string)],color:nn},{tag:[er.pJ.meta,er.pJ.comment],color:ro},{tag:er.pJ.strong,fontWeight:"bold"},{tag:er.pJ.emphasis,fontStyle:"italic"},{tag:er.pJ.strikethrough,textDecoration:"line-through"},{tag:er.pJ.link,color:ro,textDecoration:"underline"},{tag:er.pJ.heading,fontWeight:"bold",color:Dr},{tag:[er.pJ.atom,er.pJ.bool,er.pJ.special(er.pJ.variableName)],color:ia},{tag:[er.pJ.processingInstruction,er.pJ.string,er.pJ.inserted],color:Cs},{tag:er.pJ.invalid,color:qr}]),Ol=[ha,(0,D.nF)(wl)];var xl=_.tk.theme({"&":{backgroundColor:"#fff"}},{dark:!1}),Cl=function(n){n===void 0&&(n={});var{indentWithTab:m=!0,editable:b=!0,readOnly:P=!1,theme:W="light",placeholder:ce="",basicSetup:Ae=!0}=n,Me=[];switch(m&&Me.unshift(_.$f.of([Zn])),Ae&&(typeof Ae=="boolean"?Me.unshift(Rt()):Me.unshift(Rt(Ae))),ce&&Me.unshift((0,_.W$)(ce)),W){case"light":Me.push(xl);break;case"dark":Me.push(Ol);break;case"none":break;default:Me.push(W);break}return b===!1&&Me.push(_.tk.editable.of(!1)),P&&Me.push(O.yy.readOnly.of(!0)),[...Me]},Al=f=>({line:f.state.doc.lineAt(f.state.selection.main.from),lineCount:f.state.doc.lines,lineBreak:f.state.lineBreak,length:f.state.doc.length,readOnly:f.state.readOnly,tabSize:f.state.tabSize,selection:f.state.selection,selectionAsSingle:f.state.selection.asSingle().main,ranges:f.state.selection.ranges,selectionCode:f.state.sliceDoc(f.state.selection.main.from,f.state.selection.main.to),selections:f.state.selection.ranges.map(n=>f.state.sliceDoc(n.from,n.to)),selectedText:f.state.selection.ranges.some(n=>!n.empty)}),yl=O.q6.define();function Pl(f){var{value:n,selection:m,onChange:b,onStatistics:P,onCreateEditor:W,onUpdate:ce,extensions:Ae=[],autoFocus:Me,theme:vt="light",height:At="",minHeight:tr="",maxHeight:Gr="",placeholder:Nn="",width:Wi="",minWidth:aa="",maxWidth:nl="",editable:Xa=!0,readOnly:Vi=!1,indentWithTab:ma=!0,basicSetup:ms=!0,root:Po,initialState:Aa}=f,[Pa,hl]=(0,R.useState)(),[To,Va]=(0,R.useState)(),[il,ol]=(0,R.useState)(),gl=_.tk.theme({"&":{height:At,minHeight:tr,maxHeight:Gr,width:Wi,minWidth:aa,maxWidth:nl},"& .cm-scroller":{height:"100% !important"}}),sl=_.tk.updateListener.of(pa=>{if(pa.docChanged&&typeof b=="function"&&!pa.transactions.some(kl=>kl.annotation(yl))){var ul=pa.state.doc,ml=ul.toString();b(ml,pa)}P&&P(Al(pa))}),al=Cl({theme:vt,editable:Xa,readOnly:Vi,placeholder:Nn,indentWithTab:ma,basicSetup:ms}),ll=[sl,gl,...al];return ce&&typeof ce=="function"&&ll.push(_.tk.updateListener.of(ce)),ll=ll.concat(Ae),(0,R.useEffect)(()=>{if(Pa&&!il){var pa={doc:n,selection:m,extensions:ll},ul=Aa?O.yy.fromJSON(Aa.json,pa,Aa.fields):O.yy.create(pa);if(ol(ul),!To){var ml=new _.tk({state:ul,parent:Pa,root:Po});Va(ml),W&&W(ml,ul)}}return()=>{To&&(ol(void 0),Va(void 0))}},[Pa,il]),(0,R.useEffect)(()=>hl(f.container),[f.container]),(0,R.useEffect)(()=>()=>{To&&(To.destroy(),Va(void 0))},[To]),(0,R.useEffect)(()=>{Me&&To&&To.focus()},[Me,To]),(0,R.useEffect)(()=>{To&&To.dispatch({effects:O.Py.reconfigure.of(ll)})},[vt,Ae,At,tr,Gr,Wi,aa,nl,Nn,Xa,Vi,ma,ms,b,ce]),(0,R.useEffect)(()=>{if(n!==void 0){var pa=To?To.state.doc.toString():"";To&&n!==pa&&To.dispatch({changes:{from:0,to:pa.length,insert:n||""},annotations:[yl.of(!0)]})}},[n,To]),{state:il,setState:ol,view:To,setView:Va,container:Pa,setContainer:hl}}var Tl=u(52322),_l=["className","value","selection","extensions","onChange","onStatistics","onCreateEditor","onUpdate","autoFocus","theme","height","minHeight","maxHeight","width","minWidth","maxWidth","basicSetup","placeholder","indentWithTab","editable","readOnly","root","initialState"],vl=(0,R.forwardRef)((f,n)=>{var{className:m,value:b="",selection:P,extensions:W=[],onChange:ce,onStatistics:Ae,onCreateEditor:Me,onUpdate:vt,autoFocus:At,theme:tr="light",height:Gr,minHeight:Nn,maxHeight:Wi,width:aa,minWidth:nl,maxWidth:Xa,basicSetup:Vi,placeholder:ma,indentWithTab:ms,editable:Po,readOnly:Aa,root:Pa,initialState:hl}=f,To=(0,p.Z)(f,_l),Va=(0,R.useRef)(null),{state:il,view:ol,container:gl}=Pl({container:Va.current,root:Pa,value:b,autoFocus:At,theme:tr,height:Gr,minHeight:Nn,maxHeight:Wi,width:aa,minWidth:nl,maxWidth:Xa,basicSetup:Vi,placeholder:ma,indentWithTab:ms,editable:Po,readOnly:Aa,selection:P,onChange:ce,onStatistics:Ae,onCreateEditor:Me,onUpdate:vt,extensions:W,initialState:hl});if((0,R.useImperativeHandle)(n,()=>({editor:Va.current,state:il,view:ol}),[Va,gl,il,ol]),typeof b!="string")throw new Error("value must be typeof string but got "+typeof b);var sl=typeof tr=="string"?"cm-theme-"+tr:"cm-theme";return(0,Tl.jsx)("div",(0,s.Z)({ref:Va,className:""+sl+(m?" "+m:"")},To))});vl.displayName="CodeMirror";var Dl=vl},93948:function(Le,w,u){"use strict";var s=u(87245),p=u(63772),R=u(8615),O=Math.pow(2,31)-1;function _(j,I){var G=1,z;if(j===0)return I;if(I===0)return j;for(;j%2===0&&I%2===0;)j=j/2,I=I/2,G=G*2;for(;j%2===0;)j=j/2;for(;I;){for(;I%2===0;)I=I/2;j>I&&(z=I,I=j,j=z),I=I-j}return G*j}function D(j,I){var G=0,z;if(j===0)return I;if(I===0)return j;for(;!(j&1)&&!(I&1);)j>>>=1,I>>>=1,G++;for(;!(j&1);)j>>>=1;for(;I;){for(;!(I&1);)I>>>=1;j>I&&(z=I,I=j,j=z),I=I-j}return j<<G}function N(){var j=arguments.length,I,G,z,re,ne,ae,ve;for(I=new Array(j),ve=0;ve<j;ve++)I[ve]=arguments[ve];if(p(I)){if(j===2)return ne=I[0],ae=I[1],ne<0&&(ne=-ne),ae<0&&(ae=-ae),ne<=O&&ae<=O?D(ne,ae):_(ne,ae);z=I}else if(s(I[0]))if(j>1){if(z=I[0],G=I[1],!R(G))throw new TypeError("gcd()::invalid input argument. Accessor must be a function. Value: `"+G+"`.")}else z=I[0];else throw new TypeError("gcd()::invalid input argument. Must provide an array of integers. Value: `"+I[0]+"`.");if(re=z.length,re<2)return null;if(G){for(ne=new Array(re),ve=0;ve<re;ve++)ne[ve]=G(z[ve],ve);z=ne}if(j<3&&!p(z))throw new TypeError("gcd()::invalid input argument. Accessed array values must be integers. Value: `"+z+"`.");for(ve=0;ve<re;ve++)ne=z[ve],ne<0&&(z[ve]=-ne);for(ne=z[0],ve=1;ve<re;ve++)ae=z[ve],ae<=O&&ne<=O?ne=D(ne,ae):ne=_(ne,ae);return ne}Le.exports=N},73198:function(Le,w,u){"use strict";var s=u(93948),p=u(87245),R=u(63772),O=u(8615);function _(){var D=arguments.length,N,j,I,G,z,re,ne;for(N=new Array(D),ne=0;ne<D;ne++)N[ne]=arguments[ne];if(R(N)){if(D===2)return z=N[0],re=N[1],z<0&&(z=-z),re<0&&(re=-re),z===0||re===0?0:z/s(z,re)*re;I=N}else if(p(N[0]))if(D>1){if(I=N[0],j=N[1],!O(j))throw new TypeError("lcm()::invalid input argument. Accessor must be a function. Value: `"+j+"`.")}else I=N[0];else throw new TypeError("lcm()::invalid input argument. Must provide an array of integers. Value: `"+N[0]+"`.");if(G=I.length,G<2)return null;if(j){for(z=new Array(G),ne=0;ne<G;ne++)z[ne]=j(I[ne],ne);I=z}if(D<3&&!R(I))throw new TypeError("lcm()::invalid input argument. Accessed array values must be integers. Value: `"+I+"`.");for(ne=0;ne<G;ne++)z=I[ne],z<0&&(I[ne]=-z);for(z=I[0],ne=1;ne<G;ne++){if(re=I[ne],z===0||re===0)return 0;z=z/s(z,re)*re}return z}Le.exports=_},16455:function(Le,w,u){var s=u(6200);Le.exports=s},35558:function(Le,w,u){u(21710);var s=u(47923);Le.exports=s("Array","fill")},5594:function(Le,w,u){u(70024);var s=u(47923);Le.exports=s("Array","includes")},29320:function(Le,w,u){var s=u(16455);Le.exports=s},47923:function(Le,w,u){var s=u(10150);Le.exports=s},6200:function(Le,w,u){var s=u(35558);Le.exports=s},44091:function(Le,w,u){"use strict";var s;s={value:!0};const p=u(73961);var R;(function(O){O.RULES=[{name:"Grammar",bnf:[["RULE_S*","%Atomic*","EOF"]]},{name:"%Atomic",bnf:[["Production","RULE_S*"]],fragment:!0},{name:"Production",bnf:[["NCName","RULE_S*",'"::="',"RULE_WHITESPACE*","Choice","RULE_WHITESPACE*","RULE_EOL+","RULE_S*"]]},{name:"NCName",bnf:[[/[a-zA-Z][a-zA-Z_0-9]*/]]},{name:"Choice",bnf:[["SequenceOrDifference","%_Choice_1*"]],fragment:!0},{name:"%_Choice_1",bnf:[["RULE_WHITESPACE*",'"|"',"RULE_WHITESPACE*","SequenceOrDifference"]],fragment:!0},{name:"SequenceOrDifference",bnf:[["Item","RULE_WHITESPACE*","%_Item_1?"]]},{name:"%_Item_1",bnf:[["Minus","Item"],["Item*"]],fragment:!0},{name:"Minus",bnf:[['"-"']]},{name:"Item",bnf:[["RULE_WHITESPACE*","%Primary","PrimaryDecoration?"]],fragment:!0},{name:"PrimaryDecoration",bnf:[['"?"'],['"*"'],['"+"']]},{name:"DecorationName",bnf:[['"ebnf://"',/[^\x5D#]+/]]},{name:"%Primary",bnf:[["NCName"],["StringLiteral"],["CharCode"],["CharClass"],["SubItem"]],fragment:!0},{name:"SubItem",bnf:[['"("',"RULE_WHITESPACE*","Choice","RULE_WHITESPACE*",'")"']]},{name:"StringLiteral",bnf:[[`'"'`,/[^"]*/,`'"'`],[`"'"`,/[^']*/,`"'"`]],pinned:1},{name:"CharCode",bnf:[['"#x"',/[0-9a-zA-Z]+/]]},{name:"CharClass",bnf:[["'['","'^'?","%RULE_CharClass_1+",'"]"']]},{name:"%RULE_CharClass_1",bnf:[["CharCodeRange"],["CharRange"],["CharCode"],["RULE_Char"]],fragment:!0},{name:"RULE_Char",bnf:[[/\x09/],[/\x0A/],[/\x0D/],[/[\x20-\x5c]/],[/[\x5e-\uD7FF]/],[/[\uE000-\uFFFD]/]]},{name:"CharRange",bnf:[["RULE_Char",'"-"',"RULE_Char"]]},{name:"CharCodeRange",bnf:[["CharCode",'"-"',"CharCode"]]},{name:"RULE_WHITESPACE",bnf:[["%RULE_WHITESPACE_CHAR*"],["Comment","RULE_WHITESPACE*"]]},{name:"RULE_S",bnf:[["RULE_WHITESPACE","RULE_S*"],["RULE_EOL","RULE_S*"]]},{name:"%RULE_WHITESPACE_CHAR",bnf:[[/\x09/],[/\x20/]],fragment:!0},{name:"Comment",bnf:[['"/*"',"%RULE_Comment_Body*",'"*/"']]},{name:"%RULE_Comment_Body",bnf:[['!"*/"',/[^*]/]],fragment:!0},{name:"RULE_EOL",bnf:[[/\x0D/,/\x0A/],[/\x0A/],[/\x0D/]]},{name:"Link",bnf:[["'['","Url","']'"]]},{name:"Url",bnf:[[/[^\x5D:/?#]/,'"://"',/[^\x5D#]+/,"%Url1?"]]},{name:"%Url1",bnf:[['"#"',"NCName"]],fragment:!0}],O.defaultParser=new p.Parser(O.RULES,{debug:!1});const _=/^(!|&)/,D=/(\?|\+|\*)$/,N=/^%/;function j(fe,ee){if(typeof fe=="string"){if(_.test(fe))return"";if(N.test(fe)){let Se=D.exec(fe),Ie=Se?Se[0]+" ":"";return I(fe,ee)?z(fe,ee)+Ie:"("+z(fe,ee)+")"+Ie}return fe}else return fe.source.replace(/\\(?:x|u)([a-zA-Z0-9]+)/g,"#x$1").replace(/\[\\(?:x|u)([a-zA-Z0-9]+)-\\(?:x|u)([a-zA-Z0-9]+)\]/g,"[#x$1-#x$2]")}function I(fe,ee){let $=p.findRuleByName(fe,ee);return $&&$.bnf.length==1&&$.bnf[0].length==1&&($.bnf[0][0]instanceof RegExp||$.bnf[0][0][0]=='"'||$.bnf[0][0][0]=="'")}function G(fe,ee){return fe.map($=>j($,ee)).join(" ")}function z(fe,ee){let $=p.findRuleByName(fe,ee);return $?$.bnf.map(Se=>G(Se,ee)).join(" | "):"RULE_NOT_FOUND {"+fe+"}"}function re(fe){let ee=[];return fe.grammarRules.forEach($=>{if(!/^%/.test($.name)){let Se=$.recover?" /* { recoverUntil="+$.recover+" } */":"";ee.push($.name+" ::= "+z($.name,fe)+Se)}}),ee.join(`
`)}O.emit=re;let ne=0;function ae(fe,ee){throw console.log("reberia restar "+ee+" a "+fe),new Error("Difference not supported yet")}function ve(fe){return new RegExp(fe.replace(/#x([a-zA-Z0-9]{4})/g,"\\u$1").replace(/#x([a-zA-Z0-9]{3})/g,"\\u0$1").replace(/#x([a-zA-Z0-9]{2})/g,"\\x$1").replace(/#x([a-zA-Z0-9]{1})/g,"\\x0$1"))}function M(fe,ee,$){let Se=null,Ie=[];return ee.children.forEach((Oe,We)=>{Oe.type=="Minus"&&ae(Se,Oe);let Ge=ee.children[We+1];Ge=Ge&&Ge.type=="PrimaryDecoration"&&Ge.text||"";let lt="";switch(Oe.type){case"SubItem":let Qe="%"+($+ne++);H(fe,Oe,Qe),Ie.push(lt+Qe+Ge);break;case"NCName":case"StringLiteral":Ie.push(lt+Oe.text+Ge);break;case"CharCode":case"CharClass":if(Ge||lt){let He={name:"%"+($+ne++),bnf:[[ve(Oe.text)]]};fe.push(He),Ie.push(lt+He.name+Ge)}else Ie.push(ve(Oe.text));break;case"PrimaryDecoration":break;default:throw new Error(" HOW SHOULD I PARSE THIS? "+Oe.type+" -> "+JSON.stringify(Oe.text))}Se=Oe}),Ie}function H(fe,ee,$){let Se=ee.children.filter(We=>We.type=="SequenceOrDifference").map(We=>M(fe,We,$)),Ie={name:$,bnf:Se},Oe=null;Se.forEach(We=>{Oe=Oe||We.recover,delete We.recover}),$.indexOf("%")==0&&(Ie.fragment=!0),Oe&&(Ie.recover=Oe),fe.push(Ie)}function ue(fe,ee=O.defaultParser){let $=ee.getAST(fe);if(!$)throw new Error("Could not parse "+fe);if($.errors&&$.errors.length)throw $.errors[0];let Se=[];return $.children.filter(Ie=>Ie.type=="Production").map(Ie=>{let Oe=Ie.children.filter(We=>We.type=="NCName")[0].text;H(Se,Ie,Oe)}),Se}O.getRules=ue;function X(fe,ee=O.defaultParser){return ue(fe.join(""),ee)}O.Transform=X;class se extends p.Parser{constructor(ee,$){const Se=$&&$.debugRulesParser===!0?new p.Parser(O.RULES,{debug:!0}):O.defaultParser;super(ue(ee,Se),$)}emitSource(){return re(this)}}O.Parser=se})(R||(R={})),w.Z=R},73961:function(Le,w,u){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.Parser=w.findRuleByName=w.parseRuleName=w.escapeRegExp=w.readToken=void 0;const s=/^[A-Z0-9_]+$/,p=/(\?|\+|\*)$/,R=/^(@|&|!)/,O="WS",_=u(80707);function D(M,H){let ue=H.exec(M);return ue&&ue.index==0?ue[0].length==0&&H.source.length>0?null:{type:null,text:ue[0],rest:M.substr(ue[0].length),start:0,end:ue[0].length-1,fullText:ue[0],errors:[],children:[],parent:null}:null}w.readToken=D;function N(M){return M.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}w.escapeRegExp=N;function j(M){M.rest="",M.children&&M.children.forEach(H=>j(H))}function I(M,H){M.start+=H,M.end+=H,M.children&&M.children.forEach(ue=>I(ue,M.start))}function G(M,H){H.errors&&H.errors.length&&H.errors.forEach(ue=>M.push(ue)),H.children&&H.children.forEach(ue=>G(M,ue))}function z(M){let H=p.exec(M),ue=R.exec(M),X=H&&H[0]||"",se=ue&&ue[0]||"",fe={raw:M,name:M.replace(p,"").replace(R,""),isOptional:X=="?"||X=="*",allowRepetition:X=="+"||X=="*",atLeastOne:X=="+",lookupPositive:se=="&",lookupNegative:se=="!",pinned:se=="@",lookup:!1,isLiteral:!1};return fe.isLiteral=fe.name[0]=="'"||fe.name[0]=='"',fe.lookup=fe.lookupNegative||fe.lookupPositive,fe}w.parseRuleName=z;function re(M,H){let ue=z(M);return H.cachedRules[ue.name]||null}w.findRuleByName=re;function ne(M,H){if(M.children){let ue=M.children.filter(X=>X.type&&H.test(X.type));for(let X=0;X<ue.length;X++){let se=M.children.indexOf(ue[X]);se!=-1&&M.children.splice(se,1)}M.children.forEach(X=>ne(X,H))}}const ae=["EOF"];class ve{constructor(H,ue){this.grammarRules=H,this.options=ue,this.cachedRules={},this.debug=ue?ue.debug===!0:!1;let X=[],se=[];if(H.forEach(fe=>{let ee=z(fe.name);if(ee.name in this.cachedRules){X.push("Duplicated rule "+ee.name);return}else this.cachedRules[ee.name]=fe;if(!fe.bnf||!fe.bnf.length){let $="Missing rule content, rule: "+fe.name;X.indexOf($)==-1&&X.push($)}else fe.bnf.forEach($=>{if(typeof $[0]=="string"&&z($[0]).name==fe.name){let Ie="Left recursion is not allowed, rule: "+fe.name;X.indexOf(Ie)==-1&&X.push(Ie)}$.forEach(Se=>{if(typeof Se=="string"){let Ie=z(Se);!Ie.isLiteral&&se.indexOf(Ie.name)==-1&&ae.indexOf(Ie.name)==-1&&se.push(Ie.name)}})});O==fe.name&&(fe.implicitWs=!1),fe.implicitWs&&se.indexOf(O)==-1&&se.push(O),fe.recover&&se.indexOf(fe.recover)==-1&&se.push(fe.recover)}),se.forEach(fe=>{fe in this.cachedRules||X.push("Missing rule "+fe)}),X.length)throw new Error(X.join(`
`))}getAST(H,ue){ue||(ue=this.grammarRules.filter(se=>!se.fragment&&se.name.indexOf("%")!=0)[0].name);let X=this.parse(H,ue);if(X){G(X.errors,X),I(X,0),ne(X,/^%/),(!this.options||!this.options.keepUpperRules)&&ne(X,s);let se=X.rest;se&&new _.TokenError(`Unexpected end of input: 
`+se,X),j(X),X.rest=se}return X}emitSource(){return"CANNOT EMIT SOURCE FROM BASE Parser"}parse(H,ue,X=0){let se=null,fe=z(ue),ee,$=this.debug&&!s.test(fe.name);$&&console.log(new Array(X).join("\u2502  ")+"Trying to get "+ue+" from "+JSON.stringify(H.split(`
`)[0]));let Se=fe.name,Ie=re(fe.name,this);if(fe.name=="EOF"){if(H.length)return null;if(H.length==0)return{type:"EOF",text:"",rest:"",start:0,end:0,fullText:"",errors:[],children:[],parent:null}}try{if(!Ie&&fe.isLiteral){let Oe=fe.name.trim();if(Oe.startsWith('"')?Oe=JSON.parse(Oe):Oe.startsWith("'")&&(Oe=Oe.replace(/^'(.+)'$/,"$1").replace(/\\'/g,"'")),Oe==="")return{type:"%%EMPTY%%",text:"",rest:H,start:0,end:0,fullText:"",errors:[],children:[],parent:null};ee=new RegExp(N(Oe)),Se=null}}catch(Oe){return Oe instanceof ReferenceError&&console.error(Oe),null}if(ee){let Oe=D(H,ee);if(Oe)return Oe.type=Se,Oe}else{let Oe=Ie.bnf;Oe instanceof Array&&Oe.forEach(We=>{if(se)return;let Ge=null,lt={type:fe.name,text:"",children:[],end:0,errors:[],fullText:"",parent:null,start:0,rest:H};Ie.fragment&&(lt.fragment=!0);let Qe=H,He=0,St=We.length>0,qt=!1;for(let dt=0;dt<We.length;dt++)if(typeof We[dt]=="string"){let wt=z(We[dt]);St=St&&wt.isOptional;let rt,Ze=!1;do{if(rt=null,Ie.implicitWs&&(rt=this.parse(Qe,wt.name,X+1),!rt)){let yt;do if(yt=this.parse(Qe,O,X+1),yt)lt.text=lt.text+yt.text,lt.end=lt.text.length,yt.parent=lt,lt.children.push(yt),Qe=Qe.substr(yt.text.length),He+=yt.text.length;else break;while(yt&&yt.text.length)}if(rt=rt||this.parse(Qe,wt.name,X+1),wt.lookupNegative){if(rt)return;break}if(wt.lookupPositive&&!rt)return;if(!rt&&(wt.isOptional||wt.atLeastOne&&Ze))break;if(rt&&Ie.pinned==dt+1&&(Ge=rt,$&&console.log(new Array(X+1).join("\u2502  ")+"\u2514\u2500 "+rt.type+" PINNED")),rt||(rt=this.parseRecovery(Ie,Qe,X+1)),!rt)if(Ge)se=lt,rt={type:"SyntaxError",text:Qe,children:[],end:Qe.length,errors:[],fullText:"",parent:null,start:0,rest:""},Qe.length?new _.TokenError(`Unexpected end of input. Expecting ${wt.name} Got: ${Qe}`,rt):new _.TokenError(`Unexpected end of input. Missing ${wt.name}`,rt),$&&console.log(new Array(X+1).join("\u2502  ")+"\u2514\u2500 "+rt.type+" "+JSON.stringify(rt.text));else return;if(Ze=!0,qt=!0,rt.type=="%%EMPTY%%")break;rt.start+=He,rt.end+=He,!wt.lookupPositive&&rt.type&&(rt.fragment?rt.children&&rt.children.forEach(yt=>{yt.start+=He,yt.end+=He,yt.parent=lt,lt.children.push(yt)}):(rt.parent=lt,lt.children.push(rt))),wt.lookup&&(rt.lookup=!0),$&&console.log(new Array(X+1).join("\u2502  ")+"\u2514\u2500 "+rt.type+" "+JSON.stringify(rt.text)),!wt.lookup&&!rt.lookup&&(lt.text=lt.text+rt.text,lt.end=lt.text.length,Qe=Qe.substr(rt.text.length),He+=rt.text.length),lt.rest=Qe}while(rt&&wt.allowRepetition&&Qe.length&&!rt.lookup)}else{let wt=D(Qe,We[dt]);if(!wt)return;$&&console.log(new Array(X+1).join("\u2502  ")+"\u2514> "+JSON.stringify(wt.text)+We[dt].source),qt=!0,wt.start+=He,wt.end+=He,lt.text=lt.text+wt.text,lt.end=lt.text.length,Qe=Qe.substr(wt.text.length),He+=wt.text.length,lt.rest=Qe}qt&&(se=lt,$&&console.log(new Array(X).join("\u2502  ")+"\u251C<\u2500\u2534< PUSHING "+se.type+" "+JSON.stringify(se.text)))}),se&&Ie.simplifyWhenOneChildren&&se.children.length==1&&(se=se.children[0])}return se||$&&console.log(ue+" NOT RESOLVED FROM "+H),se}parseRecovery(H,ue,X){if(H.recover&&ue.length){let se=this.debug;se&&console.log(new Array(X+1).join("\u2502  ")+"Trying to recover until token "+H.recover+" from "+JSON.stringify(ue.split(`
`)[0]+ue.split(`
`)[1]));let fe={type:"SyntaxError",text:"",children:[],end:0,errors:[],fullText:"",parent:null,start:0,rest:""},ee;do if(ee=this.parse(ue,H.recover,X+1),ee){new _.TokenError('Unexpected input: "'+fe.text+`" Expecting: ${H.name}`,fe);break}else fe.text=fe.text+ue[0],fe.end=fe.text.length,ue=ue.substr(1);while(!ee&&ue.length>0);if(fe.text.length>0&&ee)return se&&console.log(new Array(X+1).join("\u2502  ")+"Recovered text: "+JSON.stringify(fe.text)),fe}return null}}w.Parser=ve,w.default=ve},80707:function(Le,w){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.TokenError=void 0;class u extends Error{constructor(p,R){if(super(p),this.message=p,this.token=R,R&&R.errors)R.errors.push(this);else throw this}inspect(){return"SyntaxError: "+this.message}}w.TokenError=u},93503:function(Le,w,u){var s=u(18149),p=u(829),R=u(75652),O=u(39642),_=u(84573),D=u(74186),N=u(97030),j=u(4335),I=Qe=>Array.isArray(Qe)?Qe:[Qe],G=Qe=>Qe===void 0,z=Qe=>N(Qe)||Array.isArray(Qe)?Object.keys(Qe):[],re=(Qe,He)=>Qe.hasOwnProperty(He),ne=Qe=>p(R(Qe)),ae=Qe=>G(Qe)||Array.isArray(Qe)&&Qe.length===0,ve=(Qe,He,St,qt)=>He&&re(He,St)&&Qe&&re(Qe,St)&&qt(Qe[St],He[St]),M=(Qe,He)=>G(Qe)&&He===0||G(He)&&Qe===0||s(Qe,He),H=(Qe,He)=>G(Qe)&&He===!1||G(He)&&Qe===!1||s(Qe,He),ue=Qe=>G(Qe)||s(Qe,{})||Qe===!0,X=Qe=>G(Qe)||s(Qe,{}),se=Qe=>G(Qe)||N(Qe)||Qe===!0||Qe===!1;function fe(Qe,He){return ae(Qe)&&ae(He)?!0:s(ne(Qe),ne(He))}function ee(Qe,He){return Qe=I(Qe),He=I(He),s(ne(Qe),ne(He))}function $(Qe,He,St,qt){var dt=R(z(Qe).concat(z(He)));return X(Qe)&&X(He)?!0:X(Qe)&&z(He).length||X(He)&&z(Qe).length?!1:dt.every(function(wt){var rt=Qe[wt],Ze=He[wt];return Array.isArray(rt)&&Array.isArray(Ze)?s(ne(Qe),ne(He)):Array.isArray(rt)&&!Array.isArray(Ze)||Array.isArray(Ze)&&!Array.isArray(rt)?!1:ve(Qe,He,wt,qt)})}function Se(Qe,He,St,qt){return N(Qe)&&N(He)?qt(Qe,He):Array.isArray(Qe)&&Array.isArray(He)?$(Qe,He,St,qt):s(Qe,He)}function Ie(Qe,He,St,qt){var dt=O(Qe,qt),wt=O(He,qt),rt=D(dt,wt,qt);return rt.length===Math.max(dt.length,wt.length)}var Oe={title:s,uniqueItems:H,minLength:M,minItems:M,minProperties:M,required:fe,enum:fe,type:ee,items:Se,anyOf:Ie,allOf:Ie,oneOf:Ie,properties:$,patternProperties:$,dependencies:$},We=["properties","patternProperties","dependencies","uniqueItems","minLength","minItems","minProperties","required"],Ge=["additionalProperties","additionalItems","contains","propertyNames","not"];function lt(Qe,He,St){if(St=_(St,{ignore:[]}),ue(Qe)&&ue(He))return!0;if(!se(Qe)||!se(He))throw new Error("Either of the values are not a JSON schema.");if(Qe===He)return!0;if(j(Qe)&&j(He))return Qe===He;if(Qe===void 0&&He===!1||He===void 0&&Qe===!1||G(Qe)&&!G(He)||!G(Qe)&&G(He))return!1;var qt=R(Object.keys(Qe).concat(Object.keys(He)));if(St.ignore.length&&(qt=qt.filter(wt=>St.ignore.indexOf(wt)===-1)),!qt.length)return!0;function dt(wt,rt){return lt(wt,rt,St)}return qt.every(function(wt){var rt=Qe[wt],Ze=He[wt];if(Ge.indexOf(wt)!==-1)return lt(rt,Ze,St);var yt=Oe[wt];if(yt||(yt=s),s(rt,Ze))return!0;if(We.indexOf(wt)===-1&&(!re(Qe,wt)&&re(He,wt)||re(Qe,wt)&&!re(He,wt)))return rt===Ze;var tt=yt(rt,Ze,wt,dt);if(!j(tt))throw new Error("Comparer must return true or false");return tt})}Le.exports=lt},81995:function(Le,w,u){const s=u(35676),p=u(68632),R=u(97030),O=u(75652),_=u(39642),D=u(67304);function N(M){for(const H in M)G(M,H)&&ae(M[H])&&delete M[H];return M}const j=M=>O(p(M.map(z))),I=(M,H)=>M.map(ue=>ue&&ue[H]),G=(M,H)=>Object.prototype.hasOwnProperty.call(M,H),z=M=>R(M)||Array.isArray(M)?Object.keys(M):[],re=M=>M!==void 0,ne=M=>R(M)||M===!0||M===!1,ae=M=>!z(M).length&&M!==!1&&M!==!0,ve=(M,...H)=>D.apply(null,[M].concat(s(H)));Le.exports={allUniqueKeys:j,deleteUndefinedProps:N,getValues:I,has:G,isEmptySchema:ae,isSchema:ne,keys:z,notUndefined:re,uniqWith:_,withoutArr:ve}},16430:function(Le,w,u){const s=u(93503),p=u(59756),{allUniqueKeys:R,deleteUndefinedProps:O,has:_,isSchema:D,notUndefined:N,uniqWith:j}=u(81995);function I(ne){p(ne,function(ae,ve){ae===!1&&ne.splice(ve,1)})}function G(ne,ae){return ne.map(function(ve){if(ve)if(Array.isArray(ve.items)){const M=ve.items[ae];if(D(M))return M;if(_(ve,"additionalItems"))return ve.additionalItems}else return ve.items})}function z(ne){return ne.map(function(ae){if(ae)return Array.isArray(ae.items)?ae.additionalItems:ae.items})}function re(ne,ae,ve){return R(ve).reduce(function(H,ue){const X=G(ne,ue),se=j(X.filter(N),s);return H[ue]=ae(se,ue),H},[])}Le.exports={keywords:["items","additionalItems"],resolver(ne,ae,ve){const M=ne.map(se=>se.items),H=M.filter(N),ue={};H.every(D)?ue.items=ve.items(M):ue.items=re(ne,ve.items,M);let X;return H.every(Array.isArray)?X=ne.map(se=>se.additionalItems):H.some(Array.isArray)&&(X=z(ne)),X&&(ue.additionalItems=ve.additionalItems(X)),ue.additionalItems===!1&&Array.isArray(ue.items)&&I(ue.items),O(ue)}}},67953:function(Le,w,u){const s=u(93503),p=u(59756),{allUniqueKeys:R,deleteUndefinedProps:O,getValues:_,keys:D,notUndefined:N,uniqWith:j,withoutArr:I}=u(81995);function G(re){p(re,function(ne,ae){ne===!1&&delete re[ae]})}function z(re,ne){return R(re).reduce(function(ve,M){const H=_(re,M),ue=j(H.filter(N),s);return ve[M]=ne(ue,M),ve},{})}Le.exports={keywords:["properties","patternProperties","additionalProperties"],resolver(re,ne,ae,ve){ve.ignoreAdditionalProperties||(re.forEach(function(H){const ue=re.filter(ee=>ee!==H),X=D(H.properties),fe=D(H.patternProperties).map(ee=>new RegExp(ee));ue.forEach(function(ee){const $=D(ee.properties),Se=$.filter(Oe=>fe.some(We=>We.test(Oe)));I($,X,Se).forEach(function(Oe){ee.properties[Oe]=ae.properties([ee.properties[Oe],H.additionalProperties],Oe)})})}),re.forEach(function(H){const ue=re.filter(se=>se!==H),X=D(H.patternProperties);H.additionalProperties===!1&&ue.forEach(function(se){const fe=D(se.patternProperties);I(fe,X).forEach($=>delete se.patternProperties[$])})}));const M={additionalProperties:ae.additionalProperties(re.map(H=>H.additionalProperties)),patternProperties:z(re.map(H=>H.patternProperties),ae.patternProperties),properties:z(re.map(H=>H.properties),ae.properties)};return M.additionalProperties===!1&&G(M.properties),O(M)}}},33372:function(Le,w,u){const s=u(9850),p=u(93503),R=u(73198),O=u(19003),_=u(35676),D=u(68632),N=u(30898),j=u(74186),I=u(18149),G=u(97030),z=u(78911),re=u(829),ne=u(75652),ae=u(39642),ve=u(67953),M=u(16430),H=(Ve,K)=>Ve.indexOf(K)!==-1,ue=Ve=>G(Ve)||Ve===!0||Ve===!1,X=Ve=>Ve===!1,se=Ve=>Ve===!0,fe=(Ve,K,Z)=>Z(Ve),ee=Ve=>re(ne(D(Ve))),$=Ve=>Ve!==void 0,Se=Ve=>ne(D(Ve.map(wt))),Ie=Ve=>Ve[0],Oe=Ve=>ee(Ve),We=Ve=>Math.max.apply(Math,Ve),Ge=Ve=>Math.min.apply(Math,Ve),lt=Ve=>Ve.some(se),Qe=Ve=>ae(_(Ve),I);function He(Ve){return function(K,Z){return p({[Ve]:K},{[Ve]:Z})}}function St(Ve){let{allOf:K=[],...Z}=Ve;return Z=G(Ve)?Z:Ve,[Z,...K.map(St)]}function qt(Ve,K){return Ve.map(Z=>Z&&Z[K])}function dt(Ve,K){return Ve.map(function(Z,Q){try{return K(Z,Q)}catch{return}}).filter($)}function wt(Ve){return G(Ve)||Array.isArray(Ve)?Object.keys(Ve):[]}function rt(Ve,K){if(K=K||[],!Ve.length)return K;const Z=Ve.slice(0).shift(),Q=Ve.slice(1);return K.length?rt(Q,_(K.map(ie=>Z.map(Te=>[Te].concat(ie))))):rt(Q,Z.map(ie=>ie))}function Ze(Ve,K){let Z;try{Z=Ve.map(function(Q){return JSON.stringify(Q,null,2)}).join(`
`)}catch{Z=Ve.join(", ")}throw new Error('Could not resolve values for path:"'+K.join(".")+`". They are probably incompatible. Values: 
`+Z)}function yt(Ve,K,Z,Q,ie,Te){if(Ve.length){const Xe=ie.complexResolvers[K];if(!Xe||!Xe.resolver)throw new Error("No resolver found for "+K);const ct=Z.map(zt=>Ve.reduce((Xt,ot)=>(zt[ot]!==void 0&&(Xt[ot]=zt[ot]),Xt),{})),Mt=ae(ct,p),Qt=Xe.keywords.reduce((zt,Xt)=>({...zt,[Xt]:(ot,Ct=[])=>Q(ot,null,Te.concat(Xt,Ct))}),{}),Yt=Xe.resolver(Mt,Te.concat(K),Qt,ie);return G(Yt)||Ze(Mt,Te.concat(K)),Yt}}function tt(Ve){return{required:Ve}}const ge=["properties","patternProperties","definitions","dependencies"],$e=["anyOf","oneOf"],mt=["additionalProperties","additionalItems","contains","propertyNames","not","items"],_t={type(Ve){if(Ve.some(Array.isArray)){const K=Ve.map(function(Q){return Array.isArray(Q)?Q:[Q]}),Z=N.apply(null,K);if(Z.length===1)return Z[0];if(Z.length>1)return ne(Z)}},dependencies(Ve,K,Z){return Se(Ve).reduce(function(ie,Te){const Xe=qt(Ve,Te);let ct=ae(Xe.filter($),I);const Mt=ct.filter(Array.isArray);if(Mt.length){if(Mt.length===ct.length)ie[Te]=ee(ct);else{const Qt=ct.filter(ue),Yt=Mt.map(tt);ie[Te]=Z(Qt.concat(Yt),Te)}return ie}return ct=ae(ct,p),ie[Te]=Z(ct,Te),ie},{})},oneOf(Ve,K,Z){const Q=rt(s(Ve)),ie=dt(Q,Z),Te=ae(ie,p);if(Te.length)return Te},not(Ve){return{anyOf:Ve}},pattern(Ve){return Ve.map(K=>"(?="+K+")").join("")},multipleOf(Ve){let K=Ve.slice(0),Z=1;for(;K.some(Q=>!Number.isInteger(Q));)K=K.map(Q=>Q*10),Z=Z*10;return R(K)/Z},enum(Ve){const K=j.apply(null,Ve.concat(I));if(K.length)return re(K)}};_t.$id=Ie,_t.$ref=Ie,_t.$schema=Ie,_t.additionalItems=fe,_t.additionalProperties=fe,_t.anyOf=_t.oneOf,_t.contains=fe,_t.default=Ie,_t.definitions=_t.dependencies,_t.description=Ie,_t.examples=Qe,_t.exclusiveMaximum=Ge,_t.exclusiveMinimum=We,_t.items=M,_t.maximum=Ge,_t.maxItems=Ge,_t.maxLength=Ge,_t.maxProperties=Ge,_t.minimum=We,_t.minItems=We,_t.minLength=We,_t.minProperties=We,_t.properties=ve,_t.propertyNames=fe,_t.required=Oe,_t.title=Ie,_t.uniqueItems=lt;const Vt={properties:ve,items:M};function Cr(Ve,K,Z){Z=Z||[],K=O(K,{ignoreAdditionalProperties:!1,resolvers:_t,complexResolvers:Vt,deep:!0});const Q=Object.entries(K.complexResolvers);function ie(ct,Mt,Qt){ct=s(ct.filter($)),Qt=Qt||[];const Yt=G(Mt)?Mt:{};if(!ct.length)return;if(ct.some(X))return!1;if(ct.every(se))return!0;ct=ct.filter(G);const zt=Se(ct);if(K.deep&&H(zt,"allOf"))return Cr({allOf:ct},K,Z);const Xt=Q.map(([ot,Ct])=>zt.filter(Nt=>Ct.keywords.includes(Nt)));return Xt.forEach(ot=>z(zt,ot)),zt.forEach(function(ot){const Ct=qt(ct,ot),Nt=ae(Ct.filter($),He(ot));if(Nt.length===1&&H($e,ot))Yt[ot]=Nt[0].map(fr=>ie([fr],fr));else if(Nt.length===1&&!H(ge,ot)&&!H(mt,ot))Yt[ot]=Nt[0];else{const fr=K.resolvers[ot]||K.resolvers.defaultResolver;if(!fr)throw new Error("No resolver found for key "+ot+". You can provide a resolver for this keyword in the options, or provide a default resolver.");const Or=(xr,ar=[])=>ie(xr,null,Qt.concat(ot,ar));Yt[ot]=fr(Nt,Qt.concat(ot),Or,K),Yt[ot]===void 0?Ze(Nt,Qt.concat(ot)):Yt[ot]===void 0&&delete Yt[ot]}}),Q.reduce((ot,[Ct,Nt],fr)=>({...ot,...yt(Xt[fr],Ct,ct,ie,K,Qt)}),Yt)}const Te=D(St(Ve));return ie(Te)}Cr.options={resolvers:_t},Le.exports=Cr},404:function(Le,w){var u=/~/,s=/~[01]/g;function p(I){switch(I){case"~1":return"/";case"~0":return"~"}throw new Error("Invalid tilde escape: "+I)}function R(I){return u.test(I)?I.replace(s,p):I}function O(I,G,z){for(var re,ne,ae=1,ve=G.length;ae<ve;){if(G[ae]==="constructor"||G[ae]==="prototype"||G[ae]==="__proto__")return I;if(re=R(G[ae++]),ne=ve>ae,typeof I[re]=="undefined"&&(Array.isArray(I)&&re==="-"&&(re=I.length),ne&&(G[ae]!==""&&G[ae]<1/0||G[ae]==="-"?I[re]=[]:I[re]={})),!ne)break;I=I[re]}var M=I[re];return z===void 0?delete I[re]:I[re]=z,M}function _(I){if(typeof I=="string"){if(I=I.split("/"),I[0]==="")return I;throw new Error("Invalid JSON pointer.")}else if(Array.isArray(I)){for(const G of I)if(typeof G!="string"&&typeof G!="number")throw new Error("Invalid JSON pointer. Must be of type string or number.");return I}throw new Error("Invalid JSON pointer.")}function D(I,G){if(typeof I!="object")throw new Error("Invalid input object.");G=_(G);var z=G.length;if(z===1)return I;for(var re=1;re<z;){if(I=I[R(G[re++])],z===re)return I;if(typeof I!="object"||I===null)return}}function N(I,G,z){if(typeof I!="object")throw new Error("Invalid input object.");if(G=_(G),G.length===0)throw new Error("Invalid JSON pointer for set.");return O(I,G,z)}function j(I){var G=_(I);return{get:function(z){return D(z,G)},set:function(z,re){return N(z,G,re)}}}w.get=D,w.set=N,w.compile=j},85246:function(Le,w,u){var s=u(45386),p=u(38333),R=u(34893),O=u(50343),_=u(47826),D=u(59950),N=200;function j(I,G,z,re){var ne=-1,ae=p,ve=!0,M=I.length,H=[],ue=G.length;if(!M)return H;z&&(G=O(G,_(z))),re?(ae=R,ve=!1):G.length>=N&&(ae=D,ve=!1,G=new s(G));e:for(;++ne<M;){var X=I[ne],se=z==null?X:z(X);if(X=re||X!==0?X:0,ve&&se===se){for(var fe=ue;fe--;)if(G[fe]===se)continue e;H.push(X)}else ae(G,se,re)||H.push(X)}return H}Le.exports=j},84190:function(Le){function w(u,s,p,R){for(var O=p-1,_=u.length;++O<_;)if(R(u[O],s))return O;return-1}Le.exports=w},88390:function(Le,w,u){var s=u(45386),p=u(38333),R=u(34893),O=u(50343),_=u(47826),D=u(59950),N=Math.min;function j(I,G,z){for(var re=z?R:p,ne=I[0].length,ae=I.length,ve=ae,M=Array(ae),H=1/0,ue=[];ve--;){var X=I[ve];ve&&G&&(X=O(X,_(G))),H=N(X.length,H),M[ve]=!z&&(G||ne>=120&&X.length>=120)?new s(ve&&X):void 0}X=I[0];var se=-1,fe=M[0];e:for(;++se<ne&&ue.length<H;){var ee=X[se],$=G?G(ee):ee;if(ee=z||ee!==0?ee:0,!(fe?D(fe,$):re(ue,$,z))){for(ve=ae;--ve;){var Se=M[ve];if(!(Se?D(Se,$):re(I[ve],$,z)))continue e}fe&&fe.push($),ue.push(ee)}}return ue}Le.exports=j},45169:function(Le,w,u){var s=u(50343),p=u(77832),R=u(84190),O=u(47826),_=u(51522),D=Array.prototype,N=D.splice;function j(I,G,z,re){var ne=re?R:p,ae=-1,ve=G.length,M=I;for(I===G&&(G=_(G)),z&&(M=s(I,O(z)));++ae<ve;)for(var H=0,ue=G[ae],X=z?z(ue):ue;(H=ne(M,X,H,re))>-1;)M!==I&&N.call(M,H,1),N.call(I,H,1);return I}Le.exports=j},5642:function(Le,w,u){var s=u(93746);function p(R){return s(R)?R:[]}Le.exports=p},88302:function(Le,w,u){var s=u(84565),p=u(29259);function R(O,_,D,N,j,I){return p(O)&&p(_)&&(I.set(_,O),s(O,_,void 0,R,I),I.delete(_)),O}Le.exports=R},19003:function(Le,w,u){var s=u(49432),p=u(36060),R=u(88302),O=u(12782),_=p(function(D){return D.push(void 0,R),s(O,void 0,D)});Le.exports=_},68632:function(Le,w,u){var s=u(62034),p=1/0;function R(O){var _=O==null?0:O.length;return _?s(O,p):[]}Le.exports=R},30898:function(Le,w,u){var s=u(50343),p=u(88390),R=u(36060),O=u(5642),_=R(function(D){var N=s(D,O);return N.length&&N[0]===D[0]?p(N):[]});Le.exports=_},74186:function(Le,w,u){var s=u(50343),p=u(88390),R=u(36060),O=u(5642),_=u(56974),D=R(function(N){var j=_(N),I=s(N,O);return j=typeof j=="function"?j:void 0,j&&I.pop(),I.length&&I[0]===N[0]?p(I,void 0,j):[]});Le.exports=D},4335:function(Le,w,u){var s=u(53366),p=u(15125),R="[object Boolean]";function O(_){return _===!0||_===!1||p(_)&&s(_)==R}Le.exports=O},78911:function(Le,w,u){var s=u(45169);function p(R,O){return R&&R.length&&O&&O.length?s(R,O):R}Le.exports=p},25497:function(Le,w,u){var s=u(50343),p=u(51522),R=u(86152),O=u(4795),_=u(54452),D=u(33812),N=u(66188);function j(I){return R(I)?s(I,D):O(I)?[I]:p(_(N(I)))}Le.exports=j},75652:function(Le,w,u){var s=u(67326);function p(R){return R&&R.length?s(R):[]}Le.exports=p},39642:function(Le,w,u){var s=u(67326);function p(R,O){return O=typeof O=="function"?O:void 0,R&&R.length?s(R,void 0,O):[]}Le.exports=p},67304:function(Le,w,u){var s=u(85246),p=u(36060),R=u(93746),O=p(function(_,D){return R(_)?s(_,D):[]});Le.exports=O},1170:function(Le,w,u){Le=u.nmd(Le),function(s){"use strict";s.exports.is_uri=R,s.exports.is_http_uri=O,s.exports.is_https_uri=_,s.exports.is_web_uri=D,s.exports.isUri=R,s.exports.isHttpUri=O,s.exports.isHttpsUri=_,s.exports.isWebUri=D;var p=function(N){var j=N.match(/(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/);return j};function R(N){if(N&&!/[^a-z0-9\:\/\?\#\[\]\@\!\$\&\'\(\)\*\+\,\;\=\.\-\_\~\%]/i.test(N)&&!/%[^0-9a-f]/i.test(N)&&!/%[0-9a-f](:?[^0-9a-f]|$)/i.test(N)){var j=[],I="",G="",z="",re="",ne="",ae="";if(j=p(N),I=j[1],G=j[2],z=j[3],re=j[4],ne=j[5],!!(I&&I.length&&z.length>=0)){if(G&&G.length){if(!(z.length===0||/^\//.test(z)))return}else if(/^\/\//.test(z))return;if(/^[a-z][a-z0-9\+\-\.]*$/.test(I.toLowerCase()))return ae+=I+":",G&&G.length&&(ae+="//"+G),ae+=z,re&&re.length&&(ae+="?"+re),ne&&ne.length&&(ae+="#"+ne),ae}}}function O(N,j){if(R(N)){var I=[],G="",z="",re="",ne="",ae="",ve="",M="";if(I=p(N),G=I[1],z=I[2],re=I[3],ae=I[4],ve=I[5],!!G){if(j){if(G.toLowerCase()!="https")return}else if(G.toLowerCase()!="http")return;if(z)return/:(\d+)$/.test(z)&&(ne=z.match(/:(\d+)$/)[0],z=z.replace(/:\d+$/,"")),M+=G+":",M+="//"+z,ne&&(M+=ne),M+=re,ae&&ae.length&&(M+="?"+ae),ve&&ve.length&&(M+="#"+ve),M}}}function _(N){return O(N,!0)}function D(N){return O(N)||_(N)}}(Le)},87245:function(Le){"use strict";function w(u){return Object.prototype.toString.call(u)==="[object Array]"}Le.exports=Array.isArray||w},8615:function(Le){"use strict";function w(u){return typeof u=="function"}Le.exports=w},63772:function(Le,w,u){"use strict";var s=u(87245),p=u(45002);function R(O){var _;if(!s(O)||(_=O.length,!_))return!1;for(var D=0;D<_;D++)if(!p(O[D]))return!1;return!0}Le.exports=R},45002:function(Le,w,u){"use strict";var s=u(87040);function p(R){return s(R)&&R%1===0}Le.exports=p},87040:function(Le){"use strict";function w(u){return(typeof u=="number"||Object.prototype.toString.call(u)==="[object Number]")&&u.valueOf()===u.valueOf()}Le.exports=w},77120:function(Le,w,u){"use strict";u.d(w,{Gn:function(){return wt},K0:function(){return qt},Qf:function(){return Ir},R_:function(){return gn},SS:function(){return St},Um:function(){return V},c:function(){return Qe},e7:function(){return Tr},il:function(){return Zt},mi:function(){return Er},n$:function(){return zi},nF:function(){return Nr},nY:function(){return ie},qz:function(){return ne},y1:function(){return He}});var s=u(21649),p=u(1727),R=u(65329),O=u(86253),_=u(37207),D;const N=new s.md;function j(Ee){return p.r$.define({combine:Ee?F=>F.concat(Ee):void 0})}const I=new s.md;class G{constructor(F,q,_e=[],Fe=""){this.data=F,this.name=Fe,p.yy.prototype.hasOwnProperty("tree")||Object.defineProperty(p.yy.prototype,"tree",{get(){return ne(this)}}),this.parser=q,this.extension=[Oe.of(this),p.yy.languageData.of((st,ht,Wt)=>{let Lt=z(st,ht,Wt),Lr=Lt.type.prop(N);if(!Lr)return[];let Kr=st.facet(Lr),In=Lt.type.prop(I);if(In){let wi=Lt.resolve(ht-Lt.from,Wt);for(let Ai of In)if(Ai.test(wi,st)){let si=st.facet(Ai.facet);return Ai.type=="replace"?si:si.concat(Kr)}}return Kr})].concat(_e)}isActiveAt(F,q,_e=-1){return z(F,q,_e).type.prop(N)==this.data}findRegions(F){let q=F.facet(Oe);if((q==null?void 0:q.data)==this.data)return[{from:0,to:F.doc.length}];if(!q||!q.allowsNesting)return[];let _e=[],Fe=(st,ht)=>{if(st.prop(N)==this.data){_e.push({from:ht,to:ht+st.length});return}let Wt=st.prop(s.md.mounted);if(Wt){if(Wt.tree.prop(N)==this.data){if(Wt.overlay)for(let Lt of Wt.overlay)_e.push({from:Lt.from+ht,to:Lt.to+ht});else _e.push({from:ht,to:ht+st.length});return}else if(Wt.overlay){let Lt=_e.length;if(Fe(Wt.tree,Wt.overlay[0].from+ht),_e.length>Lt)return}}for(let Lt=0;Lt<st.children.length;Lt++){let Lr=st.children[Lt];Lr instanceof s.mp&&Fe(Lr,st.positions[Lt]+ht)}};return Fe(ne(F),0),_e}get allowsNesting(){return!0}}G.setState=p.Py.define();function z(Ee,F,q){let _e=Ee.facet(Oe),Fe=ne(Ee).topNode;if(!_e||_e.allowsNesting)for(let st=Fe;st;st=st.enter(F,q,s.vj.ExcludeBuffers))st.type.isTop&&(Fe=st);return Fe}class re extends null{constructor(F,q,_e){super(F,q,[],_e),this.parser=q}static define(F){let q=j(F.languageData);return new re(q,F.parser.configure({props:[N.add(_e=>_e.isTop?q:void 0)]}),F.name)}configure(F,q){return new re(this.data,this.parser.configure(F),q||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function ne(Ee){let F=Ee.field(G.state,!1);return F?F.tree:s.mp.empty}function ae(Ee,F,q=50){var _e;let Fe=(_e=Ee.field(G.state,!1))===null||_e===void 0?void 0:_e.context;if(!Fe)return null;let st=Fe.viewport;Fe.updateViewport({from:0,to:F});let ht=Fe.isDone(F)||Fe.work(q,F)?Fe.tree:null;return Fe.updateViewport(st),ht}function ve(Ee,F=Ee.doc.length){var q;return((q=Ee.field(G.state,!1))===null||q===void 0?void 0:q.context.isDone(F))||!1}function M(Ee,F=Ee.viewport.to,q=100){let _e=ae(Ee.state,F,q);return _e!=ne(Ee.state)&&Ee.dispatch({}),!!_e}function H(Ee){var F;return((F=Ee.plugin(Ie))===null||F===void 0?void 0:F.isWorking())||!1}class ue{constructor(F){this.doc=F,this.cursorPos=0,this.string="",this.cursor=F.iter()}get length(){return this.doc.length}syncTo(F){return this.string=this.cursor.next(F-this.cursorPos).value,this.cursorPos=F+this.string.length,this.cursorPos-this.string.length}chunk(F){return this.syncTo(F),this.string}get lineChunks(){return!0}read(F,q){let _e=this.cursorPos-this.string.length;return F<_e||q>=this.cursorPos?this.doc.sliceString(F,q):this.string.slice(F-_e,q-_e)}}let X=null;class se{constructor(F,q,_e=[],Fe,st,ht,Wt,Lt){this.parser=F,this.state=q,this.fragments=_e,this.tree=Fe,this.treeLen=st,this.viewport=ht,this.skipped=Wt,this.scheduleOn=Lt,this.parse=null,this.tempSkipped=[]}static create(F,q,_e){return new se(F,q,[],s.mp.empty,0,_e,[],null)}startParse(){return this.parser.startParse(new ue(this.state.doc),this.fragments)}work(F,q){return q!=null&&q>=this.state.doc.length&&(q=void 0),this.tree!=s.mp.empty&&this.isDone(q!=null?q:this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var _e;if(typeof F=="number"){let Fe=Date.now()+F;F=()=>Date.now()>Fe}for(this.parse||(this.parse=this.startParse()),q!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>q)&&q<this.state.doc.length&&this.parse.stopAt(q);;){let Fe=this.parse.advance();if(Fe)if(this.fragments=this.withoutTempSkipped(s.i9.addTree(Fe,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(_e=this.parse.stoppedAt)!==null&&_e!==void 0?_e:this.state.doc.length,this.tree=Fe,this.parse=null,this.treeLen<(q!=null?q:this.state.doc.length))this.parse=this.startParse();else return!0;if(F())return!1}})}takeTree(){let F,q;this.parse&&(F=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>F)&&this.parse.stopAt(F),this.withContext(()=>{for(;!(q=this.parse.advance()););}),this.treeLen=F,this.tree=q,this.fragments=this.withoutTempSkipped(s.i9.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(F){let q=X;X=this;try{return F()}finally{X=q}}withoutTempSkipped(F){for(let q;q=this.tempSkipped.pop();)F=fe(F,q.from,q.to);return F}changes(F,q){let{fragments:_e,tree:Fe,treeLen:st,viewport:ht,skipped:Wt}=this;if(this.takeTree(),!F.empty){let Lt=[];if(F.iterChangedRanges((Lr,Kr,In,wi)=>Lt.push({fromA:Lr,toA:Kr,fromB:In,toB:wi})),_e=s.i9.applyChanges(_e,Lt),Fe=s.mp.empty,st=0,ht={from:F.mapPos(ht.from,-1),to:F.mapPos(ht.to,1)},this.skipped.length){Wt=[];for(let Lr of this.skipped){let Kr=F.mapPos(Lr.from,1),In=F.mapPos(Lr.to,-1);Kr<In&&Wt.push({from:Kr,to:In})}}}return new se(this.parser,q,_e,Fe,st,ht,Wt,this.scheduleOn)}updateViewport(F){if(this.viewport.from==F.from&&this.viewport.to==F.to)return!1;this.viewport=F;let q=this.skipped.length;for(let _e=0;_e<this.skipped.length;_e++){let{from:Fe,to:st}=this.skipped[_e];Fe<F.to&&st>F.from&&(this.fragments=fe(this.fragments,Fe,st),this.skipped.splice(_e--,1))}return this.skipped.length>=q?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(F,q){this.skipped.push({from:F,to:q})}static getSkippingParser(F){return new class extends s._b{createParse(q,_e,Fe){let st=Fe[0].from,ht=Fe[Fe.length-1].to;return{parsedPos:st,advance(){let Lt=X;if(Lt){for(let Lr of Fe)Lt.tempSkipped.push(Lr);F&&(Lt.scheduleOn=Lt.scheduleOn?Promise.all([Lt.scheduleOn,F]):F)}return this.parsedPos=ht,new s.mp(s.Jq.none,[],[],ht-st)},stoppedAt:null,stopAt(){}}}}}isDone(F){F=Math.min(F,this.state.doc.length);let q=this.fragments;return this.treeLen>=F&&q.length&&q[0].from==0&&q[0].to>=F}static get(){return X}}function fe(Ee,F,q){return s.i9.applyChanges(Ee,[{fromA:F,toA:q,fromB:F,toB:q}])}class ee{constructor(F){this.context=F,this.tree=F.tree}apply(F){if(!F.docChanged&&this.tree==this.context.tree)return this;let q=this.context.changes(F.changes,F.state),_e=this.context.treeLen==F.startState.doc.length?void 0:Math.max(F.changes.mapPos(this.context.treeLen),q.viewport.to);return q.work(20,_e)||q.takeTree(),new ee(q)}static init(F){let q=Math.min(3e3,F.doc.length),_e=se.create(F.facet(Oe).parser,F,{from:0,to:q});return _e.work(20,q)||_e.takeTree(),new ee(_e)}}G.state=p.QQ.define({create:ee.init,update(Ee,F){for(let q of F.effects)if(q.is(G.setState))return q.value;return F.startState.facet(Oe)!=F.state.facet(Oe)?ee.init(F.state):Ee.apply(F)}});let $=Ee=>{let F=setTimeout(()=>Ee(),500);return()=>clearTimeout(F)};typeof requestIdleCallback!="undefined"&&($=Ee=>{let F=-1,q=setTimeout(()=>{F=requestIdleCallback(Ee,{timeout:500-100})},100);return()=>F<0?clearTimeout(q):cancelIdleCallback(F)});const Se=typeof navigator!="undefined"&&(!((D=navigator.scheduling)===null||D===void 0)&&D.isInputPending)?()=>navigator.scheduling.isInputPending():null,Ie=R.lg.fromClass(class{constructor(F){this.view=F,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(F){let q=this.view.state.field(G.state).context;(q.updateViewport(F.view.viewport)||this.view.viewport.to>q.treeLen)&&this.scheduleWork(),F.docChanged&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(q)}scheduleWork(){if(this.working)return;let{state:F}=this.view,q=F.field(G.state);(q.tree!=q.context.tree||!q.context.isDone(F.doc.length))&&(this.working=$(this.work))}work(F){this.working=null;let q=Date.now();if(this.chunkEnd<q&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=q+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:_e,viewport:{to:Fe}}=this.view,st=_e.field(G.state);if(st.tree==st.context.tree&&st.context.isDone(Fe+1e5))return;let ht=Date.now()+Math.min(this.chunkBudget,100,F&&!Se?Math.max(25,F.timeRemaining()-5):1e9),Wt=st.context.treeLen<Fe&&_e.doc.length>Fe+1e3,Lt=st.context.work(()=>Se&&Se()||Date.now()>ht,Fe+(Wt?0:1e5));this.chunkBudget-=Date.now()-q,(Lt||this.chunkBudget<=0)&&(st.context.takeTree(),this.view.dispatch({effects:G.setState.of(new ee(st.context))})),this.chunkBudget>0&&!(Lt&&!Wt)&&this.scheduleWork(),this.checkAsyncSchedule(st.context)}checkAsyncSchedule(F){F.scheduleOn&&(this.workScheduled++,F.scheduleOn.then(()=>this.scheduleWork()).catch(q=>(0,R.OO)(this.view.state,q)).then(()=>this.workScheduled--),F.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),Oe=p.r$.define({combine(Ee){return Ee.length?Ee[0]:null},enables:Ee=>[G.state,Ie,R.tk.contentAttributes.compute([Ee],F=>{let q=F.facet(Ee);return q&&q.name?{"data-language":q.name}:{}})]});class We{constructor(F,q=[]){this.language=F,this.support=q,this.extension=[F,q]}}class Ge{constructor(F,q,_e,Fe,st,ht=void 0){this.name=F,this.alias=q,this.extensions=_e,this.filename=Fe,this.loadFunc=st,this.support=ht,this.loading=null}load(){return this.loading||(this.loading=this.loadFunc().then(F=>this.support=F,F=>{throw this.loading=null,F}))}static of(F){let{load:q,support:_e}=F;if(!q){if(!_e)throw new RangeError("Must pass either 'load' or 'support' to LanguageDescription.of");q=()=>Promise.resolve(_e)}return new Ge(F.name,(F.alias||[]).concat(F.name).map(Fe=>Fe.toLowerCase()),F.extensions||[],F.filename,q,_e)}static matchFilename(F,q){for(let Fe of F)if(Fe.filename&&Fe.filename.test(q))return Fe;let _e=/\.([^.]+)$/.exec(q);if(_e){for(let Fe of F)if(Fe.extensions.indexOf(_e[1])>-1)return Fe}return null}static matchLanguageName(F,q,_e=!0){q=q.toLowerCase();for(let Fe of F)if(Fe.alias.some(st=>st==q))return Fe;if(_e)for(let Fe of F)for(let st of Fe.alias){let ht=q.indexOf(st);if(ht>-1&&(st.length>2||!/\w/.test(q[ht-1])&&!/\w/.test(q[ht+st.length])))return Fe}return null}}const lt=p.r$.define(),Qe=p.r$.define({combine:Ee=>{if(!Ee.length)return"  ";let F=Ee[0];if(!F||/\S/.test(F)||Array.from(F).some(q=>q!=F[0]))throw new Error("Invalid indent unit: "+JSON.stringify(Ee[0]));return F}});function He(Ee){let F=Ee.facet(Qe);return F.charCodeAt(0)==9?Ee.tabSize*F.length:F.length}function St(Ee,F){let q="",_e=Ee.tabSize,Fe=Ee.facet(Qe)[0];if(Fe=="	"){for(;F>=_e;)q+="	",F-=_e;Fe=" "}for(let st=0;st<F;st++)q+=Fe;return q}function qt(Ee,F){Ee instanceof p.yy&&(Ee=new wt(Ee));for(let _e of Ee.state.facet(lt)){let Fe=_e(Ee,F);if(Fe!==void 0)return Fe}let q=ne(Ee.state);return q?Ze(Ee,q,F):null}function dt(Ee,F,q){let _e=Object.create(null),Fe=new wt(Ee,{overrideIndentation:ht=>{var Wt;return(Wt=_e[ht])!==null&&Wt!==void 0?Wt:-1}}),st=[];for(let ht=F;ht<=q;){let Wt=Ee.doc.lineAt(ht);ht=Wt.to+1;let Lt=qt(Fe,Wt.from);if(Lt==null)continue;/\S/.test(Wt.text)||(Lt=0);let Lr=/^\s*/.exec(Wt.text)[0],Kr=St(Ee,Lt);Lr!=Kr&&(_e[Wt.from]=Lt,st.push({from:Wt.from,to:Wt.from+Lr.length,insert:Kr}))}return Ee.changes(st)}class wt{constructor(F,q={}){this.state=F,this.options=q,this.unit=He(F)}lineAt(F,q=1){let _e=this.state.doc.lineAt(F),{simulateBreak:Fe,simulateDoubleBreak:st}=this.options;return Fe!=null&&Fe>=_e.from&&Fe<=_e.to?st&&Fe==F?{text:"",from:F}:(q<0?Fe<F:Fe<=F)?{text:_e.text.slice(Fe-_e.from),from:Fe}:{text:_e.text.slice(0,Fe-_e.from),from:_e.from}:_e}textAfterPos(F,q=1){if(this.options.simulateDoubleBreak&&F==this.options.simulateBreak)return"";let{text:_e,from:Fe}=this.lineAt(F,q);return _e.slice(F-Fe,Math.min(_e.length,F+100-Fe))}column(F,q=1){let{text:_e,from:Fe}=this.lineAt(F,q),st=this.countColumn(_e,F-Fe),ht=this.options.overrideIndentation?this.options.overrideIndentation(Fe):-1;return ht>-1&&(st+=ht-this.countColumn(_e,_e.search(/\S|$/))),st}countColumn(F,q=F.length){return(0,p.IS)(F,this.state.tabSize,q)}lineIndent(F,q=1){let{text:_e,from:Fe}=this.lineAt(F,q),st=this.options.overrideIndentation;if(st){let ht=st(Fe);if(ht>-1)return ht}return this.countColumn(_e,_e.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const rt=new s.md;function Ze(Ee,F,q){return ge(F.resolveInner(q).enterUnfinishedNodesBefore(q),q,Ee)}function yt(Ee){return Ee.pos==Ee.options.simulateBreak&&Ee.options.simulateDoubleBreak}function tt(Ee){let F=Ee.type.prop(rt);if(F)return F;let q=Ee.firstChild,_e;if(q&&(_e=q.type.prop(s.md.closedBy))){let Fe=Ee.lastChild,st=Fe&&_e.indexOf(Fe.name)>-1;return ht=>Ve(ht,!0,1,void 0,st&&!yt(ht)?Fe.from:void 0)}return Ee.parent==null?$e:null}function ge(Ee,F,q){for(;Ee;Ee=Ee.parent){let _e=tt(Ee);if(_e)return _e(mt.create(q,F,Ee))}return null}function $e(){return 0}class mt extends wt{constructor(F,q,_e){super(F.state,F.options),this.base=F,this.pos=q,this.node=_e}static create(F,q,_e){return new mt(F,q,_e)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(F){let q=this.state.doc.lineAt(F.from);for(;;){let _e=F.resolve(q.from);for(;_e.parent&&_e.parent.from==_e.from;)_e=_e.parent;if(_t(_e,F))break;q=this.state.doc.lineAt(_e.from)}return this.lineIndent(q.from)}continue(){let F=this.node.parent;return F?ge(F,this.pos,this.base):0}}function _t(Ee,F){for(let q=F;q;q=q.parent)if(Ee==q)return!0;return!1}function Vt(Ee){let F=Ee.node,q=F.childAfter(F.from),_e=F.lastChild;if(!q)return null;let Fe=Ee.options.simulateBreak,st=Ee.state.doc.lineAt(q.from),ht=Fe==null||Fe<=st.from?st.to:Math.min(st.to,Fe);for(let Wt=q.to;;){let Lt=F.childAfter(Wt);if(!Lt||Lt==_e)return null;if(!Lt.type.isSkipped)return Lt.from<ht?q:null;Wt=Lt.to}}function Cr({closing:Ee,align:F=!0,units:q=1}){return _e=>Ve(_e,F,q,Ee)}function Ve(Ee,F,q,_e,Fe){let st=Ee.textAfter,ht=st.match(/^\s*/)[0].length,Wt=_e&&st.slice(ht,ht+_e.length)==_e||Fe==Ee.pos+ht,Lt=F?Vt(Ee):null;return Lt?Wt?Ee.column(Lt.from):Ee.column(Lt.to):Ee.baseIndent+(Wt?0:Ee.unit*q)}const K=Ee=>Ee.baseIndent;function Z({except:Ee,units:F=1}={}){return q=>{let _e=Ee&&Ee.test(q.textAfter);return q.baseIndent+(_e?0:F*q.unit)}}const Q=200;function ie(){return p.yy.transactionFilter.of(Ee=>{if(!Ee.docChanged||!Ee.isUserEvent("input.type")&&!Ee.isUserEvent("input.complete"))return Ee;let F=Ee.startState.languageDataAt("indentOnInput",Ee.startState.selection.main.head);if(!F.length)return Ee;let q=Ee.newDoc,{head:_e}=Ee.newSelection.main,Fe=q.lineAt(_e);if(_e>Fe.from+Q)return Ee;let st=q.sliceString(Fe.from,_e);if(!F.some(Lr=>Lr.test(st)))return Ee;let{state:ht}=Ee,Wt=-1,Lt=[];for(let{head:Lr}of ht.selection.ranges){let Kr=ht.doc.lineAt(Lr);if(Kr.from==Wt)continue;Wt=Kr.from;let In=qt(ht,Kr.from);if(In==null)continue;let wi=/^\s*/.exec(Kr.text)[0],Ai=St(ht,In);wi!=Ai&&Lt.push({from:Kr.from,to:Kr.from+wi.length,insert:Ai})}return Lt.length?[Ee,{changes:Lt,sequential:!0}]:Ee})}const Te=p.r$.define(),Xe=new s.md;function ct(Ee){let F=Ee.firstChild,q=Ee.lastChild;return F&&F.to<q.from?{from:F.to,to:q.type.isError?Ee.to:q.from}:null}function Mt(Ee,F,q){let _e=ne(Ee);if(_e.length<q)return null;let Fe=_e.resolveInner(q,1),st=null;for(let ht=Fe;ht;ht=ht.parent){if(ht.to<=q||ht.from>q)continue;if(st&&ht.from<F)break;let Wt=ht.type.prop(Xe);if(Wt&&(ht.to<_e.length-50||_e.length==Ee.doc.length||!Qt(ht))){let Lt=Wt(ht,Ee);Lt&&Lt.from<=q&&Lt.from>=F&&Lt.to>q&&(st=Lt)}}return st}function Qt(Ee){let F=Ee.lastChild;return F&&F.to==Ee.to&&F.type.isError}function Yt(Ee,F,q){for(let _e of Ee.facet(Te)){let Fe=_e(Ee,F,q);if(Fe)return Fe}return Mt(Ee,F,q)}function zt(Ee,F){let q=F.mapPos(Ee.from,1),_e=F.mapPos(Ee.to,-1);return q>=_e?void 0:{from:q,to:_e}}const Xt=p.Py.define({map:zt}),ot=p.Py.define({map:zt});function Ct(Ee){let F=[];for(let{head:q}of Ee.state.selection.ranges)F.some(_e=>_e.from<=q&&_e.to>=q)||F.push(Ee.lineBlockAt(q));return F}const Nt=p.QQ.define({create(){return R.p.none},update(Ee,F){Ee=Ee.map(F.changes);for(let q of F.effects)q.is(Xt)&&!xr(Ee,q.value.from,q.value.to)?Ee=Ee.update({add:[lr.range(q.value.from,q.value.to)]}):q.is(ot)&&(Ee=Ee.update({filter:(_e,Fe)=>q.value.from!=_e||q.value.to!=Fe,filterFrom:q.value.from,filterTo:q.value.to}));if(F.selection){let q=!1,{head:_e}=F.selection.main;Ee.between(_e,_e,(Fe,st)=>{Fe<_e&&st>_e&&(q=!0)}),q&&(Ee=Ee.update({filterFrom:_e,filterTo:_e,filter:(Fe,st)=>st<=_e||Fe>=_e}))}return Ee},provide:Ee=>R.tk.decorations.from(Ee),toJSON(Ee,F){let q=[];return Ee.between(0,F.doc.length,(_e,Fe)=>{q.push(_e,Fe)}),q},fromJSON(Ee){if(!Array.isArray(Ee)||Ee.length%2)throw new RangeError("Invalid JSON for fold state");let F=[];for(let q=0;q<Ee.length;){let _e=Ee[q++],Fe=Ee[q++];if(typeof _e!="number"||typeof Fe!="number")throw new RangeError("Invalid JSON for fold state");F.push(lr.range(_e,Fe))}return R.p.set(F,!0)}});function fr(Ee){return Ee.field(Nt,!1)||RangeSet.empty}function Or(Ee,F,q){var _e;let Fe=null;return(_e=Ee.field(Nt,!1))===null||_e===void 0||_e.between(F,q,(st,ht)=>{(!Fe||Fe.from>st)&&(Fe={from:st,to:ht})}),Fe}function xr(Ee,F,q){let _e=!1;return Ee.between(F,F,(Fe,st)=>{Fe==F&&st==q&&(_e=!0)}),_e}function ar(Ee,F){return Ee.field(Nt,!1)?F:F.concat(p.Py.appendConfig.of(ir()))}const Ft=Ee=>{for(let F of Ct(Ee)){let q=Yt(Ee.state,F.from,F.to);if(q)return Ee.dispatch({effects:ar(Ee.state,[Xt.of(q),yr(Ee,q)])}),!0}return!1},jr=Ee=>{if(!Ee.state.field(Nt,!1))return!1;let F=[];for(let q of Ct(Ee)){let _e=Or(Ee.state,q.from,q.to);_e&&F.push(ot.of(_e),yr(Ee,_e,!1))}return F.length&&Ee.dispatch({effects:F}),F.length>0};function yr(Ee,F,q=!0){let _e=Ee.state.doc.lineAt(F.from).number,Fe=Ee.state.doc.lineAt(F.to).number;return R.tk.announce.of(`${Ee.state.phrase(q?"Folded lines":"Unfolded lines")} ${_e} ${Ee.state.phrase("to")} ${Fe}.`)}const dr=Ee=>{let{state:F}=Ee,q=[];for(let _e=0;_e<F.doc.length;){let Fe=Ee.lineBlockAt(_e),st=Yt(F,Fe.from,Fe.to);st&&q.push(Xt.of(st)),_e=(st?Ee.lineBlockAt(st.to):Fe).to+1}return q.length&&Ee.dispatch({effects:ar(Ee.state,q)}),!!q.length},pr=Ee=>{let F=Ee.state.field(Nt,!1);if(!F||!F.size)return!1;let q=[];return F.between(0,Ee.state.doc.length,(_e,Fe)=>{q.push(ot.of({from:_e,to:Fe}))}),Ee.dispatch({effects:q}),!0};function cr(Ee,F){for(let q=F;;){let _e=Yt(Ee.state,q.from,q.to);if(_e&&_e.to>F.from)return _e;if(!q.from)return null;q=Ee.lineBlockAt(q.from-1)}}const Wr=Ee=>{let F=[];for(let q of Ct(Ee)){let _e=Or(Ee.state,q.from,q.to);if(_e)F.push(ot.of(_e),yr(Ee,_e,!1));else{let Fe=cr(Ee,q);Fe&&F.push(Xt.of(Fe),yr(Ee,Fe))}}return F.length>0&&Ee.dispatch({effects:ar(Ee.state,F)}),!!F.length},Tr=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:Ft},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:jr},{key:"Ctrl-Alt-[",run:dr},{key:"Ctrl-Alt-]",run:pr}],Ne={placeholderDOM:null,placeholderText:"\u2026"},Gt=p.r$.define({combine(Ee){return(0,p.BO)(Ee,Ne)}});function ir(Ee){let F=[Nt,Zr];return Ee&&F.push(Gt.of(Ee)),F}const lr=R.p.replace({widget:new class extends R.l9{toDOM(Ee){let{state:F}=Ee,q=F.facet(Gt),_e=st=>{let ht=Ee.lineBlockAt(Ee.posAtDOM(st.target)),Wt=Or(Ee.state,ht.from,ht.to);Wt&&Ee.dispatch({effects:ot.of(Wt)}),st.preventDefault()};if(q.placeholderDOM)return q.placeholderDOM(Ee,_e);let Fe=document.createElement("span");return Fe.textContent=q.placeholderText,Fe.setAttribute("aria-label",F.phrase("folded code")),Fe.title=F.phrase("unfold"),Fe.className="cm-foldPlaceholder",Fe.onclick=_e,Fe}}}),Sr={openText:"\u2304",closedText:"\u203A",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class _r extends R.SJ{constructor(F,q){super(),this.config=F,this.open=q}eq(F){return this.config==F.config&&this.open==F.open}toDOM(F){if(this.config.markerDOM)return this.config.markerDOM(this.open);let q=document.createElement("span");return q.textContent=this.open?this.config.openText:this.config.closedText,q.title=F.state.phrase(this.open?"Fold line":"Unfold line"),q}}function Er(Ee={}){let F=Object.assign(Object.assign({},Sr),Ee),q=new _r(F,!0),_e=new _r(F,!1),Fe=R.lg.fromClass(class{constructor(ht){this.from=ht.viewport.from,this.markers=this.buildMarkers(ht)}update(ht){(ht.docChanged||ht.viewportChanged||ht.startState.facet(Oe)!=ht.state.facet(Oe)||ht.startState.field(Nt,!1)!=ht.state.field(Nt,!1)||ne(ht.startState)!=ne(ht.state)||F.foldingChanged(ht))&&(this.markers=this.buildMarkers(ht.view))}buildMarkers(ht){let Wt=new p.f_;for(let Lt of ht.viewportLineBlocks){let Lr=Or(ht.state,Lt.from,Lt.to)?_e:Yt(ht.state,Lt.from,Lt.to)?q:null;Lr&&Wt.add(Lt.from,Lt.from,Lr)}return Wt.finish()}}),{domEventHandlers:st}=F;return[Fe,(0,R.v5)({class:"cm-foldGutter",markers(ht){var Wt;return((Wt=ht.plugin(Fe))===null||Wt===void 0?void 0:Wt.markers)||p.Xs.empty},initialSpacer(){return new _r(F,!1)},domEventHandlers:Object.assign(Object.assign({},st),{click:(ht,Wt,Lt)=>{if(st.click&&st.click(ht,Wt,Lt))return!0;let Lr=Or(ht.state,Wt.from,Wt.to);if(Lr)return ht.dispatch({effects:ot.of(Lr)}),!0;let Kr=Yt(ht.state,Wt.from,Wt.to);return Kr?(ht.dispatch({effects:Xt.of(Kr)}),!0):!1}})}),ir()]}const Zr=R.tk.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class Ir{constructor(F,q){this.specs=F;let _e;function Fe(Wt){let Lt=_.V.newName();return(_e||(_e=Object.create(null)))["."+Lt]=Wt,Lt}const st=typeof q.all=="string"?q.all:q.all?Fe(q.all):void 0,ht=q.scope;this.scope=ht instanceof G?Wt=>Wt.prop(N)==ht.data:ht?Wt=>Wt==ht:void 0,this.style=(0,O.QR)(F.map(Wt=>({tag:Wt.tag,class:Wt.class||Fe(Object.assign({},Wt,{tag:null}))})),{all:st}).style,this.module=_e?new _.V(_e):null,this.themeType=q.themeType}static define(F,q){return new Ir(F,q||{})}}const Rr=p.r$.define(),Xr=p.r$.define({combine(Ee){return Ee.length?[Ee[0]]:null}});function fn(Ee){let F=Ee.facet(Rr);return F.length?F:Ee.facet(Xr)}function Nr(Ee,F){let q=[vn],_e;return Ee instanceof Ir&&(Ee.module&&q.push(R.tk.styleModule.of(Ee.module)),_e=Ee.themeType),F!=null&&F.fallback?q.push(Xr.of(Ee)):_e?q.push(Rr.computeN([R.tk.darkTheme],Fe=>Fe.facet(R.tk.darkTheme)==(_e=="dark")?[Ee]:[])):q.push(Rr.of(Ee)),q}function ln(Ee,F,q){let _e=fn(Ee),Fe=null;if(_e){for(let st of _e)if(!st.scope||q&&st.scope(q)){let ht=st.style(F);ht&&(Fe=Fe?Fe+" "+ht:ht)}}return Fe}class mn{constructor(F){this.markCache=Object.create(null),this.tree=ne(F.state),this.decorations=this.buildDeco(F,fn(F.state))}update(F){let q=ne(F.state),_e=fn(F.state),Fe=_e!=fn(F.startState);q.length<F.view.viewport.to&&!Fe&&q.type==this.tree.type?this.decorations=this.decorations.map(F.changes):(q!=this.tree||F.viewportChanged||Fe)&&(this.tree=q,this.decorations=this.buildDeco(F.view,_e))}buildDeco(F,q){if(!q||!this.tree.length)return R.p.none;let _e=new p.f_;for(let{from:Fe,to:st}of F.visibleRanges)(0,O.bW)(this.tree,q,(ht,Wt,Lt)=>{_e.add(ht,Wt,this.markCache[Lt]||(this.markCache[Lt]=R.p.mark({class:Lt})))},Fe,st);return _e.finish()}}const vn=p.Wl.high(R.lg.fromClass(mn,{decorations:Ee=>Ee.decorations})),gn=Ir.define([{tag:O.pJ.meta,color:"#404740"},{tag:O.pJ.link,textDecoration:"underline"},{tag:O.pJ.heading,textDecoration:"underline",fontWeight:"bold"},{tag:O.pJ.emphasis,fontStyle:"italic"},{tag:O.pJ.strong,fontWeight:"bold"},{tag:O.pJ.strikethrough,textDecoration:"line-through"},{tag:O.pJ.keyword,color:"#708"},{tag:[O.pJ.atom,O.pJ.bool,O.pJ.url,O.pJ.contentSeparator,O.pJ.labelName],color:"#219"},{tag:[O.pJ.literal,O.pJ.inserted],color:"#164"},{tag:[O.pJ.string,O.pJ.deleted],color:"#a11"},{tag:[O.pJ.regexp,O.pJ.escape,O.pJ.special(O.pJ.string)],color:"#e40"},{tag:O.pJ.definition(O.pJ.variableName),color:"#00f"},{tag:O.pJ.local(O.pJ.variableName),color:"#30a"},{tag:[O.pJ.typeName,O.pJ.namespace],color:"#085"},{tag:O.pJ.className,color:"#167"},{tag:[O.pJ.special(O.pJ.variableName),O.pJ.macroName],color:"#256"},{tag:O.pJ.definition(O.pJ.propertyName),color:"#00c"},{tag:O.pJ.comment,color:"#940"},{tag:O.pJ.invalid,color:"#f00"}]),un=R.tk.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),cn=1e4,Yr="()[]{}",yn=p.r$.define({combine(Ee){return(0,p.BO)(Ee,{afterCursor:!0,brackets:Yr,maxScanDistance:cn,renderMatch:En})}}),sn=R.p.mark({class:"cm-matchingBracket"}),Qr=R.p.mark({class:"cm-nonmatchingBracket"});function En(Ee){let F=[],q=Ee.matched?sn:Qr;return F.push(q.range(Ee.start.from,Ee.start.to)),Ee.end&&F.push(q.range(Ee.end.from,Ee.end.to)),F}const oi=[p.QQ.define({create(){return R.p.none},update(Ee,F){if(!F.docChanged&&!F.selection)return Ee;let q=[],_e=F.state.facet(yn);for(let Fe of F.state.selection.ranges){if(!Fe.empty)continue;let st=V(F.state,Fe.head,-1,_e)||Fe.head>0&&V(F.state,Fe.head-1,1,_e)||_e.afterCursor&&(V(F.state,Fe.head,1,_e)||Fe.head<F.state.doc.length&&V(F.state,Fe.head+1,-1,_e));st&&(q=q.concat(_e.renderMatch(st,F.state)))}return R.p.set(q,!0)},provide:Ee=>R.tk.decorations.from(Ee)}),un];function zi(Ee={}){return[yn.of(Ee),oi]}const Pe=new s.md;function y(Ee,F,q){let _e=Ee.prop(F<0?s.md.openedBy:s.md.closedBy);if(_e)return _e;if(Ee.name.length==1){let Fe=q.indexOf(Ee.name);if(Fe>-1&&Fe%2==(F<0?1:0))return[q[Fe+F]]}return null}function T(Ee){let F=Ee.type.prop(Pe);return F?F(Ee.node):Ee}function V(Ee,F,q,_e={}){let Fe=_e.maxScanDistance||cn,st=_e.brackets||Yr,ht=ne(Ee),Wt=ht.resolveInner(F,q);for(let Lt=Wt;Lt;Lt=Lt.parent){let Lr=y(Lt.type,q,st);if(Lr&&Lt.from<Lt.to){let Kr=T(Lt);if(Kr&&(q>0?F>=Kr.from&&F<Kr.to:F>Kr.from&&F<=Kr.to))return te(Ee,F,q,Lt,Kr,Lr,st)}}return xe(Ee,F,q,ht,Wt.type,Fe,st)}function te(Ee,F,q,_e,Fe,st,ht){let Wt=_e.parent,Lt={from:Fe.from,to:Fe.to},Lr=0,Kr=Wt==null?void 0:Wt.cursor();if(Kr&&(q<0?Kr.childBefore(_e.from):Kr.childAfter(_e.to)))do if(q<0?Kr.to<=_e.from:Kr.from>=_e.to){if(Lr==0&&st.indexOf(Kr.type.name)>-1&&Kr.from<Kr.to){let In=T(Kr);return{start:Lt,end:In?{from:In.from,to:In.to}:void 0,matched:!0}}else if(y(Kr.type,q,ht))Lr++;else if(y(Kr.type,-q,ht)){if(Lr==0){let In=T(Kr);return{start:Lt,end:In&&In.from<In.to?{from:In.from,to:In.to}:void 0,matched:!1}}Lr--}}while(q<0?Kr.prevSibling():Kr.nextSibling());return{start:Lt,matched:!1}}function xe(Ee,F,q,_e,Fe,st,ht){let Wt=q<0?Ee.sliceDoc(F-1,F):Ee.sliceDoc(F,F+1),Lt=ht.indexOf(Wt);if(Lt<0||Lt%2==0!=q>0)return null;let Lr={from:q<0?F-1:F,to:q>0?F+1:F},Kr=Ee.doc.iterRange(F,q>0?Ee.doc.length:0),In=0;for(let wi=0;!Kr.next().done&&wi<=st;){let Ai=Kr.value;q<0&&(wi+=Ai.length);let si=F+wi*q;for(let Si=q>0?0:Ai.length-1,Hi=q>0?Ai.length:-1;Si!=Hi;Si+=q){let gs=ht.indexOf(Ai[Si]);if(!(gs<0||_e.resolveInner(si+Si,1).type!=Fe))if(gs%2==0==q>0)In++;else{if(In==1)return{start:Lr,end:{from:si+Si,to:si+Si+1},matched:gs>>1==Lt>>1};In--}}q>0&&(wi+=Ai.length)}return Kr.done?{start:Lr,matched:!1}:null}function be(Ee,F,q,_e=0,Fe=0){F==null&&(F=Ee.search(/[^\s\u00a0]/),F==-1&&(F=Ee.length));let st=Fe;for(let ht=_e;ht<F;ht++)Ee.charCodeAt(ht)==9?st+=q-st%q:st++;return st}class Ke{constructor(F,q,_e,Fe){this.string=F,this.tabSize=q,this.indentUnit=_e,this.overrideIndent=Fe,this.pos=0,this.start=0,this.lastColumnPos=0,this.lastColumnValue=0}eol(){return this.pos>=this.string.length}sol(){return this.pos==0}peek(){return this.string.charAt(this.pos)||void 0}next(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)}eat(F){let q=this.string.charAt(this.pos),_e;if(typeof F=="string"?_e=q==F:_e=q&&(F instanceof RegExp?F.test(q):F(q)),_e)return++this.pos,q}eatWhile(F){let q=this.pos;for(;this.eat(F););return this.pos>q}eatSpace(){let F=this.pos;for(;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>F}skipToEnd(){this.pos=this.string.length}skipTo(F){let q=this.string.indexOf(F,this.pos);if(q>-1)return this.pos=q,!0}backUp(F){this.pos-=F}column(){return this.lastColumnPos<this.start&&(this.lastColumnValue=be(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue}indentation(){var F;return(F=this.overrideIndent)!==null&&F!==void 0?F:be(this.string,null,this.tabSize)}match(F,q,_e){if(typeof F=="string"){let Fe=ht=>_e?ht.toLowerCase():ht,st=this.string.substr(this.pos,F.length);return Fe(st)==Fe(F)?(q!==!1&&(this.pos+=F.length),!0):null}else{let Fe=this.string.slice(this.pos).match(F);return Fe&&Fe.index>0?null:(Fe&&q!==!1&&(this.pos+=Fe[0].length),Fe)}}current(){return this.string.slice(this.start,this.pos)}}function je(Ee){return{name:Ee.name||"",token:Ee.token,blankLine:Ee.blankLine||(()=>{}),startState:Ee.startState||(()=>!0),copyState:Ee.copyState||Tt,indent:Ee.indent||(()=>null),languageData:Ee.languageData||{},tokenTable:Ee.tokenTable||$i}}function Tt(Ee){if(typeof Ee!="object")return Ee;let F={};for(let q in Ee){let _e=Ee[q];F[q]=_e instanceof Array?_e.slice():_e}return F}const jt=new WeakMap;class Zt extends G{constructor(F){let q=j(F.languageData),_e=je(F),Fe,st=new class extends s._b{createParse(ht,Wt,Lt){return new Mn(Fe,ht,Wt,Lt)}};super(q,st,[lt.of((ht,Wt)=>this.getIndent(ht,Wt))],F.name),this.topNode=Ht(q),Fe=this,this.streamParser=_e,this.stateAfter=new s.md({perNode:!0}),this.tokenTable=F.tokenTable?new ko(_e.tokenTable):$n}static define(F){return new Zt(F)}getIndent(F,q){let _e=ne(F.state),Fe=_e.resolve(q);for(;Fe&&Fe.type!=this.topNode;)Fe=Fe.parent;if(!Fe)return null;let st,{overrideIndentation:ht}=F.options;ht&&(st=jt.get(F.state),st!=null&&st<q-1e4&&(st=void 0));let Wt=Pr(this,_e,0,Fe.from,st!=null?st:q),Lt,Lr;if(Wt?(Lr=Wt.state,Lt=Wt.pos+1):(Lr=this.streamParser.startState(F.unit),Lt=0),q-Lt>1e4)return null;for(;Lt<q;){let In=F.state.doc.lineAt(Lt),wi=Math.min(q,In.to);if(In.length){let Ai=ht?ht(In.from):-1,si=new Ke(In.text,F.state.tabSize,F.unit,Ai<0?void 0:Ai);for(;si.pos<wi-In.from;)zn(this.streamParser.token,si,Lr)}else this.streamParser.blankLine(Lr,F.unit);if(wi==q)break;Lt=In.to+1}let Kr=F.lineAt(q);return ht&&st==null&&jt.set(F.state,Kr.from),this.streamParser.indent(Lr,/^\s*(.*)/.exec(Kr.text)[1],F)}get allowsNesting(){return!1}}function Pr(Ee,F,q,_e,Fe){let st=q>=_e&&q+F.length<=Fe&&F.prop(Ee.stateAfter);if(st)return{state:Ee.streamParser.copyState(st),pos:q+F.length};for(let ht=F.children.length-1;ht>=0;ht--){let Wt=F.children[ht],Lt=q+F.positions[ht],Lr=Wt instanceof s.mp&&Lt<Fe&&Pr(Ee,Wt,Lt,_e,Fe);if(Lr)return Lr}return null}function mr(Ee,F,q,_e,Fe){if(Fe&&q<=0&&_e>=F.length)return F;!Fe&&F.type==Ee.topNode&&(Fe=!0);for(let st=F.children.length-1;st>=0;st--){let ht=F.positions[st],Wt=F.children[st],Lt;if(ht<_e&&Wt instanceof s.mp){if(!(Lt=mr(Ee,Wt,q-ht,_e-ht,Fe)))break;return Fe?new s.mp(F.type,F.children.slice(0,st).concat(Lt),F.positions.slice(0,st+1),ht+Lt.length):Lt}}return null}function On(Ee,F,q,_e){for(let Fe of F){let st=Fe.from+(Fe.openStart?25:0),ht=Fe.to-(Fe.openEnd?25:0),Wt=st<=q&&ht>q&&Pr(Ee,Fe.tree,0-Fe.offset,q,ht),Lt;if(Wt&&(Lt=mr(Ee,Fe.tree,q+Fe.offset,Wt.pos+Fe.offset,!1)))return{state:Wt.state,tree:Lt}}return{state:Ee.streamParser.startState(_e?He(_e):4),tree:s.mp.empty}}class Mn{constructor(F,q,_e,Fe){this.lang=F,this.input=q,this.fragments=_e,this.ranges=Fe,this.stoppedAt=null,this.chunks=[],this.chunkPos=[],this.chunk=[],this.chunkReused=void 0,this.rangeIndex=0,this.to=Fe[Fe.length-1].to;let st=se.get(),ht=Fe[0].from,{state:Wt,tree:Lt}=On(F,_e,ht,st==null?void 0:st.state);this.state=Wt,this.parsedPos=this.chunkStart=ht+Lt.length;for(let Lr=0;Lr<Lt.children.length;Lr++)this.chunks.push(Lt.children[Lr]),this.chunkPos.push(Lt.positions[Lr]);st&&this.parsedPos<st.viewport.from-1e5&&(this.state=this.lang.streamParser.startState(He(st.state)),st.skipUntilInView(this.parsedPos,st.viewport.from),this.parsedPos=st.viewport.from),this.moveRangeIndex()}advance(){let F=se.get(),q=this.stoppedAt==null?this.to:Math.min(this.to,this.stoppedAt),_e=Math.min(q,this.chunkStart+2048);for(F&&(_e=Math.min(_e,F.viewport.to));this.parsedPos<_e;)this.parseLine(F);return this.chunkStart<this.parsedPos&&this.finishChunk(),this.parsedPos>=q?this.finish():F&&this.parsedPos>=F.viewport.to?(F.skipUntilInView(this.parsedPos,q),this.finish()):null}stopAt(F){this.stoppedAt=F}lineAfter(F){let q=this.input.chunk(F);if(this.input.lineChunks)q==`
`&&(q="");else{let _e=q.indexOf(`
`);_e>-1&&(q=q.slice(0,_e))}return F+q.length<=this.to?q:q.slice(0,this.to-F)}nextLine(){let F=this.parsedPos,q=this.lineAfter(F),_e=F+q.length;for(let Fe=this.rangeIndex;;){let st=this.ranges[Fe].to;if(st>=_e||(q=q.slice(0,st-(_e-q.length)),Fe++,Fe==this.ranges.length))break;let ht=this.ranges[Fe].from,Wt=this.lineAfter(ht);q+=Wt,_e=ht+Wt.length}return{line:q,end:_e}}skipGapsTo(F,q,_e){for(;;){let Fe=this.ranges[this.rangeIndex].to,st=F+q;if(_e>0?Fe>st:Fe>=st)break;let ht=this.ranges[++this.rangeIndex].from;q+=ht-Fe}return q}moveRangeIndex(){for(;this.ranges[this.rangeIndex].to<this.parsedPos;)this.rangeIndex++}emitToken(F,q,_e,Fe,st){if(this.ranges.length>1){st=this.skipGapsTo(q,st,1),q+=st;let ht=this.chunk.length;st=this.skipGapsTo(_e,st,-1),_e+=st,Fe+=this.chunk.length-ht}return this.chunk.push(F,q,_e,Fe),st}parseLine(F){let{line:q,end:_e}=this.nextLine(),Fe=0,{streamParser:st}=this.lang,ht=new Ke(q,F?F.state.tabSize:4,F?He(F.state):2);if(ht.eol())st.blankLine(this.state,ht.indentUnit);else for(;!ht.eol();){let Wt=zn(st.token,ht,this.state);if(Wt&&(Fe=this.emitToken(this.lang.tokenTable.resolve(Wt),this.parsedPos+ht.start,this.parsedPos+ht.pos,4,Fe)),ht.start>1e4)break}this.parsedPos=_e,this.moveRangeIndex(),this.parsedPos<this.to&&this.parsedPos++}finishChunk(){let F=s.mp.build({buffer:this.chunk,start:this.chunkStart,length:this.parsedPos-this.chunkStart,nodeSet:Cn,topID:0,maxBufferLength:2048,reused:this.chunkReused});F=new s.mp(F.type,F.children,F.positions,F.length,[[this.lang.stateAfter,this.lang.streamParser.copyState(this.state)]]),this.chunks.push(F),this.chunkPos.push(this.chunkStart-this.ranges[0].from),this.chunk=[],this.chunkReused=void 0,this.chunkStart=this.parsedPos}finish(){return new s.mp(this.lang.topNode,this.chunks,this.chunkPos,this.parsedPos-this.ranges[0].from).balance()}}function zn(Ee,F,q){F.start=F.pos;for(let _e=0;_e<10;_e++){let Fe=Ee(F,q);if(F.pos>F.start)return Fe}throw new Error("Stream parser failed to advance stream.")}const $i=Object.create(null),Ii=[s.Jq.none],Cn=new s.Lj(Ii),Bo=[],So=Object.create(null);for(let[Ee,F]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])So[Ee]=Mo($i,F);class ko{constructor(F){this.extra=F,this.table=Object.assign(Object.create(null),So)}resolve(F){return F?this.table[F]||(this.table[F]=Mo(this.extra,F)):0}}const $n=new ko($i);function Ri(Ee,F){Bo.indexOf(Ee)>-1||(Bo.push(Ee),console.warn(F))}function Mo(Ee,F){let q=null;for(let st of F.split(".")){let ht=Ee[st]||O.pJ[st];ht?typeof ht=="function"?q?q=ht(q):Ri(st,`Modifier ${st} used at start of tag`):q?Ri(st,`Tag ${st} used as modifier`):q=ht:Ri(st,`Unknown highlighting tag ${st}`)}if(!q)return 0;let _e=F.replace(/ /g,"_"),Fe=s.Jq.define({id:Ii.length,name:_e,props:[(0,O.Gv)({[_e]:q})]});return Ii.push(Fe),Fe.id}function Ht(Ee){let F=s.Jq.define({id:Ii.length,name:"Document",props:[N.add(()=>Ee)]});return Ii.push(F),F}},42123:function(Le,w,u){"use strict";u.d(w,{r:function(){return R}});var s=["true","false","on","off","yes","no"],p=new RegExp("\\b(("+s.join(")|(")+"))$","i");const R={name:"yaml",token:function(O,_){var D=O.peek(),N=_.escaped;if(_.escaped=!1,D=="#"&&(O.pos==0||/\s/.test(O.string.charAt(O.pos-1))))return O.skipToEnd(),"comment";if(O.match(/^('([^']|\\.)*'?|"([^"]|\\.)*"?)/))return"string";if(_.literal&&O.indentation()>_.keyCol)return O.skipToEnd(),"string";if(_.literal&&(_.literal=!1),O.sol()){if(_.keyCol=0,_.pair=!1,_.pairStart=!1,O.match("---")||O.match("..."))return"def";if(O.match(/^\s*-\s+/))return"meta"}if(O.match(/^(\{|\}|\[|\])/))return D=="{"?_.inlinePairs++:D=="}"?_.inlinePairs--:D=="["?_.inlineList++:_.inlineList--,"meta";if(_.inlineList>0&&!N&&D==",")return O.next(),"meta";if(_.inlinePairs>0&&!N&&D==",")return _.keyCol=0,_.pair=!1,_.pairStart=!1,O.next(),"meta";if(_.pairStart){if(O.match(/^\s*(\||\>)\s*/))return _.literal=!0,"meta";if(O.match(/^\s*(\&|\*)[a-z0-9\._-]+\b/i))return"variable";if(_.inlinePairs==0&&O.match(/^\s*-?[0-9\.\,]+\s?$/)||_.inlinePairs>0&&O.match(/^\s*-?[0-9\.\,]+\s?(?=(,|}))/))return"number";if(O.match(p))return"keyword"}return!_.pair&&O.match(/^\s*(?:[,\[\]{}&*!|>'"%@`][^\s'":]|[^,\[\]{}#&*!|>'"%@`])[^#]*?(?=\s*:($|\s))/)?(_.pair=!0,_.keyCol=O.indentation(),"atom"):_.pair&&O.match(/^:\s*/)?(_.pairStart=!0,"meta"):(_.pairStart=!1,_.escaped=D=="\\",O.next(),null)},startState:function(){return{pair:!1,pairStart:!1,keyCol:0,inlinePairs:0,inlineList:0,literal:!1,escaped:!1}},languageData:{commentTokens:{line:"#"}}}},1727:function(Le,w,u){"use strict";u.d(w,{BO:function(){return Zr},D0:function(){return Gt},Gz:function(){return zi},IS:function(){return oi},Py:function(){return ar},QQ:function(){return Vt},Wl:function(){return K},Xs:function(){return Nr},YW:function(){return Ft},as:function(){return Oe},bg:function(){return fe},cp:function(){return ve},f_:function(){return mn},gc:function(){return Se},gm:function(){return se},jT:function(){return dt},n0:function(){return Ie},nZ:function(){return ee},q6:function(){return fr},r$:function(){return Ze},uU:function(){return Ir},xv:function(){return s},yy:function(){return Er}});class s{lineAt(y){if(y<0||y>this.length)throw new RangeError(`Invalid position ${y} in document of length ${this.length}`);return this.lineInner(y,!1,1,0)}line(y){if(y<1||y>this.lines)throw new RangeError(`Invalid line number ${y} in ${this.lines}-line document`);return this.lineInner(y,!0,1,0)}replace(y,T,V){let te=[];return this.decompose(0,y,te,2),V.length&&V.decompose(0,V.length,te,3),this.decompose(T,this.length,te,1),R.from(te,this.length-(T-y)+V.length)}append(y){return this.replace(this.length,this.length,y)}slice(y,T=this.length){let V=[];return this.decompose(y,T,V,0),R.from(V,T-y)}eq(y){if(y==this)return!0;if(y.length!=this.length||y.lines!=this.lines)return!1;let T=this.scanIdentical(y,1),V=this.length-this.scanIdentical(y,-1),te=new N(this),xe=new N(y);for(let be=T,Ke=T;;){if(te.next(be),xe.next(be),be=0,te.lineBreak!=xe.lineBreak||te.done!=xe.done||te.value!=xe.value)return!1;if(Ke+=te.value.length,te.done||Ke>=V)return!0}}iter(y=1){return new N(this,y)}iterRange(y,T=this.length){return new j(this,y,T)}iterLines(y,T){let V;if(y==null)V=this.iter();else{T==null&&(T=this.lines+1);let te=this.line(y).from;V=this.iterRange(te,Math.max(te,T==this.lines+1?this.length:T<=1?0:this.line(T-1).to))}return new I(V)}toString(){return this.sliceString(0)}toJSON(){let y=[];return this.flatten(y),y}constructor(){}static of(y){if(y.length==0)throw new RangeError("A document must have at least one line");return y.length==1&&!y[0]?s.empty:y.length<=32?new p(y):R.from(p.split(y,[]))}}class p extends s{constructor(y,T=O(y)){super(),this.text=y,this.length=T}get lines(){return this.text.length}get children(){return null}lineInner(y,T,V,te){for(let xe=0;;xe++){let be=this.text[xe],Ke=te+be.length;if((T?V:Ke)>=y)return new G(te,Ke,V,be);te=Ke+1,V++}}decompose(y,T,V,te){let xe=y<=0&&T>=this.length?this:new p(D(this.text,y,T),Math.min(T,this.length)-Math.max(0,y));if(te&1){let be=V.pop(),Ke=_(xe.text,be.text.slice(),0,xe.length);if(Ke.length<=32)V.push(new p(Ke,be.length+xe.length));else{let je=Ke.length>>1;V.push(new p(Ke.slice(0,je)),new p(Ke.slice(je)))}}else V.push(xe)}replace(y,T,V){if(!(V instanceof p))return super.replace(y,T,V);let te=_(this.text,_(V.text,D(this.text,0,y)),T),xe=this.length+V.length-(T-y);return te.length<=32?new p(te,xe):R.from(p.split(te,[]),xe)}sliceString(y,T=this.length,V=`
`){let te="";for(let xe=0,be=0;xe<=T&&be<this.text.length;be++){let Ke=this.text[be],je=xe+Ke.length;xe>y&&be&&(te+=V),y<je&&T>xe&&(te+=Ke.slice(Math.max(0,y-xe),T-xe)),xe=je+1}return te}flatten(y){for(let T of this.text)y.push(T)}scanIdentical(){return 0}static split(y,T){let V=[],te=-1;for(let xe of y)V.push(xe),te+=xe.length+1,V.length==32&&(T.push(new p(V,te)),V=[],te=-1);return te>-1&&T.push(new p(V,te)),T}}class R extends s{constructor(y,T){super(),this.children=y,this.length=T,this.lines=0;for(let V of y)this.lines+=V.lines}lineInner(y,T,V,te){for(let xe=0;;xe++){let be=this.children[xe],Ke=te+be.length,je=V+be.lines-1;if((T?je:Ke)>=y)return be.lineInner(y,T,V,te);te=Ke+1,V=je+1}}decompose(y,T,V,te){for(let xe=0,be=0;be<=T&&xe<this.children.length;xe++){let Ke=this.children[xe],je=be+Ke.length;if(y<=je&&T>=be){let Tt=te&((be<=y?1:0)|(je>=T?2:0));be>=y&&je<=T&&!Tt?V.push(Ke):Ke.decompose(y-be,T-be,V,Tt)}be=je+1}}replace(y,T,V){if(V.lines<this.lines)for(let te=0,xe=0;te<this.children.length;te++){let be=this.children[te],Ke=xe+be.length;if(y>=xe&&T<=Ke){let je=be.replace(y-xe,T-xe,V),Tt=this.lines-be.lines+je.lines;if(je.lines<Tt>>5-1&&je.lines>Tt>>5+1){let jt=this.children.slice();return jt[te]=je,new R(jt,this.length-(T-y)+V.length)}return super.replace(xe,Ke,je)}xe=Ke+1}return super.replace(y,T,V)}sliceString(y,T=this.length,V=`
`){let te="";for(let xe=0,be=0;xe<this.children.length&&be<=T;xe++){let Ke=this.children[xe],je=be+Ke.length;be>y&&xe&&(te+=V),y<je&&T>be&&(te+=Ke.sliceString(y-be,T-be,V)),be=je+1}return te}flatten(y){for(let T of this.children)T.flatten(y)}scanIdentical(y,T){if(!(y instanceof R))return 0;let V=0,[te,xe,be,Ke]=T>0?[0,0,this.children.length,y.children.length]:[this.children.length-1,y.children.length-1,-1,-1];for(;;te+=T,xe+=T){if(te==be||xe==Ke)return V;let je=this.children[te],Tt=y.children[xe];if(je!=Tt)return V+je.scanIdentical(Tt,T);V+=je.length+1}}static from(y,T=y.reduce((V,te)=>V+te.length+1,-1)){let V=0;for(let mr of y)V+=mr.lines;if(V<32){let mr=[];for(let On of y)On.flatten(mr);return new p(mr,T)}let te=Math.max(32,V>>5),xe=te<<1,be=te>>1,Ke=[],je=0,Tt=-1,jt=[];function Zt(mr){let On;if(mr.lines>xe&&mr instanceof R)for(let Mn of mr.children)Zt(Mn);else mr.lines>be&&(je>be||!je)?(Pr(),Ke.push(mr)):mr instanceof p&&je&&(On=jt[jt.length-1])instanceof p&&mr.lines+On.lines<=32?(je+=mr.lines,Tt+=mr.length+1,jt[jt.length-1]=new p(On.text.concat(mr.text),On.length+1+mr.length)):(je+mr.lines>te&&Pr(),je+=mr.lines,Tt+=mr.length+1,jt.push(mr))}function Pr(){je!=0&&(Ke.push(jt.length==1?jt[0]:R.from(jt,Tt)),Tt=-1,je=jt.length=0)}for(let mr of y)Zt(mr);return Pr(),Ke.length==1?Ke[0]:new R(Ke,T)}}s.empty=new p([""],0);function O(Pe){let y=-1;for(let T of Pe)y+=T.length+1;return y}function _(Pe,y,T=0,V=1e9){for(let te=0,xe=0,be=!0;xe<Pe.length&&te<=V;xe++){let Ke=Pe[xe],je=te+Ke.length;je>=T&&(je>V&&(Ke=Ke.slice(0,V-te)),te<T&&(Ke=Ke.slice(T-te)),be?(y[y.length-1]+=Ke,be=!1):y.push(Ke)),te=je+1}return y}function D(Pe,y,T){return _(Pe,[""],y,T)}class N{constructor(y,T=1){this.dir=T,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[y],this.offsets=[T>0?1:(y instanceof p?y.text.length:y.children.length)<<1]}nextInner(y,T){for(this.done=this.lineBreak=!1;;){let V=this.nodes.length-1,te=this.nodes[V],xe=this.offsets[V],be=xe>>1,Ke=te instanceof p?te.text.length:te.children.length;if(be==(T>0?Ke:0)){if(V==0)return this.done=!0,this.value="",this;T>0&&this.offsets[V-1]++,this.nodes.pop(),this.offsets.pop()}else if((xe&1)==(T>0?0:1)){if(this.offsets[V]+=T,y==0)return this.lineBreak=!0,this.value=`
`,this;y--}else if(te instanceof p){let je=te.text[be+(T<0?-1:0)];if(this.offsets[V]+=T,je.length>Math.max(0,y))return this.value=y==0?je:T>0?je.slice(y):je.slice(0,je.length-y),this;y-=je.length}else{let je=te.children[be+(T<0?-1:0)];y>je.length?(y-=je.length,this.offsets[V]+=T):(T<0&&this.offsets[V]--,this.nodes.push(je),this.offsets.push(T>0?1:(je instanceof p?je.text.length:je.children.length)<<1))}}}next(y=0){return y<0&&(this.nextInner(-y,-this.dir),y=this.value.length),this.nextInner(y,this.dir)}}class j{constructor(y,T,V){this.value="",this.done=!1,this.cursor=new N(y,T>V?-1:1),this.pos=T>V?y.length:0,this.from=Math.min(T,V),this.to=Math.max(T,V)}nextInner(y,T){if(T<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;y+=Math.max(0,T<0?this.pos-this.to:this.from-this.pos);let V=T<0?this.pos-this.from:this.to-this.pos;y>V&&(y=V),V-=y;let{value:te}=this.cursor.next(y);return this.pos+=(te.length+y)*T,this.value=te.length<=V?te:T<0?te.slice(te.length-V):te.slice(0,V),this.done=!this.value,this}next(y=0){return y<0?y=Math.max(y,this.from-this.pos):y>0&&(y=Math.min(y,this.to-this.pos)),this.nextInner(y,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class I{constructor(y){this.inner=y,this.afterBreak=!0,this.value="",this.done=!1}next(y=0){let{done:T,lineBreak:V,value:te}=this.inner.next(y);return T?(this.done=!0,this.value=""):V?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=te,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol!="undefined"&&(s.prototype[Symbol.iterator]=function(){return this.iter()},N.prototype[Symbol.iterator]=j.prototype[Symbol.iterator]=I.prototype[Symbol.iterator]=function(){return this});class G{constructor(y,T,V,te){this.from=y,this.to=T,this.number=V,this.text=te}get length(){return this.to-this.from}}let z="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(Pe=>Pe?parseInt(Pe,36):1);for(let Pe=1;Pe<z.length;Pe++)z[Pe]+=z[Pe-1];function re(Pe){for(let y=1;y<z.length;y+=2)if(z[y]>Pe)return z[y-1]<=Pe;return!1}function ne(Pe){return Pe>=127462&&Pe<=127487}const ae=8205;function ve(Pe,y,T=!0,V=!0){return(T?M:H)(Pe,y,V)}function M(Pe,y,T){if(y==Pe.length)return y;y&&ue(Pe.charCodeAt(y))&&X(Pe.charCodeAt(y-1))&&y--;let V=se(Pe,y);for(y+=ee(V);y<Pe.length;){let te=se(Pe,y);if(V==ae||te==ae||T&&re(te))y+=ee(te),V=te;else if(ne(te)){let xe=0,be=y-2;for(;be>=0&&ne(se(Pe,be));)xe++,be-=2;if(xe%2==0)break;y+=2}else break}return y}function H(Pe,y,T){for(;y>0;){let V=M(Pe,y-2,T);if(V<y)return V;y--}return 0}function ue(Pe){return Pe>=56320&&Pe<57344}function X(Pe){return Pe>=55296&&Pe<56320}function se(Pe,y){let T=Pe.charCodeAt(y);if(!X(T)||y+1==Pe.length)return T;let V=Pe.charCodeAt(y+1);return ue(V)?(T-55296<<10)+(V-56320)+65536:T}function fe(Pe){return Pe<=65535?String.fromCharCode(Pe):(Pe-=65536,String.fromCharCode((Pe>>10)+55296,(Pe&1023)+56320))}function ee(Pe){return Pe<65536?1:2}const $=/\r\n?|\n/;var Se=function(Pe){return Pe[Pe.Simple=0]="Simple",Pe[Pe.TrackDel=1]="TrackDel",Pe[Pe.TrackBefore=2]="TrackBefore",Pe[Pe.TrackAfter=3]="TrackAfter",Pe}(Se||(Se={}));class Ie{constructor(y){this.sections=y}get length(){let y=0;for(let T=0;T<this.sections.length;T+=2)y+=this.sections[T];return y}get newLength(){let y=0;for(let T=0;T<this.sections.length;T+=2){let V=this.sections[T+1];y+=V<0?this.sections[T]:V}return y}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(y){for(let T=0,V=0,te=0;T<this.sections.length;){let xe=this.sections[T++],be=this.sections[T++];be<0?(y(V,te,xe),te+=xe):te+=be,V+=xe}}iterChangedRanges(y,T=!1){lt(this,y,T)}get invertedDesc(){let y=[];for(let T=0;T<this.sections.length;){let V=this.sections[T++],te=this.sections[T++];te<0?y.push(V,te):y.push(te,V)}return new Ie(y)}composeDesc(y){return this.empty?y:y.empty?this:He(this,y)}mapDesc(y,T=!1){return y.empty?this:Qe(this,y,T)}mapPos(y,T=-1,V=Se.Simple){let te=0,xe=0;for(let be=0;be<this.sections.length;){let Ke=this.sections[be++],je=this.sections[be++],Tt=te+Ke;if(je<0){if(Tt>y)return xe+(y-te);xe+=Ke}else{if(V!=Se.Simple&&Tt>=y&&(V==Se.TrackDel&&te<y&&Tt>y||V==Se.TrackBefore&&te<y||V==Se.TrackAfter&&Tt>y))return null;if(Tt>y||Tt==y&&T<0&&!Ke)return y==te||T<0?xe:xe+je;xe+=je}te=Tt}if(y>te)throw new RangeError(`Position ${y} is out of range for changeset of length ${te}`);return xe}touchesRange(y,T=y){for(let V=0,te=0;V<this.sections.length&&te<=T;){let xe=this.sections[V++],be=this.sections[V++],Ke=te+xe;if(be>=0&&te<=T&&Ke>=y)return te<y&&Ke>T?"cover":!0;te=Ke}return!1}toString(){let y="";for(let T=0;T<this.sections.length;){let V=this.sections[T++],te=this.sections[T++];y+=(y?" ":"")+V+(te>=0?":"+te:"")}return y}toJSON(){return this.sections}static fromJSON(y){if(!Array.isArray(y)||y.length%2||y.some(T=>typeof T!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new Ie(y)}static create(y){return new Ie(y)}}class Oe extends Ie{constructor(y,T){super(y),this.inserted=T}apply(y){if(this.length!=y.length)throw new RangeError("Applying change set to a document with the wrong length");return lt(this,(T,V,te,xe,be)=>y=y.replace(te,te+(V-T),be),!1),y}mapDesc(y,T=!1){return Qe(this,y,T,!0)}invert(y){let T=this.sections.slice(),V=[];for(let te=0,xe=0;te<T.length;te+=2){let be=T[te],Ke=T[te+1];if(Ke>=0){T[te]=Ke,T[te+1]=be;let je=te>>1;for(;V.length<je;)V.push(s.empty);V.push(be?y.slice(xe,xe+be):s.empty)}xe+=be}return new Oe(T,V)}compose(y){return this.empty?y:y.empty?this:He(this,y,!0)}map(y,T=!1){return y.empty?this:Qe(this,y,T,!0)}iterChanges(y,T=!1){lt(this,y,T)}get desc(){return Ie.create(this.sections)}filter(y){let T=[],V=[],te=[],xe=new St(this);e:for(let be=0,Ke=0;;){let je=be==y.length?1e9:y[be++];for(;Ke<je||Ke==je&&xe.len==0;){if(xe.done)break e;let jt=Math.min(xe.len,je-Ke);We(te,jt,-1);let Zt=xe.ins==-1?-1:xe.off==0?xe.ins:0;We(T,jt,Zt),Zt>0&&Ge(V,T,xe.text),xe.forward(jt),Ke+=jt}let Tt=y[be++];for(;Ke<Tt;){if(xe.done)break e;let jt=Math.min(xe.len,Tt-Ke);We(T,jt,-1),We(te,jt,xe.ins==-1?-1:xe.off==0?xe.ins:0),xe.forward(jt),Ke+=jt}}return{changes:new Oe(T,V),filtered:Ie.create(te)}}toJSON(){let y=[];for(let T=0;T<this.sections.length;T+=2){let V=this.sections[T],te=this.sections[T+1];te<0?y.push(V):te==0?y.push([V]):y.push([V].concat(this.inserted[T>>1].toJSON()))}return y}static of(y,T,V){let te=[],xe=[],be=0,Ke=null;function je(jt=!1){if(!jt&&!te.length)return;be<T&&We(te,T-be,-1);let Zt=new Oe(te,xe);Ke=Ke?Ke.compose(Zt.map(Ke)):Zt,te=[],xe=[],be=0}function Tt(jt){if(Array.isArray(jt))for(let Zt of jt)Tt(Zt);else if(jt instanceof Oe){if(jt.length!=T)throw new RangeError(`Mismatched change set length (got ${jt.length}, expected ${T})`);je(),Ke=Ke?Ke.compose(jt.map(Ke)):jt}else{let{from:Zt,to:Pr=Zt,insert:mr}=jt;if(Zt>Pr||Zt<0||Pr>T)throw new RangeError(`Invalid change range ${Zt} to ${Pr} (in doc of length ${T})`);let On=mr?typeof mr=="string"?s.of(mr.split(V||$)):mr:s.empty,Mn=On.length;if(Zt==Pr&&Mn==0)return;Zt<be&&je(),Zt>be&&We(te,Zt-be,-1),We(te,Pr-Zt,Mn),Ge(xe,te,On),be=Pr}}return Tt(y),je(!Ke),Ke}static empty(y){return new Oe(y?[y,-1]:[],[])}static fromJSON(y){if(!Array.isArray(y))throw new RangeError("Invalid JSON representation of ChangeSet");let T=[],V=[];for(let te=0;te<y.length;te++){let xe=y[te];if(typeof xe=="number")T.push(xe,-1);else{if(!Array.isArray(xe)||typeof xe[0]!="number"||xe.some((be,Ke)=>Ke&&typeof be!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(xe.length==1)T.push(xe[0],0);else{for(;V.length<te;)V.push(s.empty);V[te]=s.of(xe.slice(1)),T.push(xe[0],V[te].length)}}}return new Oe(T,V)}static createSet(y,T){return new Oe(y,T)}}function We(Pe,y,T,V=!1){if(y==0&&T<=0)return;let te=Pe.length-2;te>=0&&T<=0&&T==Pe[te+1]?Pe[te]+=y:y==0&&Pe[te]==0?Pe[te+1]+=T:V?(Pe[te]+=y,Pe[te+1]+=T):Pe.push(y,T)}function Ge(Pe,y,T){if(T.length==0)return;let V=y.length-2>>1;if(V<Pe.length)Pe[Pe.length-1]=Pe[Pe.length-1].append(T);else{for(;Pe.length<V;)Pe.push(s.empty);Pe.push(T)}}function lt(Pe,y,T){let V=Pe.inserted;for(let te=0,xe=0,be=0;be<Pe.sections.length;){let Ke=Pe.sections[be++],je=Pe.sections[be++];if(je<0)te+=Ke,xe+=Ke;else{let Tt=te,jt=xe,Zt=s.empty;for(;Tt+=Ke,jt+=je,je&&V&&(Zt=Zt.append(V[be-2>>1])),!(T||be==Pe.sections.length||Pe.sections[be+1]<0);)Ke=Pe.sections[be++],je=Pe.sections[be++];y(te,Tt,xe,jt,Zt),te=Tt,xe=jt}}}function Qe(Pe,y,T,V=!1){let te=[],xe=V?[]:null,be=new St(Pe),Ke=new St(y);for(let je=-1;;)if(be.ins==-1&&Ke.ins==-1){let Tt=Math.min(be.len,Ke.len);We(te,Tt,-1),be.forward(Tt),Ke.forward(Tt)}else if(Ke.ins>=0&&(be.ins<0||je==be.i||be.off==0&&(Ke.len<be.len||Ke.len==be.len&&!T))){let Tt=Ke.len;for(We(te,Ke.ins,-1);Tt;){let jt=Math.min(be.len,Tt);be.ins>=0&&je<be.i&&be.len<=jt&&(We(te,0,be.ins),xe&&Ge(xe,te,be.text),je=be.i),be.forward(jt),Tt-=jt}Ke.next()}else if(be.ins>=0){let Tt=0,jt=be.len;for(;jt;)if(Ke.ins==-1){let Zt=Math.min(jt,Ke.len);Tt+=Zt,jt-=Zt,Ke.forward(Zt)}else if(Ke.ins==0&&Ke.len<jt)jt-=Ke.len,Ke.next();else break;We(te,Tt,je<be.i?be.ins:0),xe&&je<be.i&&Ge(xe,te,be.text),je=be.i,be.forward(be.len-jt)}else{if(be.done&&Ke.done)return xe?Oe.createSet(te,xe):Ie.create(te);throw new Error("Mismatched change set lengths")}}function He(Pe,y,T=!1){let V=[],te=T?[]:null,xe=new St(Pe),be=new St(y);for(let Ke=!1;;){if(xe.done&&be.done)return te?Oe.createSet(V,te):Ie.create(V);if(xe.ins==0)We(V,xe.len,0,Ke),xe.next();else if(be.len==0&&!be.done)We(V,0,be.ins,Ke),te&&Ge(te,V,be.text),be.next();else{if(xe.done||be.done)throw new Error("Mismatched change set lengths");{let je=Math.min(xe.len2,be.len),Tt=V.length;if(xe.ins==-1){let jt=be.ins==-1?-1:be.off?0:be.ins;We(V,je,jt,Ke),te&&jt&&Ge(te,V,be.text)}else be.ins==-1?(We(V,xe.off?0:xe.len,je,Ke),te&&Ge(te,V,xe.textBit(je))):(We(V,xe.off?0:xe.len,be.off?0:be.ins,Ke),te&&!be.off&&Ge(te,V,be.text));Ke=(xe.ins>je||be.ins>=0&&be.len>je)&&(Ke||V.length>Tt),xe.forward2(je),be.forward(je)}}}}class St{constructor(y){this.set=y,this.i=0,this.next()}next(){let{sections:y}=this.set;this.i<y.length?(this.len=y[this.i++],this.ins=y[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:y}=this.set,T=this.i-2>>1;return T>=y.length?s.empty:y[T]}textBit(y){let{inserted:T}=this.set,V=this.i-2>>1;return V>=T.length&&!y?s.empty:T[V].slice(this.off,y==null?void 0:this.off+y)}forward(y){y==this.len?this.next():(this.len-=y,this.off+=y)}forward2(y){this.ins==-1?this.forward(y):y==this.ins?this.next():(this.ins-=y,this.off+=y)}}class qt{constructor(y,T,V){this.from=y,this.to=T,this.flags=V}get anchor(){return this.flags&16?this.to:this.from}get head(){return this.flags&16?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&4?-1:this.flags&8?1:0}get bidiLevel(){let y=this.flags&3;return y==3?null:y}get goalColumn(){let y=this.flags>>5;return y==33554431?void 0:y}map(y,T=-1){let V,te;return this.empty?V=te=y.mapPos(this.from,T):(V=y.mapPos(this.from,1),te=y.mapPos(this.to,-1)),V==this.from&&te==this.to?this:new qt(V,te,this.flags)}extend(y,T=y){if(y<=this.anchor&&T>=this.anchor)return dt.range(y,T);let V=Math.abs(y-this.anchor)>Math.abs(T-this.anchor)?y:T;return dt.range(this.anchor,V)}eq(y){return this.anchor==y.anchor&&this.head==y.head}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(y){if(!y||typeof y.anchor!="number"||typeof y.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return dt.range(y.anchor,y.head)}static create(y,T,V){return new qt(y,T,V)}}class dt{constructor(y,T){this.ranges=y,this.mainIndex=T}map(y,T=-1){return y.empty?this:dt.create(this.ranges.map(V=>V.map(y,T)),this.mainIndex)}eq(y){if(this.ranges.length!=y.ranges.length||this.mainIndex!=y.mainIndex)return!1;for(let T=0;T<this.ranges.length;T++)if(!this.ranges[T].eq(y.ranges[T]))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new dt([this.main],0)}addRange(y,T=!0){return dt.create([y].concat(this.ranges),T?0:this.mainIndex+1)}replaceRange(y,T=this.mainIndex){let V=this.ranges.slice();return V[T]=y,dt.create(V,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(y=>y.toJSON()),main:this.mainIndex}}static fromJSON(y){if(!y||!Array.isArray(y.ranges)||typeof y.main!="number"||y.main>=y.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new dt(y.ranges.map(T=>qt.fromJSON(T)),y.main)}static single(y,T=y){return new dt([dt.range(y,T)],0)}static create(y,T=0){if(y.length==0)throw new RangeError("A selection needs at least one range");for(let V=0,te=0;te<y.length;te++){let xe=y[te];if(xe.empty?xe.from<=V:xe.from<V)return dt.normalized(y.slice(),T);V=xe.to}return new dt(y,T)}static cursor(y,T=0,V,te){return qt.create(y,y,(T==0?0:T<0?4:8)|(V==null?3:Math.min(2,V))|(te!=null?te:33554431)<<5)}static range(y,T,V,te){let xe=(V!=null?V:33554431)<<5|(te==null?3:Math.min(2,te));return T<y?qt.create(T,y,24|xe):qt.create(y,T,(T>y?4:0)|xe)}static normalized(y,T=0){let V=y[T];y.sort((te,xe)=>te.from-xe.from),T=y.indexOf(V);for(let te=1;te<y.length;te++){let xe=y[te],be=y[te-1];if(xe.empty?xe.from<=be.to:xe.from<be.to){let Ke=be.from,je=Math.max(xe.to,be.to);te<=T&&T--,y.splice(--te,2,xe.anchor>xe.head?dt.range(je,Ke):dt.range(Ke,je))}}return new dt(y,T)}}function wt(Pe,y){for(let T of Pe.ranges)if(T.to>y)throw new RangeError("Selection points outside of document")}let rt=0;class Ze{constructor(y,T,V,te,xe){this.combine=y,this.compareInput=T,this.compare=V,this.isStatic=te,this.id=rt++,this.default=y([]),this.extensions=typeof xe=="function"?xe(this):xe}static define(y={}){return new Ze(y.combine||(T=>T),y.compareInput||((T,V)=>T===V),y.compare||(y.combine?(T,V)=>T===V:yt),!!y.static,y.enables)}of(y){return new tt([],this,0,y)}compute(y,T){if(this.isStatic)throw new Error("Can't compute a static facet");return new tt(y,this,1,T)}computeN(y,T){if(this.isStatic)throw new Error("Can't compute a static facet");return new tt(y,this,2,T)}from(y,T){return T||(T=V=>V),this.compute([y],V=>T(V.field(y)))}}function yt(Pe,y){return Pe==y||Pe.length==y.length&&Pe.every((T,V)=>T===y[V])}class tt{constructor(y,T,V,te){this.dependencies=y,this.facet=T,this.type=V,this.value=te,this.id=rt++}dynamicSlot(y){var T;let V=this.value,te=this.facet.compareInput,xe=this.id,be=y[xe]>>1,Ke=this.type==2,je=!1,Tt=!1,jt=[];for(let Zt of this.dependencies)Zt=="doc"?je=!0:Zt=="selection"?Tt=!0:((T=y[Zt.id])!==null&&T!==void 0?T:1)&1||jt.push(y[Zt.id]);return{create(Zt){return Zt.values[be]=V(Zt),1},update(Zt,Pr){if(je&&Pr.docChanged||Tt&&(Pr.docChanged||Pr.selection)||$e(Zt,jt)){let mr=V(Zt);if(Ke?!ge(mr,Zt.values[be],te):!te(mr,Zt.values[be]))return Zt.values[be]=mr,1}return 0},reconfigure:(Zt,Pr)=>{let mr,On=Pr.config.address[xe];if(On!=null){let Mn=Mt(Pr,On);if(this.dependencies.every(zn=>zn instanceof Ze?Pr.facet(zn)===Zt.facet(zn):zn instanceof Vt?Pr.field(zn,!1)==Zt.field(zn,!1):!0)||(Ke?ge(mr=V(Zt),Mn,te):te(mr=V(Zt),Mn)))return Zt.values[be]=Mn,0}else mr=V(Zt);return Zt.values[be]=mr,1}}}}function ge(Pe,y,T){if(Pe.length!=y.length)return!1;for(let V=0;V<Pe.length;V++)if(!T(Pe[V],y[V]))return!1;return!0}function $e(Pe,y){let T=!1;for(let V of y)ct(Pe,V)&1&&(T=!0);return T}function mt(Pe,y,T){let V=T.map(je=>Pe[je.id]),te=T.map(je=>je.type),xe=V.filter(je=>!(je&1)),be=Pe[y.id]>>1;function Ke(je){let Tt=[];for(let jt=0;jt<V.length;jt++){let Zt=Mt(je,V[jt]);if(te[jt]==2)for(let Pr of Zt)Tt.push(Pr);else Tt.push(Zt)}return y.combine(Tt)}return{create(je){for(let Tt of V)ct(je,Tt);return je.values[be]=Ke(je),1},update(je,Tt){if(!$e(je,xe))return 0;let jt=Ke(je);return y.compare(jt,je.values[be])?0:(je.values[be]=jt,1)},reconfigure(je,Tt){let jt=$e(je,V),Zt=Tt.config.facets[y.id],Pr=Tt.facet(y);if(Zt&&!jt&&yt(T,Zt))return je.values[be]=Pr,0;let mr=Ke(je);return y.compare(mr,Pr)?(je.values[be]=Pr,0):(je.values[be]=mr,1)}}}const _t=Ze.define({static:!0});class Vt{constructor(y,T,V,te,xe){this.id=y,this.createF=T,this.updateF=V,this.compareF=te,this.spec=xe,this.provides=void 0}static define(y){let T=new Vt(rt++,y.create,y.update,y.compare||((V,te)=>V===te),y);return y.provide&&(T.provides=y.provide(T)),T}create(y){let T=y.facet(_t).find(V=>V.field==this);return((T==null?void 0:T.create)||this.createF)(y)}slot(y){let T=y[this.id]>>1;return{create:V=>(V.values[T]=this.create(V),1),update:(V,te)=>{let xe=V.values[T],be=this.updateF(xe,te);return this.compareF(xe,be)?0:(V.values[T]=be,1)},reconfigure:(V,te)=>te.config.address[this.id]!=null?(V.values[T]=te.field(this),0):(V.values[T]=this.create(V),1)}}init(y){return[this,_t.of({field:this,create:y})]}get extension(){return this}}const Cr={lowest:4,low:3,default:2,high:1,highest:0};function Ve(Pe){return y=>new Z(y,Pe)}const K={highest:Ve(Cr.highest),high:Ve(Cr.high),default:Ve(Cr.default),low:Ve(Cr.low),lowest:Ve(Cr.lowest)};class Z{constructor(y,T){this.inner=y,this.prec=T}}class Q{of(y){return new ie(this,y)}reconfigure(y){return Q.reconfigure.of({compartment:this,extension:y})}get(y){return y.config.compartments.get(this)}}class ie{constructor(y,T){this.compartment=y,this.inner=T}}class Te{constructor(y,T,V,te,xe,be){for(this.base=y,this.compartments=T,this.dynamicSlots=V,this.address=te,this.staticValues=xe,this.facets=be,this.statusTemplate=[];this.statusTemplate.length<V.length;)this.statusTemplate.push(0)}staticFacet(y){let T=this.address[y.id];return T==null?y.default:this.staticValues[T>>1]}static resolve(y,T,V){let te=[],xe=Object.create(null),be=new Map;for(let Pr of Xe(y,T,be))Pr instanceof Vt?te.push(Pr):(xe[Pr.facet.id]||(xe[Pr.facet.id]=[])).push(Pr);let Ke=Object.create(null),je=[],Tt=[];for(let Pr of te)Ke[Pr.id]=Tt.length<<1,Tt.push(mr=>Pr.slot(mr));let jt=V==null?void 0:V.config.facets;for(let Pr in xe){let mr=xe[Pr],On=mr[0].facet,Mn=jt&&jt[Pr]||[];if(mr.every(zn=>zn.type==0))if(Ke[On.id]=je.length<<1|1,yt(Mn,mr))je.push(V.facet(On));else{let zn=On.combine(mr.map($i=>$i.value));je.push(V&&On.compare(zn,V.facet(On))?V.facet(On):zn)}else{for(let zn of mr)zn.type==0?(Ke[zn.id]=je.length<<1|1,je.push(zn.value)):(Ke[zn.id]=Tt.length<<1,Tt.push($i=>zn.dynamicSlot($i)));Ke[On.id]=Tt.length<<1,Tt.push(zn=>mt(zn,On,mr))}}let Zt=Tt.map(Pr=>Pr(Ke));return new Te(y,be,Zt,Ke,je,xe)}}function Xe(Pe,y,T){let V=[[],[],[],[],[]],te=new Map;function xe(be,Ke){let je=te.get(be);if(je!=null){if(je<=Ke)return;let Tt=V[je].indexOf(be);Tt>-1&&V[je].splice(Tt,1),be instanceof ie&&T.delete(be.compartment)}if(te.set(be,Ke),Array.isArray(be))for(let Tt of be)xe(Tt,Ke);else if(be instanceof ie){if(T.has(be.compartment))throw new RangeError("Duplicate use of compartment in extensions");let Tt=y.get(be.compartment)||be.inner;T.set(be.compartment,Tt),xe(Tt,Ke)}else if(be instanceof Z)xe(be.inner,be.prec);else if(be instanceof Vt)V[Ke].push(be),be.provides&&xe(be.provides,Ke);else if(be instanceof tt)V[Ke].push(be),be.facet.extensions&&xe(be.facet.extensions,Cr.default);else{let Tt=be.extension;if(!Tt)throw new Error(`Unrecognized extension value in extension set (${be}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);xe(Tt,Ke)}}return xe(Pe,Cr.default),V.reduce((be,Ke)=>be.concat(Ke))}function ct(Pe,y){if(y&1)return 2;let T=y>>1,V=Pe.status[T];if(V==4)throw new Error("Cyclic dependency between fields and/or facets");if(V&2)return V;Pe.status[T]=4;let te=Pe.computeSlot(Pe,Pe.config.dynamicSlots[T]);return Pe.status[T]=2|te}function Mt(Pe,y){return y&1?Pe.config.staticValues[y>>1]:Pe.values[y>>1]}const Qt=Ze.define(),Yt=Ze.define({combine:Pe=>Pe.some(y=>y),static:!0}),zt=Ze.define({combine:Pe=>Pe.length?Pe[0]:void 0,static:!0}),Xt=Ze.define(),ot=Ze.define(),Ct=Ze.define(),Nt=Ze.define({combine:Pe=>Pe.length?Pe[0]:!1});class fr{constructor(y,T){this.type=y,this.value=T}static define(){return new Or}}class Or{of(y){return new fr(this,y)}}class xr{constructor(y){this.map=y}of(y){return new ar(this,y)}}class ar{constructor(y,T){this.type=y,this.value=T}map(y){let T=this.type.map(this.value,y);return T===void 0?void 0:T==this.value?this:new ar(this.type,T)}is(y){return this.type==y}static define(y={}){return new xr(y.map||(T=>T))}static mapEffects(y,T){if(!y.length)return y;let V=[];for(let te of y){let xe=te.map(T);xe&&V.push(xe)}return V}}ar.reconfigure=ar.define(),ar.appendConfig=ar.define();class Ft{constructor(y,T,V,te,xe,be){this.startState=y,this.changes=T,this.selection=V,this.effects=te,this.annotations=xe,this.scrollIntoView=be,this._doc=null,this._state=null,V&&wt(V,T.newLength),xe.some(Ke=>Ke.type==Ft.time)||(this.annotations=xe.concat(Ft.time.of(Date.now())))}static create(y,T,V,te,xe,be){return new Ft(y,T,V,te,xe,be)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(y){for(let T of this.annotations)if(T.type==y)return T.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(y){let T=this.annotation(Ft.userEvent);return!!(T&&(T==y||T.length>y.length&&T.slice(0,y.length)==y&&T[y.length]=="."))}}Ft.time=fr.define(),Ft.userEvent=fr.define(),Ft.addToHistory=fr.define(),Ft.remote=fr.define();function jr(Pe,y){let T=[];for(let V=0,te=0;;){let xe,be;if(V<Pe.length&&(te==y.length||y[te]>=Pe[V]))xe=Pe[V++],be=Pe[V++];else if(te<y.length)xe=y[te++],be=y[te++];else return T;!T.length||T[T.length-1]<xe?T.push(xe,be):T[T.length-1]<be&&(T[T.length-1]=be)}}function yr(Pe,y,T){var V;let te,xe,be;return T?(te=y.changes,xe=Oe.empty(y.changes.length),be=Pe.changes.compose(y.changes)):(te=y.changes.map(Pe.changes),xe=Pe.changes.mapDesc(y.changes,!0),be=Pe.changes.compose(te)),{changes:be,selection:y.selection?y.selection.map(xe):(V=Pe.selection)===null||V===void 0?void 0:V.map(te),effects:ar.mapEffects(Pe.effects,te).concat(ar.mapEffects(y.effects,xe)),annotations:Pe.annotations.length?Pe.annotations.concat(y.annotations):y.annotations,scrollIntoView:Pe.scrollIntoView||y.scrollIntoView}}function dr(Pe,y,T){let V=y.selection,te=Ne(y.annotations);return y.userEvent&&(te=te.concat(Ft.userEvent.of(y.userEvent))),{changes:y.changes instanceof Oe?y.changes:Oe.of(y.changes||[],T,Pe.facet(zt)),selection:V&&(V instanceof dt?V:dt.single(V.anchor,V.head)),effects:Ne(y.effects),annotations:te,scrollIntoView:!!y.scrollIntoView}}function pr(Pe,y,T){let V=dr(Pe,y.length?y[0]:{},Pe.doc.length);y.length&&y[0].filter===!1&&(T=!1);for(let xe=1;xe<y.length;xe++){y[xe].filter===!1&&(T=!1);let be=!!y[xe].sequential;V=yr(V,dr(Pe,y[xe],be?V.changes.newLength:Pe.doc.length),be)}let te=Ft.create(Pe,V.changes,V.selection,V.effects,V.annotations,V.scrollIntoView);return Wr(T?cr(te):te)}function cr(Pe){let y=Pe.startState,T=!0;for(let te of y.facet(Xt)){let xe=te(Pe);if(xe===!1){T=!1;break}Array.isArray(xe)&&(T=T===!0?xe:jr(T,xe))}if(T!==!0){let te,xe;if(T===!1)xe=Pe.changes.invertedDesc,te=Oe.empty(y.doc.length);else{let be=Pe.changes.filter(T);te=be.changes,xe=be.filtered.mapDesc(be.changes).invertedDesc}Pe=Ft.create(y,te,Pe.selection&&Pe.selection.map(xe),ar.mapEffects(Pe.effects,xe),Pe.annotations,Pe.scrollIntoView)}let V=y.facet(ot);for(let te=V.length-1;te>=0;te--){let xe=V[te](Pe);xe instanceof Ft?Pe=xe:Array.isArray(xe)&&xe.length==1&&xe[0]instanceof Ft?Pe=xe[0]:Pe=pr(y,Ne(xe),!1)}return Pe}function Wr(Pe){let y=Pe.startState,T=y.facet(Ct),V=Pe;for(let te=T.length-1;te>=0;te--){let xe=T[te](Pe);xe&&Object.keys(xe).length&&(V=yr(V,dr(y,xe,Pe.changes.newLength),!0))}return V==Pe?Pe:Ft.create(y,Pe.changes,Pe.selection,V.effects,V.annotations,V.scrollIntoView)}const Tr=[];function Ne(Pe){return Pe==null?Tr:Array.isArray(Pe)?Pe:[Pe]}var Gt=function(Pe){return Pe[Pe.Word=0]="Word",Pe[Pe.Space=1]="Space",Pe[Pe.Other=2]="Other",Pe}(Gt||(Gt={}));const ir=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let lr;try{lr=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function Sr(Pe){if(lr)return lr.test(Pe);for(let y=0;y<Pe.length;y++){let T=Pe[y];if(/\w/.test(T)||T>"\x80"&&(T.toUpperCase()!=T.toLowerCase()||ir.test(T)))return!0}return!1}function _r(Pe){return y=>{if(!/\S/.test(y))return Gt.Space;if(Sr(y))return Gt.Word;for(let T=0;T<Pe.length;T++)if(y.indexOf(Pe[T])>-1)return Gt.Word;return Gt.Other}}class Er{constructor(y,T,V,te,xe,be){this.config=y,this.doc=T,this.selection=V,this.values=te,this.status=y.statusTemplate.slice(),this.computeSlot=xe,be&&(be._state=this);for(let Ke=0;Ke<this.config.dynamicSlots.length;Ke++)ct(this,Ke<<1);this.computeSlot=null}field(y,T=!0){let V=this.config.address[y.id];if(V==null){if(T)throw new RangeError("Field is not present in this state");return}return ct(this,V),Mt(this,V)}update(...y){return pr(this,y,!0)}applyTransaction(y){let T=this.config,{base:V,compartments:te}=T;for(let be of y.effects)be.is(Q.reconfigure)?(T&&(te=new Map,T.compartments.forEach((Ke,je)=>te.set(je,Ke)),T=null),te.set(be.value.compartment,be.value.extension)):be.is(ar.reconfigure)?(T=null,V=be.value):be.is(ar.appendConfig)&&(T=null,V=Ne(V).concat(be.value));let xe;T?xe=y.startState.values.slice():(T=Te.resolve(V,te,this),xe=new Er(T,this.doc,this.selection,T.dynamicSlots.map(()=>null),(Ke,je)=>je.reconfigure(Ke,this),null).values),new Er(T,y.newDoc,y.newSelection,xe,(be,Ke)=>Ke.update(be,y),y)}replaceSelection(y){return typeof y=="string"&&(y=this.toText(y)),this.changeByRange(T=>({changes:{from:T.from,to:T.to,insert:y},range:dt.cursor(T.from+y.length)}))}changeByRange(y){let T=this.selection,V=y(T.ranges[0]),te=this.changes(V.changes),xe=[V.range],be=Ne(V.effects);for(let Ke=1;Ke<T.ranges.length;Ke++){let je=y(T.ranges[Ke]),Tt=this.changes(je.changes),jt=Tt.map(te);for(let Pr=0;Pr<Ke;Pr++)xe[Pr]=xe[Pr].map(jt);let Zt=te.mapDesc(Tt,!0);xe.push(je.range.map(Zt)),te=te.compose(jt),be=ar.mapEffects(be,jt).concat(ar.mapEffects(Ne(je.effects),Zt))}return{changes:te,selection:dt.create(xe,T.mainIndex),effects:be}}changes(y=[]){return y instanceof Oe?y:Oe.of(y,this.doc.length,this.facet(Er.lineSeparator))}toText(y){return s.of(y.split(this.facet(Er.lineSeparator)||$))}sliceDoc(y=0,T=this.doc.length){return this.doc.sliceString(y,T,this.lineBreak)}facet(y){let T=this.config.address[y.id];return T==null?y.default:(ct(this,T),Mt(this,T))}toJSON(y){let T={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(y)for(let V in y){let te=y[V];te instanceof Vt&&this.config.address[te.id]!=null&&(T[V]=te.spec.toJSON(this.field(y[V]),this))}return T}static fromJSON(y,T={},V){if(!y||typeof y.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let te=[];if(V){for(let xe in V)if(Object.prototype.hasOwnProperty.call(y,xe)){let be=V[xe],Ke=y[xe];te.push(be.init(je=>be.spec.fromJSON(Ke,je)))}}return Er.create({doc:y.doc,selection:dt.fromJSON(y.selection),extensions:T.extensions?te.concat([T.extensions]):te})}static create(y={}){let T=Te.resolve(y.extensions||[],new Map),V=y.doc instanceof s?y.doc:s.of((y.doc||"").split(T.staticFacet(Er.lineSeparator)||$)),te=y.selection?y.selection instanceof dt?y.selection:dt.single(y.selection.anchor,y.selection.head):dt.single(0);return wt(te,V.length),T.staticFacet(Yt)||(te=te.asSingle()),new Er(T,V,te,T.dynamicSlots.map(()=>null),(xe,be)=>be.create(xe),null)}get tabSize(){return this.facet(Er.tabSize)}get lineBreak(){return this.facet(Er.lineSeparator)||`
`}get readOnly(){return this.facet(Nt)}phrase(y,...T){for(let V of this.facet(Er.phrases))if(Object.prototype.hasOwnProperty.call(V,y)){y=V[y];break}return T.length&&(y=y.replace(/\$(\$|\d*)/g,(V,te)=>{if(te=="$")return"$";let xe=+(te||1);return!xe||xe>T.length?V:T[xe-1]})),y}languageDataAt(y,T,V=-1){let te=[];for(let xe of this.facet(Qt))for(let be of xe(this,T,V))Object.prototype.hasOwnProperty.call(be,y)&&te.push(be[y]);return te}charCategorizer(y){return _r(this.languageDataAt("wordChars",y).join(""))}wordAt(y){let{text:T,from:V,length:te}=this.doc.lineAt(y),xe=this.charCategorizer(y),be=y-V,Ke=y-V;for(;be>0;){let je=ve(T,be,!1);if(xe(T.slice(je,be))!=Gt.Word)break;be=je}for(;Ke<te;){let je=ve(T,Ke);if(xe(T.slice(Ke,je))!=Gt.Word)break;Ke=je}return be==Ke?null:dt.range(be+V,Ke+V)}}Er.allowMultipleSelections=Yt,Er.tabSize=Ze.define({combine:Pe=>Pe.length?Pe[0]:4}),Er.lineSeparator=zt,Er.readOnly=Nt,Er.phrases=Ze.define({compare(Pe,y){let T=Object.keys(Pe),V=Object.keys(y);return T.length==V.length&&T.every(te=>Pe[te]==y[te])}}),Er.languageData=Qt,Er.changeFilter=Xt,Er.transactionFilter=ot,Er.transactionExtender=Ct,Q.reconfigure=ar.define();function Zr(Pe,y,T={}){let V={};for(let te of Pe)for(let xe of Object.keys(te)){let be=te[xe],Ke=V[xe];if(Ke===void 0)V[xe]=be;else if(!(Ke===be||be===void 0))if(Object.hasOwnProperty.call(T,xe))V[xe]=T[xe](Ke,be);else throw new Error("Config merge conflict for field "+xe)}for(let te in y)V[te]===void 0&&(V[te]=y[te]);return V}class Ir{eq(y){return this==y}range(y,T=y){return Rr.create(y,T,this)}}Ir.prototype.startSide=Ir.prototype.endSide=0,Ir.prototype.point=!1,Ir.prototype.mapMode=Se.TrackDel;class Rr{constructor(y,T,V){this.from=y,this.to=T,this.value=V}static create(y,T,V){return new Rr(y,T,V)}}function Xr(Pe,y){return Pe.from-y.from||Pe.value.startSide-y.value.startSide}class fn{constructor(y,T,V,te){this.from=y,this.to=T,this.value=V,this.maxPoint=te}get length(){return this.to[this.to.length-1]}findIndex(y,T,V,te=0){let xe=V?this.to:this.from;for(let be=te,Ke=xe.length;;){if(be==Ke)return be;let je=be+Ke>>1,Tt=xe[je]-y||(V?this.value[je].endSide:this.value[je].startSide)-T;if(je==be)return Tt>=0?be:Ke;Tt>=0?Ke=je:be=je+1}}between(y,T,V,te){for(let xe=this.findIndex(T,-1e9,!0),be=this.findIndex(V,1e9,!1,xe);xe<be;xe++)if(te(this.from[xe]+y,this.to[xe]+y,this.value[xe])===!1)return!1}map(y,T){let V=[],te=[],xe=[],be=-1,Ke=-1;for(let je=0;je<this.value.length;je++){let Tt=this.value[je],jt=this.from[je]+y,Zt=this.to[je]+y,Pr,mr;if(jt==Zt){let On=T.mapPos(jt,Tt.startSide,Tt.mapMode);if(On==null||(Pr=mr=On,Tt.startSide!=Tt.endSide&&(mr=T.mapPos(jt,Tt.endSide),mr<Pr)))continue}else if(Pr=T.mapPos(jt,Tt.startSide),mr=T.mapPos(Zt,Tt.endSide),Pr>mr||Pr==mr&&Tt.startSide>0&&Tt.endSide<=0)continue;(mr-Pr||Tt.endSide-Tt.startSide)<0||(be<0&&(be=Pr),Tt.point&&(Ke=Math.max(Ke,mr-Pr)),V.push(Tt),te.push(Pr-be),xe.push(mr-be))}return{mapped:V.length?new fn(te,xe,V,Ke):null,pos:be}}}class Nr{constructor(y,T,V,te){this.chunkPos=y,this.chunk=T,this.nextLayer=V,this.maxPoint=te}static create(y,T,V,te){return new Nr(y,T,V,te)}get length(){let y=this.chunk.length-1;return y<0?0:Math.max(this.chunkEnd(y),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let y=this.nextLayer.size;for(let T of this.chunk)y+=T.value.length;return y}chunkEnd(y){return this.chunkPos[y]+this.chunk[y].length}update(y){let{add:T=[],sort:V=!1,filterFrom:te=0,filterTo:xe=this.length}=y,be=y.filter;if(T.length==0&&!be)return this;if(V&&(T=T.slice().sort(Xr)),this.isEmpty)return T.length?Nr.of(T):this;let Ke=new gn(this,null,-1).goto(0),je=0,Tt=[],jt=new mn;for(;Ke.value||je<T.length;)if(je<T.length&&(Ke.from-T[je].from||Ke.startSide-T[je].value.startSide)>=0){let Zt=T[je++];jt.addInner(Zt.from,Zt.to,Zt.value)||Tt.push(Zt)}else Ke.rangeIndex==1&&Ke.chunkIndex<this.chunk.length&&(je==T.length||this.chunkEnd(Ke.chunkIndex)<T[je].from)&&(!be||te>this.chunkEnd(Ke.chunkIndex)||xe<this.chunkPos[Ke.chunkIndex])&&jt.addChunk(this.chunkPos[Ke.chunkIndex],this.chunk[Ke.chunkIndex])?Ke.nextChunk():((!be||te>Ke.to||xe<Ke.from||be(Ke.from,Ke.to,Ke.value))&&(jt.addInner(Ke.from,Ke.to,Ke.value)||Tt.push(Rr.create(Ke.from,Ke.to,Ke.value))),Ke.next());return jt.finishInner(this.nextLayer.isEmpty&&!Tt.length?Nr.empty:this.nextLayer.update({add:Tt,filter:be,filterFrom:te,filterTo:xe}))}map(y){if(y.empty||this.isEmpty)return this;let T=[],V=[],te=-1;for(let be=0;be<this.chunk.length;be++){let Ke=this.chunkPos[be],je=this.chunk[be],Tt=y.touchesRange(Ke,Ke+je.length);if(Tt===!1)te=Math.max(te,je.maxPoint),T.push(je),V.push(y.mapPos(Ke));else if(Tt===!0){let{mapped:jt,pos:Zt}=je.map(Ke,y);jt&&(te=Math.max(te,jt.maxPoint),T.push(jt),V.push(Zt))}}let xe=this.nextLayer.map(y);return T.length==0?xe:new Nr(V,T,xe||Nr.empty,te)}between(y,T,V){if(!this.isEmpty){for(let te=0;te<this.chunk.length;te++){let xe=this.chunkPos[te],be=this.chunk[te];if(T>=xe&&y<=xe+be.length&&be.between(xe,y-xe,T-xe,V)===!1)return}this.nextLayer.between(y,T,V)}}iter(y=0){return un.from([this]).goto(y)}get isEmpty(){return this.nextLayer==this}static iter(y,T=0){return un.from(y).goto(T)}static compare(y,T,V,te,xe=-1){let be=y.filter(Zt=>Zt.maxPoint>0||!Zt.isEmpty&&Zt.maxPoint>=xe),Ke=T.filter(Zt=>Zt.maxPoint>0||!Zt.isEmpty&&Zt.maxPoint>=xe),je=vn(be,Ke,V),Tt=new Yr(be,je,xe),jt=new Yr(Ke,je,xe);V.iterGaps((Zt,Pr,mr)=>yn(Tt,Zt,jt,Pr,mr,te)),V.empty&&V.length==0&&yn(Tt,0,jt,0,0,te)}static eq(y,T,V=0,te){te==null&&(te=1e9-1);let xe=y.filter(jt=>!jt.isEmpty&&T.indexOf(jt)<0),be=T.filter(jt=>!jt.isEmpty&&y.indexOf(jt)<0);if(xe.length!=be.length)return!1;if(!xe.length)return!0;let Ke=vn(xe,be),je=new Yr(xe,Ke,0).goto(V),Tt=new Yr(be,Ke,0).goto(V);for(;;){if(je.to!=Tt.to||!sn(je.active,Tt.active)||je.point&&(!Tt.point||!je.point.eq(Tt.point)))return!1;if(je.to>te)return!0;je.next(),Tt.next()}}static spans(y,T,V,te,xe=-1){let be=new Yr(y,null,xe).goto(T),Ke=T,je=be.openStart;for(;;){let Tt=Math.min(be.to,V);if(be.point){let jt=be.activeForPoint(be.to),Zt=be.pointFrom<T?jt.length+1:Math.min(jt.length,je);te.point(Ke,Tt,be.point,jt,Zt,be.pointRank),je=Math.min(be.openEnd(Tt),jt.length)}else Tt>Ke&&(te.span(Ke,Tt,be.active,je),je=be.openEnd(Tt));if(be.to>V)return je+(be.point&&be.to>V?1:0);Ke=be.to,be.next()}}static of(y,T=!1){let V=new mn;for(let te of y instanceof Rr?[y]:T?ln(y):y)V.add(te.from,te.to,te.value);return V.finish()}}Nr.empty=new Nr([],[],null,-1);function ln(Pe){if(Pe.length>1)for(let y=Pe[0],T=1;T<Pe.length;T++){let V=Pe[T];if(Xr(y,V)>0)return Pe.slice().sort(Xr);y=V}return Pe}Nr.empty.nextLayer=Nr.empty;class mn{finishChunk(y){this.chunks.push(new fn(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,y&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(y,T,V){this.addInner(y,T,V)||(this.nextLayer||(this.nextLayer=new mn)).add(y,T,V)}addInner(y,T,V){let te=y-this.lastTo||V.startSide-this.last.endSide;if(te<=0&&(y-this.lastFrom||V.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return te<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=y),this.from.push(y-this.chunkStart),this.to.push(T-this.chunkStart),this.last=V,this.lastFrom=y,this.lastTo=T,this.value.push(V),V.point&&(this.maxPoint=Math.max(this.maxPoint,T-y)),!0)}addChunk(y,T){if((y-this.lastTo||T.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,T.maxPoint),this.chunks.push(T),this.chunkPos.push(y);let V=T.value.length-1;return this.last=T.value[V],this.lastFrom=T.from[V]+y,this.lastTo=T.to[V]+y,!0}finish(){return this.finishInner(Nr.empty)}finishInner(y){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return y;let T=Nr.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(y):y,this.setMaxPoint);return this.from=null,T}}function vn(Pe,y,T){let V=new Map;for(let xe of Pe)for(let be=0;be<xe.chunk.length;be++)xe.chunk[be].maxPoint<=0&&V.set(xe.chunk[be],xe.chunkPos[be]);let te=new Set;for(let xe of y)for(let be=0;be<xe.chunk.length;be++){let Ke=V.get(xe.chunk[be]);Ke!=null&&(T?T.mapPos(Ke):Ke)==xe.chunkPos[be]&&!(T!=null&&T.touchesRange(Ke,Ke+xe.chunk[be].length))&&te.add(xe.chunk[be])}return te}class gn{constructor(y,T,V,te=0){this.layer=y,this.skip=T,this.minPoint=V,this.rank=te}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(y,T=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(y,T,!1),this}gotoInner(y,T,V){for(;this.chunkIndex<this.layer.chunk.length;){let te=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(te)||this.layer.chunkEnd(this.chunkIndex)<y||te.maxPoint<this.minPoint))break;this.chunkIndex++,V=!1}if(this.chunkIndex<this.layer.chunk.length){let te=this.layer.chunk[this.chunkIndex].findIndex(y-this.layer.chunkPos[this.chunkIndex],T,!0);(!V||this.rangeIndex<te)&&this.setRangeIndex(te)}this.next()}forward(y,T){(this.to-y||this.endSide-T)<0&&this.gotoInner(y,T,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let y=this.layer.chunkPos[this.chunkIndex],T=this.layer.chunk[this.chunkIndex],V=y+T.from[this.rangeIndex];if(this.from=V,this.to=y+T.to[this.rangeIndex],this.value=T.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(y){if(y==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=y}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(y){return this.from-y.from||this.startSide-y.startSide||this.rank-y.rank||this.to-y.to||this.endSide-y.endSide}}class un{constructor(y){this.heap=y}static from(y,T=null,V=-1){let te=[];for(let xe=0;xe<y.length;xe++)for(let be=y[xe];!be.isEmpty;be=be.nextLayer)be.maxPoint>=V&&te.push(new gn(be,T,V,xe));return te.length==1?te[0]:new un(te)}get startSide(){return this.value?this.value.startSide:0}goto(y,T=-1e9){for(let V of this.heap)V.goto(y,T);for(let V=this.heap.length>>1;V>=0;V--)cn(this.heap,V);return this.next(),this}forward(y,T){for(let V of this.heap)V.forward(y,T);for(let V=this.heap.length>>1;V>=0;V--)cn(this.heap,V);(this.to-y||this.value.endSide-T)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let y=this.heap[0];this.from=y.from,this.to=y.to,this.value=y.value,this.rank=y.rank,y.value&&y.next(),cn(this.heap,0)}}}function cn(Pe,y){for(let T=Pe[y];;){let V=(y<<1)+1;if(V>=Pe.length)break;let te=Pe[V];if(V+1<Pe.length&&te.compare(Pe[V+1])>=0&&(te=Pe[V+1],V++),T.compare(te)<0)break;Pe[V]=T,Pe[y]=te,y=V}}class Yr{constructor(y,T,V){this.minPoint=V,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=un.from(y,T,V)}goto(y,T=-1e9){return this.cursor.goto(y,T),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=y,this.endSide=T,this.openStart=-1,this.next(),this}forward(y,T){for(;this.minActive>-1&&(this.activeTo[this.minActive]-y||this.active[this.minActive].endSide-T)<0;)this.removeActive(this.minActive);this.cursor.forward(y,T)}removeActive(y){Qr(this.active,y),Qr(this.activeTo,y),Qr(this.activeRank,y),this.minActive=bn(this.active,this.activeTo)}addActive(y){let T=0,{value:V,to:te,rank:xe}=this.cursor;for(;T<this.activeRank.length&&this.activeRank[T]<=xe;)T++;En(this.active,T,V),En(this.activeTo,T,te),En(this.activeRank,T,xe),y&&En(y,T,this.cursor.from),this.minActive=bn(this.active,this.activeTo)}next(){let y=this.to,T=this.point;this.point=null;let V=this.openStart<0?[]:null;for(;;){let te=this.minActive;if(te>-1&&(this.activeTo[te]-this.cursor.from||this.active[te].endSide-this.cursor.startSide)<0){if(this.activeTo[te]>y){this.to=this.activeTo[te],this.endSide=this.active[te].endSide;break}this.removeActive(te),V&&Qr(V,te)}else if(this.cursor.value)if(this.cursor.from>y){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let xe=this.cursor.value;if(!xe.point)this.addActive(V),this.cursor.next();else if(T&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=xe,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=xe.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(V){this.openStart=0;for(let te=V.length-1;te>=0&&V[te]<y;te--)this.openStart++}}activeForPoint(y){if(!this.active.length)return this.active;let T=[];for(let V=this.active.length-1;V>=0&&!(this.activeRank[V]<this.pointRank);V--)(this.activeTo[V]>y||this.activeTo[V]==y&&this.active[V].endSide>=this.point.endSide)&&T.push(this.active[V]);return T.reverse()}openEnd(y){let T=0;for(let V=this.activeTo.length-1;V>=0&&this.activeTo[V]>y;V--)T++;return T}}function yn(Pe,y,T,V,te,xe){Pe.goto(y),T.goto(V);let be=V+te,Ke=V,je=V-y;for(;;){let Tt=Pe.to+je-T.to||Pe.endSide-T.endSide,jt=Tt<0?Pe.to+je:T.to,Zt=Math.min(jt,be);if(Pe.point||T.point?Pe.point&&T.point&&(Pe.point==T.point||Pe.point.eq(T.point))&&sn(Pe.activeForPoint(Pe.to),T.activeForPoint(T.to))||xe.comparePoint(Ke,Zt,Pe.point,T.point):Zt>Ke&&!sn(Pe.active,T.active)&&xe.compareRange(Ke,Zt,Pe.active,T.active),jt>be)break;Ke=jt,Tt<=0&&Pe.next(),Tt>=0&&T.next()}}function sn(Pe,y){if(Pe.length!=y.length)return!1;for(let T=0;T<Pe.length;T++)if(Pe[T]!=y[T]&&!Pe[T].eq(y[T]))return!1;return!0}function Qr(Pe,y){for(let T=y,V=Pe.length-1;T<V;T++)Pe[T]=Pe[T+1];Pe.pop()}function En(Pe,y,T){for(let V=Pe.length-1;V>=y;V--)Pe[V+1]=Pe[V];Pe[y]=T}function bn(Pe,y){let T=-1,V=1e9;for(let te=0;te<y.length;te++)(y[te]-V||Pe[te].endSide-Pe[T].endSide)<0&&(T=te,V=y[te]);return T}function oi(Pe,y,T=Pe.length){let V=0;for(let te=0;te<T;)Pe.charCodeAt(te)==9?(V+=y-V%y,te++):(V++,te=ve(Pe,te));return V}function zi(Pe,y,T,V){for(let te=0,xe=0;;){if(xe>=y)return te;if(te==Pe.length)break;xe+=Pe.charCodeAt(te)==9?T-xe%T:1,te=ve(Pe,te)}return V===!0?-1:Pe.length}},65329:function(Le,w,u){"use strict";u.d(w,{p:function(){return cr},Nm:function(){return je},tk:function(){return jn},SJ:function(){return bi},lg:function(){return bn},l9:function(){return dr},S2:function(){return ua},Uw:function(){return Ui},qr:function(){return Ka},Sd:function(){return kn},gB:function(){return Pt},v5:function(){return Ws},ZO:function(){return Fa},HQ:function(){return x},AE:function(){return Ia},bF:function(){return It},$f:function(){return vo},Eu:function(){return fl},OO:function(){return yn},W$:function(){return xs},Zs:function(){return ja},$1:function(){return Ys},mH:function(){return co},hJ:function(){return C}});for(var s=u(1727),p=u(37207),R={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},O={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},_=typeof navigator!="undefined"&&/Mac/.test(navigator.platform),D=typeof navigator!="undefined"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),N=0;N<10;N++)R[48+N]=R[96+N]=String(N);for(var N=1;N<=24;N++)R[N+111]="F"+N;for(var N=65;N<=90;N++)R[N]=String.fromCharCode(N+32),O[N]=String.fromCharCode(N);for(var j in R)O.hasOwnProperty(j)||(O[j]=R[j]);function I(a){var e=_&&a.metaKey&&a.shiftKey&&!a.ctrlKey&&!a.altKey||D&&a.shiftKey&&a.key&&a.key.length==1||a.key=="Unidentified",t=!e&&a.key||(a.shiftKey?O:R)[a.keyCode]||a.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}function G(a){let e;return a.nodeType==11?e=a.getSelection?a:a.ownerDocument:e=a,e.getSelection()}function z(a,e){return e?a==e||a.contains(e.nodeType!=1?e.parentNode:e):!1}function re(a){let e=a.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function ne(a,e){if(!e.anchorNode)return!1;try{return z(a,e.anchorNode)}catch{return!1}}function ae(a){return a.nodeType==3?We(a,0,a.nodeValue.length).getClientRects():a.nodeType==1?a.getClientRects():[]}function ve(a,e,t,r){return t?H(a,e,t,r,-1)||H(a,e,t,r,1):!1}function M(a){for(var e=0;;e++)if(a=a.previousSibling,!a)return e}function H(a,e,t,r,l){for(;;){if(a==t&&e==r)return!0;if(e==(l<0?0:ue(a))){if(a.nodeName=="DIV")return!1;let v=a.parentNode;if(!v||v.nodeType!=1)return!1;e=M(a)+(l<0?0:1),a=v}else if(a.nodeType==1){if(a=a.childNodes[e+(l<0?-1:0)],a.nodeType==1&&a.contentEditable=="false")return!1;e=l<0?ue(a):0}else return!1}}function ue(a){return a.nodeType==3?a.nodeValue.length:a.childNodes.length}function X(a,e){let t=e?a.left:a.right;return{left:t,right:t,top:a.top,bottom:a.bottom}}function se(a){return{left:0,right:a.innerWidth,top:0,bottom:a.innerHeight}}function fe(a,e,t,r,l,v,A,B){let Y=a.ownerDocument,pe=Y.defaultView||window;for(let he=a;he;)if(he.nodeType==1){let ke,it=he==Y.body;if(it)ke=se(pe);else{if(he.scrollHeight<=he.clientHeight&&he.scrollWidth<=he.clientWidth){he=he.assignedSlot||he.parentNode;continue}let Jt=he.getBoundingClientRect();ke={left:Jt.left,right:Jt.left+he.clientWidth,top:Jt.top,bottom:Jt.top+he.clientHeight}}let pt=0,kt=0;if(l=="nearest")e.top<ke.top?(kt=-(ke.top-e.top+A),t>0&&e.bottom>ke.bottom+kt&&(kt=e.bottom-ke.bottom+kt+A)):e.bottom>ke.bottom&&(kt=e.bottom-ke.bottom+A,t<0&&e.top-kt<ke.top&&(kt=-(ke.top+kt-e.top+A)));else{let Jt=e.bottom-e.top,Rt=ke.bottom-ke.top;kt=(l=="center"&&Jt<=Rt?e.top+Jt/2-Rt/2:l=="start"||l=="center"&&t<0?e.top-A:e.bottom-Rt+A)-ke.top}if(r=="nearest"?e.left<ke.left?(pt=-(ke.left-e.left+v),t>0&&e.right>ke.right+pt&&(pt=e.right-ke.right+pt+v)):e.right>ke.right&&(pt=e.right-ke.right+v,t<0&&e.left<ke.left+pt&&(pt=-(ke.left+pt-e.left+v))):pt=(r=="center"?e.left+(e.right-e.left)/2-(ke.right-ke.left)/2:r=="start"==B?e.left-v:e.right-(ke.right-ke.left)+v)-ke.left,pt||kt)if(it)pe.scrollBy(pt,kt);else{let Jt=0,Rt=0;if(kt){let sr=he.scrollTop;he.scrollTop+=kt,Rt=he.scrollTop-sr}if(pt){let sr=he.scrollLeft;he.scrollLeft+=pt,Jt=he.scrollLeft-sr}e={left:e.left-Jt,top:e.top-Rt,right:e.right-Jt,bottom:e.bottom-Rt},Jt&&Math.abs(Jt-pt)<1&&(r="nearest"),Rt&&Math.abs(Rt-kt)<1&&(l="nearest")}if(it)break;he=he.assignedSlot||he.parentNode}else if(he.nodeType==11)he=he.host;else break}function ee(a){let e=a.ownerDocument;for(let t=a.parentNode;t&&t!=e.body;)if(t.nodeType==1){if(t.scrollHeight>t.clientHeight||t.scrollWidth>t.clientWidth)return t;t=t.assignedSlot||t.parentNode}else if(t.nodeType==11)t=t.host;else break;return null}class ${constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:t,focusNode:r}=e;this.set(t,Math.min(e.anchorOffset,t?ue(t):0),r,Math.min(e.focusOffset,r?ue(r):0))}set(e,t,r,l){this.anchorNode=e,this.anchorOffset=t,this.focusNode=r,this.focusOffset=l}}let Se=null;function Ie(a){if(a.setActive)return a.setActive();if(Se)return a.focus(Se);let e=[];for(let t=a;t&&(e.push(t,t.scrollTop,t.scrollLeft),t!=t.ownerDocument);t=t.parentNode);if(a.focus(Se==null?{get preventScroll(){return Se={preventScroll:!0},!0}}:void 0),!Se){Se=!1;for(let t=0;t<e.length;){let r=e[t++],l=e[t++],v=e[t++];r.scrollTop!=l&&(r.scrollTop=l),r.scrollLeft!=v&&(r.scrollLeft=v)}}}let Oe;function We(a,e,t=e){let r=Oe||(Oe=document.createRange());return r.setEnd(a,t),r.setStart(a,e),r}function Ge(a,e,t){let r={key:e,code:e,keyCode:t,which:t,cancelable:!0},l=new KeyboardEvent("keydown",r);l.synthetic=!0,a.dispatchEvent(l);let v=new KeyboardEvent("keyup",r);return v.synthetic=!0,a.dispatchEvent(v),l.defaultPrevented||v.defaultPrevented}function lt(a){for(;a;){if(a&&(a.nodeType==9||a.nodeType==11&&a.host))return a;a=a.assignedSlot||a.parentNode}return null}function Qe(a){for(;a.attributes.length;)a.removeAttributeNode(a.attributes[0])}function He(a,e){let t=e.focusNode,r=e.focusOffset;if(!t||e.anchorNode!=t||e.anchorOffset!=r)return!1;for(r=Math.min(r,ue(t));;)if(r){if(t.nodeType!=1)return!1;let l=t.childNodes[r-1];l.contentEditable=="false"?r--:(t=l,r=ue(t))}else{if(t==a)return!0;r=M(t),t=t.parentNode}}class St{constructor(e,t,r=!0){this.node=e,this.offset=t,this.precise=r}static before(e,t){return new St(e.parentNode,M(e),t)}static after(e,t){return new St(e.parentNode,M(e)+1,t)}}const qt=[];class dt{constructor(){this.parent=null,this.dom=null,this.dirty=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let t=this.posAtStart;for(let r of this.children){if(r==e)return t;t+=r.length+r.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,t){if(this.dirty&2){let r=this.dom,l=null,v;for(let A of this.children){if(A.dirty){if(!A.dom&&(v=l?l.nextSibling:r.firstChild)){let B=dt.get(v);(!B||!B.parent&&B.canReuseDOM(A))&&A.reuseDOM(v)}A.sync(e,t),A.dirty=0}if(v=l?l.nextSibling:r.firstChild,t&&!t.written&&t.node==r&&v!=A.dom&&(t.written=!0),A.dom.parentNode==r)for(;v&&v!=A.dom;)v=wt(v);else r.insertBefore(A.dom,v);l=A.dom}for(v=l?l.nextSibling:r.firstChild,v&&t&&t.node==r&&(t.written=!0);v;)v=wt(v)}else if(this.dirty&1)for(let r of this.children)r.dirty&&(r.sync(e,t),r.dirty=0)}reuseDOM(e){}localPosFromDOM(e,t){let r;if(e==this.dom)r=this.dom.childNodes[t];else{let l=ue(e)==0?0:t==0?-1:1;for(;;){let v=e.parentNode;if(v==this.dom)break;l==0&&v.firstChild!=v.lastChild&&(e==v.firstChild?l=-1:l=1),e=v}l<0?r=e:r=e.nextSibling}if(r==this.dom.firstChild)return 0;for(;r&&!dt.get(r);)r=r.nextSibling;if(!r)return this.length;for(let l=0,v=0;;l++){let A=this.children[l];if(A.dom==r)return v;v+=A.length+A.breakAfter}}domBoundsAround(e,t,r=0){let l=-1,v=-1,A=-1,B=-1;for(let Y=0,pe=r,he=r;Y<this.children.length;Y++){let ke=this.children[Y],it=pe+ke.length;if(pe<e&&it>t)return ke.domBoundsAround(e,t,pe);if(it>=e&&l==-1&&(l=Y,v=pe),pe>t&&ke.dom.parentNode==this.dom){A=Y,B=he;break}he=it,pe=it+ke.breakAfter}return{from:v,to:B<0?r+this.length:B,startDOM:(l?this.children[l-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:A<this.children.length&&A>=0?this.children[A].dom:null}}markDirty(e=!1){this.dirty|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let t=this.parent;t;t=t.parent){if(e&&(t.dirty|=2),t.dirty&1)return;t.dirty|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.dirty&&this.markParentsDirty(!0))}setDOM(e){this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this}get rootView(){for(let e=this;;){let t=e.parent;if(!t)return e;e=t}}replaceChildren(e,t,r=qt){this.markDirty();for(let l=e;l<t;l++){let v=this.children[l];v.parent==this&&v.destroy()}this.children.splice(e,t-e,...r);for(let l=0;l<r.length;l++)r[l].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new rt(this.children,e,this.children.length)}childPos(e,t=1){return this.childCursor().findPos(e,t)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,t,r,l,v,A){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor}getSide(){return 0}destroy(){this.parent=null}}dt.prototype.breakAfter=0;function wt(a){let e=a.nextSibling;return a.parentNode.removeChild(a),e}class rt{constructor(e,t,r){this.children=e,this.pos=t,this.i=r,this.off=0}findPos(e,t=1){for(;;){if(e>this.pos||e==this.pos&&(t>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let r=this.children[--this.i];this.pos-=r.length+r.breakAfter}}}function Ze(a,e,t,r,l,v,A,B,Y){let{children:pe}=a,he=pe.length?pe[e]:null,ke=v.length?v[v.length-1]:null,it=ke?ke.breakAfter:A;if(!(e==r&&he&&!A&&!it&&v.length<2&&he.merge(t,l,v.length?ke:null,t==0,B,Y))){if(r<pe.length){let pt=pe[r];pt&&l<pt.length?(e==r&&(pt=pt.split(l),l=0),!it&&ke&&pt.merge(0,l,ke,!0,0,Y)?v[v.length-1]=pt:(l&&pt.merge(0,l,null,!1,0,Y),v.push(pt))):pt!=null&&pt.breakAfter&&(ke?ke.breakAfter=1:A=1),r++}for(he&&(he.breakAfter=A,t>0&&(!A&&v.length&&he.merge(t,he.length,v[0],!1,B,0)?he.breakAfter=v.shift().breakAfter:(t<he.length||he.children.length&&he.children[he.children.length-1].length==0)&&he.merge(t,he.length,null,!1,B,0),e++));e<r&&v.length;)if(pe[r-1].become(v[v.length-1]))r--,v.pop(),Y=v.length?0:B;else if(pe[e].become(v[0]))e++,v.shift(),B=v.length?0:Y;else break;!v.length&&e&&r<pe.length&&!pe[e-1].breakAfter&&pe[r].merge(0,0,pe[e-1],!1,B,Y)&&e--,(e<r||v.length)&&a.replaceChildren(e,r,v)}}function yt(a,e,t,r,l,v){let A=a.childCursor(),{i:B,off:Y}=A.findPos(t,1),{i:pe,off:he}=A.findPos(e,-1),ke=e-t;for(let it of r)ke+=it.length;a.length+=ke,Ze(a,pe,he,B,Y,r,0,l,v)}let tt=typeof navigator!="undefined"?navigator:{userAgent:"",vendor:"",platform:""},ge=typeof document!="undefined"?document:{documentElement:{style:{}}};const $e=/Edge\/(\d+)/.exec(tt.userAgent),mt=/MSIE \d/.test(tt.userAgent),_t=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(tt.userAgent),Vt=!!(mt||_t||$e),Cr=!Vt&&/gecko\/(\d+)/i.test(tt.userAgent),Ve=!Vt&&/Chrome\/(\d+)/.exec(tt.userAgent),K="webkitFontSmoothing"in ge.documentElement.style,Z=!Vt&&/Apple Computer/.test(tt.vendor),Q=Z&&(/Mobile\/\w+/.test(tt.userAgent)||tt.maxTouchPoints>2);var ie={mac:Q||/Mac/.test(tt.platform),windows:/Win/.test(tt.platform),linux:/Linux|X11/.test(tt.platform),ie:Vt,ie_version:mt?ge.documentMode||6:_t?+_t[1]:$e?+$e[1]:0,gecko:Cr,gecko_version:Cr?+(/Firefox\/(\d+)/.exec(tt.userAgent)||[0,0])[1]:0,chrome:!!Ve,chrome_version:Ve?+Ve[1]:0,ios:Q,android:/Android\b/.test(tt.userAgent),webkit:K,safari:Z,webkit_version:K?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:ge.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const Te=256;class Xe extends dt{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,t){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(t&&t.node==this.dom&&(t.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,t,r){return r&&(!(r instanceof Xe)||this.length-(t-e)+r.length>Te)?!1:(this.text=this.text.slice(0,e)+(r?r.text:"")+this.text.slice(t),this.markDirty(),!0)}split(e){let t=new Xe(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),t}localPosFromDOM(e,t){return e==this.dom?t:t?this.text.length:0}domAtPos(e){return new St(this.dom,e)}domBoundsAround(e,t,r){return{from:r,to:r+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,t){return Mt(this.dom,e,t)}}class ct extends dt{constructor(e,t=[],r=0){super(),this.mark=e,this.children=t,this.length=r;for(let l of t)l.setParent(this)}setAttrs(e){if(Qe(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let t in this.mark.attrs)e.setAttribute(t,this.mark.attrs[t]);return e}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.dirty|=6)}sync(e,t){this.dom?this.dirty&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,t)}merge(e,t,r,l,v,A){return r&&(!(r instanceof ct&&r.mark.eq(this.mark))||e&&v<=0||t<this.length&&A<=0)?!1:(yt(this,e,t,r?r.children:[],v-1,A-1),this.markDirty(),!0)}split(e){let t=[],r=0,l=-1,v=0;for(let B of this.children){let Y=r+B.length;Y>e&&t.push(r<e?B.split(e-r):B),l<0&&r>=e&&(l=v),r=Y,v++}let A=this.length-e;return this.length=e,l>-1&&(this.children.length=l,this.markDirty()),new ct(this.mark,t,A)}domAtPos(e){return fr(this,e)}coordsAt(e,t){return xr(this,e,t)}}function Mt(a,e,t){let r=a.nodeValue.length;e>r&&(e=r);let l=e,v=e,A=0;e==0&&t<0||e==r&&t>=0?ie.chrome||ie.gecko||(e?(l--,A=1):v<r&&(v++,A=-1)):t<0?l--:v<r&&v++;let B=We(a,l,v).getClientRects();if(!B.length)return null;let Y=B[(A?A<0:t>=0)?0:B.length-1];return ie.safari&&!A&&Y.width==0&&(Y=Array.prototype.find.call(B,pe=>pe.width)||Y),A?X(Y,A<0):Y||null}class Qt extends dt{constructor(e,t,r){super(),this.widget=e,this.length=t,this.side=r,this.prevWidget=null}static create(e,t,r){return new(e.customView||Qt)(e,t,r)}split(e){let t=Qt.create(this.widget,this.length-e,this.side);return this.length-=e,t}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.dom.contentEditable="false")}getSide(){return this.side}merge(e,t,r,l,v,A){return r&&(!(r instanceof Qt)||!this.widget.compare(r.widget)||e>0&&v<=0||t<this.length&&A<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-t),!0)}become(e){return e instanceof Qt&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return s.xv.empty;let e=this;for(;e.parent;)e=e.parent;let{view:t}=e,r=t&&t.state.doc,l=this.posAtStart;return r?r.slice(l,l+this.length):s.xv.empty}domAtPos(e){return(this.length?e==0:this.side>0)?St.before(this.dom):St.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,t){let r=this.widget.coordsAt(this.dom,e,t);if(r)return r;let l=this.dom.getClientRects(),v=null;if(!l.length)return null;let A=this.side?this.side<0:e>0;for(let B=A?l.length-1:0;v=l[B],!(e>0?B==0:B==l.length-1||v.top<v.bottom);B+=A?-1:1);return X(v,!A)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class Yt extends Qt{domAtPos(e){let{topView:t,text:r}=this.widget;return t?zt(e,0,t,r,this.length-t.length,(l,v)=>l.domAtPos(v),(l,v)=>new St(l,Math.min(v,l.nodeValue.length))):new St(r,Math.min(e,r.nodeValue.length))}sync(){this.setDOM(this.widget.toDOM())}localPosFromDOM(e,t){let{topView:r,text:l}=this.widget;return r?ot(e,t,r,l,this.length-r.length):Math.min(t,this.length)}ignoreMutation(){return!1}get overrideDOMText(){return null}coordsAt(e,t){let{topView:r,text:l}=this.widget;return r?zt(e,t,r,l,this.length-r.length,(v,A,B)=>v.coordsAt(A,B),(v,A,B)=>Mt(v,A,B)):Mt(l,e,t)}destroy(){var e;super.destroy(),(e=this.widget.topView)===null||e===void 0||e.destroy()}get isEditable(){return!0}canReuseDOM(){return!0}}function zt(a,e,t,r,l,v,A){if(t instanceof ct){for(let B=t.dom.firstChild;B;B=B.nextSibling){let Y=dt.get(B);if(Y){let pe=z(B,r),he=Y.length+(pe?l:0);if(a<he||a==he&&Y.getSide()<=0)return pe?zt(a,e,Y,r,l,v,A):v(Y,a,e);a-=he}else{let pe=Xt(a,e,B,A);if(typeof pe!="number")return pe;a=pe}}return v(t,t.length,-1)}else return t.dom==r?A(r,a,e):v(t,a,e)}function Xt(a,e,t,r){if(t.nodeType==3){let l=t.nodeValue.length;if(a<=l)return r(t,a,e);a-=l}else if(t.nodeType==1&&t.contentEditable!="false")for(let l=t.firstChild;l;l=l.nextSibling){let v=Xt(a,e,l,r);if(typeof v!="number")return v;a=v}return a}function ot(a,e,t,r,l){if(t instanceof ct){let v=0;for(let A=t.dom.firstChild;A;A=A.nextSibling){let B=dt.get(A);if(B){let Y=z(A,r);if(z(A,a))return v+(Y?ot(a,e,B,r,l):B.localPosFromDOM(a,e));v+=B.length+(Y?l:0)}else{let Y=Ct(a,e,A);if(Y.result!=null)return v+Y.result;v+=Y.size}}}else if(t.dom==r)return Math.min(e,r.nodeValue.length);return t.localPosFromDOM(a,e)}function Ct(a,e,t){if(t.nodeType==3)return a==t?{result:e}:{size:t.nodeValue.length};if(t.nodeType==1&&t.contentEditable!="false"){let r=0;for(let l=t.firstChild,v=0;;l=l.nextSibling,v++){if(a==t&&v==e)return{result:r};if(!l)return{size:r};let A=Ct(a,e,l);if(A.result!=null)return{result:e+A.result};r+=A.size}}else return t.contains(a)?{result:0}:{size:0}}class Nt extends dt{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof Nt&&e.side==this.side}split(){return new Nt(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?St.before(this.dom):St.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return s.xv.empty}get isHidden(){return!0}}Xe.prototype.children=Qt.prototype.children=Nt.prototype.children=qt;function fr(a,e){let t=a.dom,{children:r}=a,l=0;for(let v=0;l<r.length;l++){let A=r[l],B=v+A.length;if(!(B==v&&A.getSide()<=0)){if(e>v&&e<B&&A.dom.parentNode==t)return A.domAtPos(e-v);if(e<=v)break;v=B}}for(let v=l;v>0;v--){let A=r[v-1];if(A.dom.parentNode==t)return A.domAtPos(A.length)}for(let v=l;v<r.length;v++){let A=r[v];if(A.dom.parentNode==t)return A.domAtPos(0)}return new St(t,0)}function Or(a,e,t){let r,{children:l}=a;t>0&&e instanceof ct&&l.length&&(r=l[l.length-1])instanceof ct&&r.mark.eq(e.mark)?Or(r,e.children[0],t-1):(l.push(e),e.setParent(a)),a.length+=e.length}function xr(a,e,t){let r=null,l=-1,v=null,A=-1;function B(pe,he){for(let ke=0,it=0;ke<pe.children.length&&it<=he;ke++){let pt=pe.children[ke],kt=it+pt.length;kt>=he&&(pt.children.length?B(pt,he-it):(!v||v.isHidden&&t>0)&&(kt>he||it==kt&&pt.getSide()>0)?(v=pt,A=he-it):(it<he||it==kt&&pt.getSide()<0&&!pt.isHidden)&&(r=pt,l=he-it)),it=kt}}B(a,e);let Y=(t<0?r:v)||r||v;return Y?Y.coordsAt(Math.max(0,Y==r?l:A),t):ar(a)}function ar(a){let e=a.dom.lastChild;if(!e)return a.dom.getBoundingClientRect();let t=ae(e);return t[t.length-1]||null}function Ft(a,e){for(let t in a)t=="class"&&e.class?e.class+=" "+a.class:t=="style"&&e.style?e.style+=";"+a.style:e[t]=a[t];return e}function jr(a,e){if(a==e)return!0;if(!a||!e)return!1;let t=Object.keys(a),r=Object.keys(e);if(t.length!=r.length)return!1;for(let l of t)if(r.indexOf(l)==-1||a[l]!==e[l])return!1;return!0}function yr(a,e,t){let r=null;if(e)for(let l in e)t&&l in t||a.removeAttribute(r=l);if(t)for(let l in t)e&&e[l]==t[l]||a.setAttribute(r=l,t[l]);return!!r}class dr{eq(e){return!1}updateDOM(e,t){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,t,r){return null}get customView(){return null}get isHidden(){return!1}destroy(e){}}var pr=function(a){return a[a.Text=0]="Text",a[a.WidgetBefore=1]="WidgetBefore",a[a.WidgetAfter=2]="WidgetAfter",a[a.WidgetRange=3]="WidgetRange",a}(pr||(pr={}));class cr extends s.uU{constructor(e,t,r,l){super(),this.startSide=e,this.endSide=t,this.widget=r,this.spec=l}get heightRelevant(){return!1}static mark(e){return new Wr(e)}static widget(e){let t=Math.max(-1e4,Math.min(1e4,e.side||0)),r=!!e.block;return t+=r?t>0?3e8:-4e8:t>0?1e8:-1e8,new Ne(e,t,t,r,e.widget||null,!1)}static replace(e){let t=!!e.block,r,l;if(e.isBlockGap)r=-5e8,l=4e8;else{let{start:v,end:A}=Gt(e,t);r=(v?t?-3e8:-1:5e8)-1,l=(A?t?2e8:1:-6e8)+1}return new Ne(e,r,l,t,e.widget||null,!0)}static line(e){return new Tr(e)}static set(e,t=!1){return s.Xs.of(e,t)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}cr.none=s.Xs.empty;class Wr extends cr{constructor(e){let{start:t,end:r}=Gt(e);super(t?-1:5e8,r?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){return this==e||e instanceof Wr&&this.tagName==e.tagName&&this.class==e.class&&jr(this.attrs,e.attrs)}range(e,t=e){if(e>=t)throw new RangeError("Mark decorations may not be empty");return super.range(e,t)}}Wr.prototype.point=!1;class Tr extends cr{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof Tr&&this.spec.class==e.spec.class&&jr(this.spec.attributes,e.spec.attributes)}range(e,t=e){if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,t)}}Tr.prototype.mapMode=s.gc.TrackBefore,Tr.prototype.point=!0;class Ne extends cr{constructor(e,t,r,l,v,A){super(t,r,v,e),this.block=l,this.isReplace=A,this.mapMode=l?t<=0?s.gc.TrackBefore:s.gc.TrackAfter:s.gc.TrackDel}get type(){return this.startSide<this.endSide?pr.WidgetRange:this.startSide<=0?pr.WidgetBefore:pr.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof Ne&&ir(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,t=e){if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,t)}}Ne.prototype.point=!0;function Gt(a,e=!1){let{inclusiveStart:t,inclusiveEnd:r}=a;return t==null&&(t=a.inclusive),r==null&&(r=a.inclusive),{start:t!=null?t:e,end:r!=null?r:e}}function ir(a,e){return a==e||!!(a&&e&&a.compare(e))}function lr(a,e,t,r=0){let l=t.length-1;l>=0&&t[l]+r>=a?t[l]=Math.max(t[l],e):t.push(a,e)}class Sr extends dt{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,t,r,l,v,A){if(r){if(!(r instanceof Sr))return!1;this.dom||r.transferDOM(this)}return l&&this.setDeco(r?r.attrs:null),yt(this,e,t,r?r.children:[],v,A),!0}split(e){let t=new Sr;if(t.breakAfter=this.breakAfter,this.length==0)return t;let{i:r,off:l}=this.childPos(e);l&&(t.append(this.children[r].split(l),0),this.children[r].merge(l,this.children[r].length,null,!1,0,0),r++);for(let v=r;v<this.children.length;v++)t.append(this.children[v],0);for(;r>0&&this.children[r-1].length==0;)this.children[--r].destroy();return this.children.length=r,this.markDirty(),this.length=e,t}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){jr(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,t){Or(this,e,t)}addLineDeco(e){let t=e.spec.attributes,r=e.spec.class;t&&(this.attrs=Ft(t,this.attrs||{})),r&&(this.attrs=Ft({class:r},this.attrs||{}))}domAtPos(e){return fr(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.dirty|=6)}sync(e,t){var r;this.dom?this.dirty&4&&(Qe(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(yr(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,t);let l=this.dom.lastChild;for(;l&&dt.get(l)instanceof ct;)l=l.lastChild;if(!l||!this.length||l.nodeName!="BR"&&((r=dt.get(l))===null||r===void 0?void 0:r.isEditable)==!1&&(!ie.ios||!this.children.some(v=>v instanceof Xe))){let v=document.createElement("BR");v.cmIgnore=!0,this.dom.appendChild(v)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,t;for(let r of this.children){if(!(r instanceof Xe)||/[^ -~]/.test(r.text))return null;let l=ae(r.dom);if(l.length!=1)return null;e+=l[0].width,t=l[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:t}:null}coordsAt(e,t){let r=xr(this,e,t);if(!this.children.length&&r&&this.parent){let{heightOracle:l}=this.parent.view.viewState,v=r.bottom-r.top;if(Math.abs(v-l.lineHeight)<2&&l.textHeight<v){let A=(v-l.textHeight)/2;return{top:r.top+A,bottom:r.bottom-A,left:r.left,right:r.left}}}return r}become(e){return!1}get type(){return pr.Text}static find(e,t){for(let r=0,l=0;r<e.children.length;r++){let v=e.children[r],A=l+v.length;if(A>=t){if(v instanceof Sr)return v;if(A>t)break}l=A+v.breakAfter}return null}}class _r extends dt{constructor(e,t,r){super(),this.widget=e,this.length=t,this.type=r,this.breakAfter=0,this.prevWidget=null}merge(e,t,r,l,v,A){return r&&(!(r instanceof _r)||!this.widget.compare(r.widget)||e>0&&v<=0||t<this.length&&A<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-t),!0)}domAtPos(e){return e==0?St.before(this.dom):St.after(this.dom,e==this.length)}split(e){let t=this.length-e;this.length=e;let r=new _r(this.widget,t,this.type);return r.breakAfter=this.breakAfter,r}get children(){return qt}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.dom.contentEditable="false")}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):s.xv.empty}domBoundsAround(){return null}become(e){return e instanceof _r&&e.widget.constructor==this.widget.constructor?(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.type=e.type,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,t){return this.widget.coordsAt(this.dom,e,t)}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class Er{constructor(e,t,r,l){this.doc=e,this.pos=t,this.end=r,this.disallowBlockEffectsFor=l,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=t}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!e.breakAfter&&!(e instanceof _r&&e.type==pr.WidgetBefore)}getLine(){return this.curLine||(this.content.push(this.curLine=new Sr),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(Zr(new Nt(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,this.posCovered()||this.getLine()}buildText(e,t,r){for(;e>0;){if(this.textOff==this.text.length){let{value:v,lineBreak:A,done:B}=this.cursor.next(this.skip);if(this.skip=0,B)throw new Error("Ran out of text content when drawing inline views");if(A){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=v,this.textOff=0}let l=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(t.slice(t.length-r)),this.getLine().append(Zr(new Xe(this.text.slice(this.textOff,this.textOff+l)),t),r),this.atCursorPos=!0,this.textOff+=l,e-=l,r=0}}span(e,t,r,l){this.buildText(t-e,r,l),this.pos=t,this.openStart<0&&(this.openStart=l)}point(e,t,r,l,v,A){if(this.disallowBlockEffectsFor[A]&&r instanceof Ne){if(r.block)throw new RangeError("Block decorations may not be specified via plugins");if(t>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let B=t-e;if(r instanceof Ne)if(r.block){let{type:Y}=r;Y==pr.WidgetAfter&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new _r(r.widget||new Ir("div"),B,Y))}else{let Y=Qt.create(r.widget||new Ir("span"),B,B?0:r.startSide),pe=this.atCursorPos&&!Y.isEditable&&v<=l.length&&(e<t||r.startSide>0),he=!Y.isEditable&&(e<t||v>l.length||r.startSide<=0),ke=this.getLine();this.pendingBuffer==2&&!pe&&!Y.isEditable&&(this.pendingBuffer=0),this.flushBuffer(l),pe&&(ke.append(Zr(new Nt(1),l),v),v=l.length+Math.max(0,v-l.length)),ke.append(Zr(Y,l),v),this.atCursorPos=he,this.pendingBuffer=he?e<t||v>l.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=l.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(r);B&&(this.textOff+B<=this.text.length?this.textOff+=B:(this.skip+=B-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=t),this.openStart<0&&(this.openStart=v)}static build(e,t,r,l,v){let A=new Er(e,t,r,v);return A.openEnd=s.Xs.spans(l,t,r,A),A.openStart<0&&(A.openStart=A.openEnd),A.finish(A.openEnd),A}}function Zr(a,e){for(let t of e)a=new ct(t,[a],a.length);return a}class Ir extends dr{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}const Rr=s.r$.define(),Xr=s.r$.define(),fn=s.r$.define(),Nr=s.r$.define(),ln=s.r$.define(),mn=s.r$.define(),vn=s.r$.define(),gn=s.r$.define({combine:a=>a.some(e=>e)}),un=s.r$.define({combine:a=>a.some(e=>e)});class cn{constructor(e,t="nearest",r="nearest",l=5,v=5){this.range=e,this.y=t,this.x=r,this.yMargin=l,this.xMargin=v}map(e){return e.empty?this:new cn(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin)}}const Yr=s.Py.define({map:(a,e)=>a.map(e)});function yn(a,e,t){let r=a.facet(Nr);r.length?r[0](e):window.onerror?window.onerror(String(e),t,void 0,void 0,e):t?console.error(t+":",e):console.error(e)}const sn=s.r$.define({combine:a=>a.length?a[0]:!0});let Qr=0;const En=s.r$.define();class bn{constructor(e,t,r,l){this.id=e,this.create=t,this.domEventHandlers=r,this.extension=l(this)}static define(e,t){const{eventHandlers:r,provide:l,decorations:v}=t||{};return new bn(Qr++,e,r,A=>{let B=[En.of(A)];return v&&B.push(y.of(Y=>{let pe=Y.plugin(A);return pe?v(pe):cr.none})),l&&B.push(l(A)),B})}static fromClass(e,t){return bn.define(r=>new e(r),t)}}class oi{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let t=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(t)}catch(r){if(yn(t.state,r,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(t){yn(e.state,t,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var t;if(!((t=this.value)===null||t===void 0)&&t.destroy)try{this.value.destroy()}catch(r){yn(e.state,r,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const zi=s.r$.define(),Pe=s.r$.define(),y=s.r$.define(),T=s.r$.define(),V=s.r$.define();function te(a){let e=0,t=0,r=0,l=0;for(let v of a.state.facet(V)){let A=v(a);A&&(A.left!=null&&(e=Math.max(e,A.left)),A.right!=null&&(t=Math.max(t,A.right)),A.top!=null&&(r=Math.max(r,A.top)),A.bottom!=null&&(l=Math.max(l,A.bottom)))}return{left:e,right:t,top:r,bottom:l}}const xe=s.r$.define();class be{constructor(e,t,r,l){this.fromA=e,this.toA=t,this.fromB=r,this.toB=l}join(e){return new be(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let t=e.length,r=this;for(;t>0;t--){let l=e[t-1];if(!(l.fromA>r.toA)){if(l.toA<r.fromA)break;r=r.join(l),e.splice(t-1,1)}}return e.splice(t,0,r),e}static extendWithRanges(e,t){if(t.length==0)return e;let r=[];for(let l=0,v=0,A=0,B=0;;l++){let Y=l==e.length?null:e[l],pe=A-B,he=Y?Y.fromB:1e9;for(;v<t.length&&t[v]<he;){let ke=t[v],it=t[v+1],pt=Math.max(B,ke),kt=Math.min(he,it);if(pt<=kt&&new be(pt+pe,kt+pe,pt,kt).addToSet(r),it>he)break;v+=2}if(!Y)return r;new be(Y.fromA,Y.toA,Y.fromB,Y.toB).addToSet(r),A=Y.toA,B=Y.toB}}}class Ke{constructor(e,t,r){this.view=e,this.state=t,this.transactions=r,this.flags=0,this.startState=e.state,this.changes=s.as.empty(this.startState.doc.length);for(let v of r)this.changes=this.changes.compose(v.changes);let l=[];this.changes.iterChangedRanges((v,A,B,Y)=>l.push(new be(v,A,B,Y))),this.changedRanges=l}static create(e,t,r){return new Ke(e,t,r)}get viewportChanged(){return(this.flags&4)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&10)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}var je=function(a){return a[a.LTR=0]="LTR",a[a.RTL=1]="RTL",a}(je||(je={}));const Tt=je.LTR,jt=je.RTL;function Zt(a){let e=[];for(let t=0;t<a.length;t++)e.push(1<<+a[t]);return e}const Pr=Zt("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),mr=Zt("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),On=Object.create(null),Mn=[];for(let a of["()","[]","{}"]){let e=a.charCodeAt(0),t=a.charCodeAt(1);On[e]=t,On[t]=-e}function zn(a){return a<=247?Pr[a]:1424<=a&&a<=1524?2:1536<=a&&a<=1785?mr[a-1536]:1774<=a&&a<=2220?4:8192<=a&&a<=8203?256:64336<=a&&a<=65023?4:a==8204?256:1}const $i=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class Ii{constructor(e,t,r){this.from=e,this.to=t,this.level=r}get dir(){return this.level%2?jt:Tt}side(e,t){return this.dir==t==e?this.to:this.from}static find(e,t,r,l){let v=-1;for(let A=0;A<e.length;A++){let B=e[A];if(B.from<=t&&B.to>=t){if(B.level==r)return A;(v<0||(l!=0?l<0?B.from<t:B.to>t:e[v].level>B.level))&&(v=A)}}if(v<0)throw new RangeError("Index out of range");return v}}const Cn=[];function Bo(a,e){let t=a.length,r=e==Tt?1:2,l=e==Tt?2:1;if(!a||r==1&&!$i.test(a))return So(t);for(let A=0,B=r,Y=r;A<t;A++){let pe=zn(a.charCodeAt(A));pe==512?pe=B:pe==8&&Y==4&&(pe=16),Cn[A]=pe==4?2:pe,pe&7&&(Y=pe),B=pe}for(let A=0,B=r,Y=r;A<t;A++){let pe=Cn[A];if(pe==128)A<t-1&&B==Cn[A+1]&&B&24?pe=Cn[A]=B:Cn[A]=256;else if(pe==64){let he=A+1;for(;he<t&&Cn[he]==64;)he++;let ke=A&&B==8||he<t&&Cn[he]==8?Y==1?1:8:256;for(let it=A;it<he;it++)Cn[it]=ke;A=he-1}else pe==8&&Y==1&&(Cn[A]=1);B=pe,pe&7&&(Y=pe)}for(let A=0,B=0,Y=0,pe,he,ke;A<t;A++)if(he=On[pe=a.charCodeAt(A)])if(he<0){for(let it=B-3;it>=0;it-=3)if(Mn[it+1]==-he){let pt=Mn[it+2],kt=pt&2?r:pt&4?pt&1?l:r:0;kt&&(Cn[A]=Cn[Mn[it]]=kt),B=it;break}}else{if(Mn.length==189)break;Mn[B++]=A,Mn[B++]=pe,Mn[B++]=Y}else if((ke=Cn[A])==2||ke==1){let it=ke==r;Y=it?0:1;for(let pt=B-3;pt>=0;pt-=3){let kt=Mn[pt+2];if(kt&2)break;if(it)Mn[pt+2]|=2;else{if(kt&4)break;Mn[pt+2]|=4}}}for(let A=0;A<t;A++)if(Cn[A]==256){let B=A+1;for(;B<t&&Cn[B]==256;)B++;let Y=(A?Cn[A-1]:r)==1,pe=(B<t?Cn[B]:r)==1,he=Y==pe?Y?1:2:r;for(let ke=A;ke<B;ke++)Cn[ke]=he;A=B-1}let v=[];if(r==1)for(let A=0;A<t;){let B=A,Y=Cn[A++]!=1;for(;A<t&&Y==(Cn[A]!=1);)A++;if(Y)for(let pe=A;pe>B;){let he=pe,ke=Cn[--pe]!=2;for(;pe>B&&ke==(Cn[pe-1]!=2);)pe--;v.push(new Ii(pe,he,ke?2:1))}else v.push(new Ii(B,A,0))}else for(let A=0;A<t;){let B=A,Y=Cn[A++]==2;for(;A<t&&Y==(Cn[A]==2);)A++;v.push(new Ii(B,A,Y?1:2))}return v}function So(a){return[new Ii(0,a,0)]}let ko="";function $n(a,e,t,r,l){var v;let A=r.head-a.from,B=-1;if(A==0){if(!l||!a.length)return null;e[0].level!=t&&(A=e[0].side(!1,t),B=0)}else if(A==a.length){if(l)return null;let it=e[e.length-1];it.level!=t&&(A=it.side(!0,t),B=e.length-1)}B<0&&(B=Ii.find(e,A,(v=r.bidiLevel)!==null&&v!==void 0?v:-1,r.assoc));let Y=e[B];A==Y.side(l,t)&&(Y=e[B+=l?1:-1],A=Y.side(!l,t));let pe=l==(Y.dir==t),he=(0,s.cp)(a.text,A,pe);if(ko=a.text.slice(Math.min(A,he),Math.max(A,he)),he!=Y.side(l,t))return s.jT.cursor(he+a.from,pe?-1:1,Y.level);let ke=B==(l?e.length-1:0)?null:e[B+(l?1:-1)];return!ke&&Y.level!=t?s.jT.cursor(l?a.to:a.from,l?-1:1,t):ke&&ke.level<Y.level?s.jT.cursor(ke.side(!l,t)+a.from,l?1:-1,ke.level):s.jT.cursor(he+a.from,l?-1:1,Y.level)}const Ri="\uFFFF";class Mo{constructor(e,t){this.points=e,this.text="",this.lineSeparator=t.facet(s.yy.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=Ri}readRange(e,t){if(!e)return this;let r=e.parentNode;for(let l=e;;){this.findPointBefore(r,l);let v=this.text.length;this.readNode(l);let A=l.nextSibling;if(A==t)break;let B=dt.get(l),Y=dt.get(A);(B&&Y?B.breakAfter:(B?B.breakAfter:Ht(l))||Ht(A)&&(l.nodeName!="BR"||l.cmIgnore)&&this.text.length>v)&&this.lineBreak(),l=A}return this.findPointBefore(r,t),this}readTextNode(e){let t=e.nodeValue;for(let r of this.points)r.node==e&&(r.pos=this.text.length+Math.min(r.offset,t.length));for(let r=0,l=this.lineSeparator?null:/\r\n?|\n/g;;){let v=-1,A=1,B;if(this.lineSeparator?(v=t.indexOf(this.lineSeparator,r),A=this.lineSeparator.length):(B=l.exec(t))&&(v=B.index,A=B[0].length),this.append(t.slice(r,v<0?t.length:v)),v<0)break;if(this.lineBreak(),A>1)for(let Y of this.points)Y.node==e&&Y.pos>this.text.length&&(Y.pos-=A-1);r=v+A}}readNode(e){if(e.cmIgnore)return;let t=dt.get(e),r=t&&t.overrideDOMText;if(r!=null){this.findPointInside(e,r.length);for(let l=r.iter();!l.next().done;)l.lineBreak?this.lineBreak():this.append(l.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,t){for(let r of this.points)r.node==e&&e.childNodes[r.offset]==t&&(r.pos=this.text.length)}findPointInside(e,t){for(let r of this.points)(e.nodeType==3?r.node==e:e.contains(r.node))&&(r.pos=this.text.length+Math.min(t,r.offset))}}function Ht(a){return a.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(a.nodeName)}class Ee{constructor(e,t){this.node=e,this.offset=t,this.pos=-1}}class F extends dt{constructor(e){super(),this.view=e,this.compositionDeco=cr.none,this.decorations=[],this.dynamicDecorationMap=[],this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new Sr],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new be(0,0,0,e.state.doc.length)],0)}get length(){return this.view.state.doc.length}update(e){let t=e.changedRanges;this.minWidth>0&&t.length&&(t.every(({fromA:A,toA:B})=>B<this.minWidthFrom||A>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.view.inputState.composing<0?this.compositionDeco=cr.none:(e.transactions.length||this.dirty)&&(this.compositionDeco=st(this.view,e.changes)),(ie.ie||ie.chrome)&&!this.compositionDeco.size&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let r=this.decorations,l=this.updateDeco(),v=Kr(r,l,e.changes);return t=be.extendWithRanges(t,v),this.dirty==0&&t.length==0?!1:(this.updateInner(t,e.startState.doc.length),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,t){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,t);let{observer:r}=this.view;r.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let v=ie.chrome||ie.ios?{node:r.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,v),this.dirty=0,v&&(v.written||r.selectionRange.focusNode!=v.node)&&(this.forceSelection=!0),this.dom.style.height=""});let l=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let v of this.children)v instanceof _r&&v.widget instanceof _e&&l.push(v.dom);r.updateGaps(l)}updateChildren(e,t){let r=this.childCursor(t);for(let l=e.length-1;;l--){let v=l>=0?e[l]:null;if(!v)break;let{fromA:A,toA:B,fromB:Y,toB:pe}=v,{content:he,breakAtStart:ke,openStart:it,openEnd:pt}=Er.build(this.view.state.doc,Y,pe,this.decorations,this.dynamicDecorationMap),{i:kt,off:Jt}=r.findPos(B,1),{i:Rt,off:sr}=r.findPos(A,-1);Ze(this,Rt,sr,kt,Jt,he,ke,it,pt)}}updateSelection(e=!1,t=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let r=this.view.root.activeElement,l=r==this.dom,v=!l&&ne(this.dom,this.view.observer.selectionRange)&&!(r&&this.dom.contains(r));if(!(l||t||v))return;let A=this.forceSelection;this.forceSelection=!1;let B=this.view.state.selection.main,Y=this.domAtPos(B.anchor),pe=B.empty?Y:this.domAtPos(B.head);if(ie.gecko&&B.empty&&!this.compositionDeco.size&&q(Y)){let ke=document.createTextNode("");this.view.observer.ignore(()=>Y.node.insertBefore(ke,Y.node.childNodes[Y.offset]||null)),Y=pe=new St(ke,0),A=!0}let he=this.view.observer.selectionRange;(A||!he.focusNode||!ve(Y.node,Y.offset,he.anchorNode,he.anchorOffset)||!ve(pe.node,pe.offset,he.focusNode,he.focusOffset))&&(this.view.observer.ignore(()=>{ie.android&&ie.chrome&&this.dom.contains(he.focusNode)&&In(he.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let ke=G(this.view.root);if(ke)if(B.empty){if(ie.gecko){let it=Lt(Y.node,Y.offset);if(it&&it!=3){let pt=Wt(Y.node,Y.offset,it==1?1:-1);pt&&(Y=new St(pt,it==1?0:pt.nodeValue.length))}}ke.collapse(Y.node,Y.offset),B.bidiLevel!=null&&he.cursorBidiLevel!=null&&(he.cursorBidiLevel=B.bidiLevel)}else if(ke.extend){ke.collapse(Y.node,Y.offset);try{ke.extend(pe.node,pe.offset)}catch{}}else{let it=document.createRange();B.anchor>B.head&&([Y,pe]=[pe,Y]),it.setEnd(pe.node,pe.offset),it.setStart(Y.node,Y.offset),ke.removeAllRanges(),ke.addRange(it)}v&&this.view.root.activeElement==this.dom&&(this.dom.blur(),r&&r.focus())}),this.view.observer.setSelectionRange(Y,pe)),this.impreciseAnchor=Y.precise?null:new St(he.anchorNode,he.anchorOffset),this.impreciseHead=pe.precise?null:new St(he.focusNode,he.focusOffset)}enforceCursorAssoc(){if(this.compositionDeco.size)return;let{view:e}=this,t=e.state.selection.main,r=G(e.root),{anchorNode:l,anchorOffset:v}=e.observer.selectionRange;if(!r||!t.empty||!t.assoc||!r.modify)return;let A=Sr.find(this,t.head);if(!A)return;let B=A.posAtStart;if(t.head==B||t.head==B+A.length)return;let Y=this.coordsAt(t.head,-1),pe=this.coordsAt(t.head,1);if(!Y||!pe||Y.bottom>pe.top)return;let he=this.domAtPos(t.head+t.assoc);r.collapse(he.node,he.offset),r.modify("move",t.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let ke=e.observer.selectionRange;e.docView.posFromDOM(ke.anchorNode,ke.anchorOffset)!=t.from&&r.collapse(l,v)}nearest(e){for(let t=e;t;){let r=dt.get(t);if(r&&r.rootView==this)return r;t=t.parentNode}return null}posFromDOM(e,t){let r=this.nearest(e);if(!r)throw new RangeError("Trying to find position for a DOM position outside of the document");return r.localPosFromDOM(e,t)+r.posAtStart}domAtPos(e){let{i:t,off:r}=this.childCursor().findPos(e,-1);for(;t<this.children.length-1;){let l=this.children[t];if(r<l.length||l instanceof Sr)break;t++,r=0}return this.children[t].domAtPos(r)}coordsAt(e,t){for(let r=this.length,l=this.children.length-1;;l--){let v=this.children[l],A=r-v.breakAfter-v.length;if(e>A||e==A&&v.type!=pr.WidgetBefore&&v.type!=pr.WidgetAfter&&(!l||t==2||this.children[l-1].breakAfter||this.children[l-1].type==pr.WidgetBefore&&t>-2))return v.coordsAt(e-A,t);r=A}}measureVisibleLineHeights(e){let t=[],{from:r,to:l}=e,v=this.view.contentDOM.clientWidth,A=v>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,B=-1,Y=this.view.textDirection==je.LTR;for(let pe=0,he=0;he<this.children.length;he++){let ke=this.children[he],it=pe+ke.length;if(it>l)break;if(pe>=r){let pt=ke.dom.getBoundingClientRect();if(t.push(pt.height),A){let kt=ke.dom.lastChild,Jt=kt?ae(kt):[];if(Jt.length){let Rt=Jt[Jt.length-1],sr=Y?Rt.right-pt.left:pt.right-Rt.left;sr>B&&(B=sr,this.minWidth=v,this.minWidthFrom=pe,this.minWidthTo=it)}}}pe=it+ke.breakAfter}return t}textDirectionAt(e){let{i:t}=this.childPos(e,1);return getComputedStyle(this.children[t].dom).direction=="rtl"?je.RTL:je.LTR}measureTextSize(){for(let v of this.children)if(v instanceof Sr){let A=v.measureTextSize();if(A)return A}let e=document.createElement("div"),t,r,l;return e.className="cm-line",e.style.width="99999px",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let v=ae(e.firstChild)[0];t=e.getBoundingClientRect().height,r=v?v.width/27:7,l=v?v.height:t,e.remove()}),{lineHeight:t,charWidth:r,textHeight:l}}childCursor(e=this.length){let t=this.children.length;return t&&(e-=this.children[--t].length),new rt(this.children,e,t)}computeBlockGapDeco(){let e=[],t=this.view.viewState;for(let r=0,l=0;;l++){let v=l==t.viewports.length?null:t.viewports[l],A=v?v.from-1:this.length;if(A>r){let B=t.lineBlockAt(A).bottom-t.lineBlockAt(r).top;e.push(cr.replace({widget:new _e(B),block:!0,inclusive:!0,isBlockGap:!0}).range(r,A))}if(!v)break;r=v.to+1}return cr.set(e)}updateDeco(){let e=this.view.state.facet(y).map((t,r)=>(this.dynamicDecorationMap[r]=typeof t=="function")?t(this.view):t);for(let t=e.length;t<e.length+3;t++)this.dynamicDecorationMap[t]=!1;return this.decorations=[...e,this.compositionDeco,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco]}scrollIntoView(e){let{range:t}=e,r=this.coordsAt(t.head,t.empty?t.assoc:t.head>t.anchor?-1:1),l;if(!r)return;!t.empty&&(l=this.coordsAt(t.anchor,t.anchor>t.head?-1:1))&&(r={left:Math.min(r.left,l.left),top:Math.min(r.top,l.top),right:Math.max(r.right,l.right),bottom:Math.max(r.bottom,l.bottom)});let v=te(this.view),A={left:r.left-v.left,top:r.top-v.top,right:r.right+v.right,bottom:r.bottom+v.bottom};fe(this.view.scrollDOM,A,t.head<t.anchor?-1:1,e.x,e.y,e.xMargin,e.yMargin,this.view.textDirection==je.LTR)}}function q(a){return a.node.nodeType==1&&a.node.firstChild&&(a.offset==0||a.node.childNodes[a.offset-1].contentEditable=="false")&&(a.offset==a.node.childNodes.length||a.node.childNodes[a.offset].contentEditable=="false")}class _e extends dr{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get estimatedHeight(){return this.height}}function Fe(a){let e=a.observer.selectionRange,t=e.focusNode&&Wt(e.focusNode,e.focusOffset,0);if(!t)return null;let r=a.docView.nearest(t);if(!r)return null;if(r instanceof Sr){let l=t;for(;l.parentNode!=r.dom;)l=l.parentNode;let v=l.previousSibling;for(;v&&!dt.get(v);)v=v.previousSibling;let A=v?dt.get(v).posAtEnd:r.posAtStart;return{from:A,to:A,node:l,text:t}}else{for(;;){let{parent:v}=r;if(!v)return null;if(v instanceof Sr)break;r=v}let l=r.posAtStart;return{from:l,to:l+r.length,node:r.dom,text:t}}}function st(a,e){let t=Fe(a);if(!t)return cr.none;let{from:r,to:l,node:v,text:A}=t,B=e.mapPos(r,1),Y=Math.max(B,e.mapPos(l,-1)),{state:pe}=a,he=new Mo([],pe);v.nodeType==3?he.readTextNode(v):he.readRange(v.firstChild,null);let{text:ke}=he;if(ke.indexOf(Ri)>-1)return cr.none;if(Y-B<ke.length)if(pe.doc.sliceString(B,Math.min(pe.doc.length,B+ke.length))==ke)Y=B+ke.length;else if(pe.doc.sliceString(Math.max(0,Y-ke.length),Y)==ke)B=Y-ke.length;else return cr.none;else if(pe.doc.sliceString(B,Y)!=ke)return cr.none;let it=dt.get(v);return it instanceof Yt?it=it.widget.topView:it&&(it.parent=null),cr.set(cr.replace({widget:new ht(v,A,it),inclusive:!0}).range(B,Y))}class ht extends dr{constructor(e,t,r){super(),this.top=e,this.text=t,this.topView=r}eq(e){return this.top==e.top&&this.text==e.text}toDOM(){return this.top}ignoreEvent(){return!1}get customView(){return Yt}}function Wt(a,e,t){if(t<=0)for(let r=a,l=e;;){if(r.nodeType==3)return r;if(r.nodeType==1&&l>0)r=r.childNodes[l-1],l=ue(r);else break}if(t>=0)for(let r=a,l=e;;){if(r.nodeType==3)return r;if(r.nodeType==1&&l<r.childNodes.length&&t>=0)r=r.childNodes[l],l=0;else break}return null}function Lt(a,e){return a.nodeType!=1?0:(e&&a.childNodes[e-1].contentEditable=="false"?1:0)|(e<a.childNodes.length&&a.childNodes[e].contentEditable=="false"?2:0)}class Lr{constructor(){this.changes=[]}compareRange(e,t){lr(e,t,this.changes)}comparePoint(e,t){lr(e,t,this.changes)}}function Kr(a,e,t){let r=new Lr;return s.Xs.compare(a,e,t,r),r.changes}function In(a,e){for(let t=a;t&&t!=e;t=t.assignedSlot||t.parentNode)if(t.nodeType==1&&t.contentEditable=="false")return!0;return!1}function wi(a,e,t=1){let r=a.charCategorizer(e),l=a.doc.lineAt(e),v=e-l.from;if(l.length==0)return s.jT.cursor(e);v==0?t=1:v==l.length&&(t=-1);let A=v,B=v;t<0?A=(0,s.cp)(l.text,v,!1):B=(0,s.cp)(l.text,v);let Y=r(l.text.slice(A,B));for(;A>0;){let pe=(0,s.cp)(l.text,A,!1);if(r(l.text.slice(pe,A))!=Y)break;A=pe}for(;B<l.length;){let pe=(0,s.cp)(l.text,B);if(r(l.text.slice(B,pe))!=Y)break;B=pe}return s.jT.range(A+l.from,B+l.from)}function Ai(a,e){return e.left>a?e.left-a:Math.max(0,a-e.right)}function si(a,e){return e.top>a?e.top-a:Math.max(0,a-e.bottom)}function Si(a,e){return a.top<e.bottom-1&&a.bottom>e.top+1}function Hi(a,e){return e<a.top?{top:e,left:a.left,right:a.right,bottom:a.bottom}:a}function gs(a,e){return e>a.bottom?{top:a.top,left:a.left,right:a.right,bottom:e}:a}function ts(a,e,t){let r,l,v,A,B=!1,Y,pe,he,ke;for(let kt=a.firstChild;kt;kt=kt.nextSibling){let Jt=ae(kt);for(let Rt=0;Rt<Jt.length;Rt++){let sr=Jt[Rt];l&&Si(l,sr)&&(sr=Hi(gs(sr,l.bottom),l.top));let er=Ai(e,sr),hn=si(t,sr);if(er==0&&hn==0)return kt.nodeType==3?va(kt,e,t):ts(kt,e,t);if(!r||A>hn||A==hn&&v>er){r=kt,l=sr,v=er,A=hn;let Dr=hn?t<sr.top?-1:1:er?e<sr.left?-1:1:0;B=!Dr||(Dr>0?Rt<Jt.length-1:Rt>0)}er==0?t>sr.bottom&&(!he||he.bottom<sr.bottom)?(Y=kt,he=sr):t<sr.top&&(!ke||ke.top>sr.top)&&(pe=kt,ke=sr):he&&Si(he,sr)?he=gs(he,sr.bottom):ke&&Si(ke,sr)&&(ke=Hi(ke,sr.top))}}if(he&&he.bottom>=t?(r=Y,l=he):ke&&ke.top<=t&&(r=pe,l=ke),!r)return{node:a,offset:0};let it=Math.max(l.left,Math.min(l.right,e));if(r.nodeType==3)return va(r,it,t);if(B&&r.contentEditable!="false")return ts(r,it,t);let pt=Array.prototype.indexOf.call(a.childNodes,r)+(e>=(l.left+l.right)/2?1:0);return{node:a,offset:pt}}function va(a,e,t){let r=a.nodeValue.length,l=-1,v=1e9,A=0;for(let B=0;B<r;B++){let Y=We(a,B,B+1).getClientRects();for(let pe=0;pe<Y.length;pe++){let he=Y[pe];if(he.top==he.bottom)continue;A||(A=e-he.left);let ke=(he.top>t?he.top-t:t-he.bottom)-1;if(he.left-1<=e&&he.right+1>=e&&ke<v){let it=e>=(he.left+he.right)/2,pt=it;if((ie.chrome||ie.gecko)&&We(a,B).getBoundingClientRect().left==he.right&&(pt=!it),ke<=0)return{node:a,offset:B+(pt?1:0)};l=B+(pt?1:0),v=ke}}}return{node:a,offset:l>-1?l:A>0?a.nodeValue.length:0}}function Wo(a,e,t,r=-1){var l,v;let A=a.contentDOM.getBoundingClientRect(),B=A.top+a.viewState.paddingTop,Y,{docHeight:pe}=a.viewState,{x:he,y:ke}=e,it=ke-B;if(it<0)return 0;if(it>pe)return a.state.doc.length;for(let Dr=a.defaultLineHeight/2,nn=!1;Y=a.elementAtHeight(it),Y.type!=pr.Text;)for(;it=r>0?Y.bottom+Dr:Y.top-Dr,!(it>=0&&it<=pe);){if(nn)return t?null:0;nn=!0,r=-r}ke=B+it;let pt=Y.from;if(pt<a.viewport.from)return a.viewport.from==0?0:t?null:Ks(a,A,Y,he,ke);if(pt>a.viewport.to)return a.viewport.to==a.state.doc.length?a.state.doc.length:t?null:Ks(a,A,Y,he,ke);let kt=a.dom.ownerDocument,Jt=a.root.elementFromPoint?a.root:kt,Rt=Jt.elementFromPoint(he,ke);Rt&&!a.contentDOM.contains(Rt)&&(Rt=null),Rt||(he=Math.max(A.left+1,Math.min(A.right-1,he)),Rt=Jt.elementFromPoint(he,ke),Rt&&!a.contentDOM.contains(Rt)&&(Rt=null));let sr,er=-1;if(Rt&&((l=a.docView.nearest(Rt))===null||l===void 0?void 0:l.isEditable)!=!1){if(kt.caretPositionFromPoint){let Dr=kt.caretPositionFromPoint(he,ke);Dr&&({offsetNode:sr,offset:er}=Dr)}else if(kt.caretRangeFromPoint){let Dr=kt.caretRangeFromPoint(he,ke);Dr&&({startContainer:sr,startOffset:er}=Dr,(!a.contentDOM.contains(sr)||ie.safari&&gt(sr,er,he)||ie.chrome&&Je(sr,er,he))&&(sr=void 0))}}if(!sr||!a.docView.dom.contains(sr)){let Dr=Sr.find(a.docView,pt);if(!Dr)return it>Y.top+Y.height/2?Y.to:Y.from;({node:sr,offset:er}=ts(Dr.dom,he,ke))}let hn=a.docView.nearest(sr);if(!hn)return null;if(hn.isWidget&&((v=hn.dom)===null||v===void 0?void 0:v.nodeType)==1){let Dr=hn.dom.getBoundingClientRect();return e.y<Dr.top||e.y<=Dr.bottom&&e.x<=(Dr.left+Dr.right)/2?hn.posAtStart:hn.posAtEnd}else return hn.localPosFromDOM(sr,er)+hn.posAtStart}function Ks(a,e,t,r,l){let v=Math.round((r-e.left)*a.defaultCharacterWidth);if(a.lineWrapping&&t.height>a.defaultLineHeight*1.5){let B=Math.floor((l-t.top)/a.defaultLineHeight);v+=B*a.viewState.heightOracle.lineLength}let A=a.state.sliceDoc(t.from,t.to);return t.from+(0,s.Gz)(A,v,a.state.tabSize)}function gt(a,e,t){let r;if(a.nodeType!=3||e!=(r=a.nodeValue.length))return!1;for(let l=a.nextSibling;l;l=l.nextSibling)if(l.nodeType!=1||l.nodeName!="BR")return!1;return We(a,r-1,r).getBoundingClientRect().left>t}function Je(a,e,t){if(e!=0)return!1;for(let l=a;;){let v=l.parentNode;if(!v||v.nodeType!=1||v.firstChild!=l)return!1;if(v.classList.contains("cm-line"))break;l=v}let r=a.nodeType==1?a.getBoundingClientRect():We(a,0,Math.max(a.nodeValue.length,1)).getBoundingClientRect();return t-r.left>5}function Bt(a,e){let t=a.lineBlockAt(e);if(Array.isArray(t.type)){for(let r of t.type)if(r.to>e||r.to==e&&(r.to==t.to||r.type==pr.Text))return r}return t}function Kt(a,e,t,r){let l=Bt(a,e.head),v=!r||l.type!=pr.Text||!(a.lineWrapping||l.widgetLineBreaks)?null:a.coordsAtPos(e.assoc<0&&e.head>l.from?e.head-1:e.head);if(v){let A=a.dom.getBoundingClientRect(),B=a.textDirectionAt(l.from),Y=a.posAtCoords({x:t==(B==je.LTR)?A.right-1:A.left+1,y:(v.top+v.bottom)/2});if(Y!=null)return s.jT.cursor(Y,t?-1:1)}return s.jT.cursor(t?l.to:l.from,t?-1:1)}function nr(a,e,t,r){let l=a.state.doc.lineAt(e.head),v=a.bidiSpans(l),A=a.textDirectionAt(l.from);for(let B=e,Y=null;;){let pe=$n(l,v,A,B,t),he=ko;if(!pe){if(l.number==(t?a.state.doc.lines:1))return B;he=`
`,l=a.state.doc.line(l.number+(t?1:-1)),v=a.bidiSpans(l),pe=s.jT.cursor(t?l.from:l.to)}if(Y){if(!Y(he))return B}else{if(!r)return pe;Y=r(he)}B=pe}}function Ur(a,e,t){let r=a.state.charCategorizer(e),l=r(t);return v=>{let A=r(v);return l==s.D0.Space&&(l=A),l==A}}function Fr(a,e,t,r){let l=e.head,v=t?1:-1;if(l==(t?a.state.doc.length:0))return s.jT.cursor(l,e.assoc);let A=e.goalColumn,B,Y=a.contentDOM.getBoundingClientRect(),pe=a.coordsAtPos(l),he=a.documentTop;if(pe)A==null&&(A=pe.left-Y.left),B=v<0?pe.top:pe.bottom;else{let pt=a.viewState.lineBlockAt(l);A==null&&(A=Math.min(Y.right-Y.left,a.defaultCharacterWidth*(l-pt.from))),B=(v<0?pt.top:pt.bottom)+he}let ke=Y.left+A,it=r!=null?r:a.defaultLineHeight>>1;for(let pt=0;;pt+=10){let kt=B+(it+pt)*v,Jt=Wo(a,{x:ke,y:kt},!1,v);if(kt<Y.top||kt>Y.bottom||(v<0?Jt<l:Jt>l))return s.jT.cursor(Jt,e.assoc,void 0,A)}}function en(a,e,t){for(;;){let r=0;for(let l of a)l.between(e-1,e+1,(v,A,B)=>{if(e>v&&e<A){let Y=r||t||(e-v<A-e?-1:1);e=Y<0?v:A,r=Y}});if(!r)return e}}function ai(a,e,t){let r=en(a.state.facet(T).map(l=>l(a)),t.from,e.head>t.from?-1:1);return r==t.from?t:s.jT.cursor(r,r<t.from?1:-1)}class Hn{constructor(e){this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.chromeScrollHack=-1,this.pendingIOSKey=void 0,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastEscPress=0,this.lastContextMenu=0,this.scrollHandlers=[],this.registeredEvents=[],this.customHandlers=[],this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null;let t=(r,l)=>{this.ignoreDuringComposition(l)||l.type=="keydown"&&this.keydown(e,l)||(this.mustFlushObserver(l)&&e.observer.forceFlush(),this.runCustomHandlers(l.type,e,l)?l.preventDefault():r(e,l))};for(let r in _n){let l=_n[r];e.contentDOM.addEventListener(r,v=>{Xn(e,v)&&t(l,v)},Fi[r]),this.registeredEvents.push(r)}e.scrollDOM.addEventListener("mousedown",r=>{if(r.target==e.scrollDOM&&r.clientY>e.contentDOM.getBoundingClientRect().bottom&&(t(_n.mousedown,r),!r.defaultPrevented&&r.button==2)){let l=e.contentDOM.style.minHeight;e.contentDOM.style.minHeight="100%",setTimeout(()=>e.contentDOM.style.minHeight=l,200)}}),e.scrollDOM.addEventListener("drop",r=>{r.target==e.scrollDOM&&r.clientY>e.contentDOM.getBoundingClientRect().bottom&&t(_n.drop,r)}),ie.chrome&&ie.chrome_version==102&&e.scrollDOM.addEventListener("wheel",()=>{this.chromeScrollHack<0?e.contentDOM.style.pointerEvents="none":window.clearTimeout(this.chromeScrollHack),this.chromeScrollHack=setTimeout(()=>{this.chromeScrollHack=-1,e.contentDOM.style.pointerEvents=""},100)},{passive:!0}),this.notifiedFocused=e.hasFocus,ie.safari&&e.contentDOM.addEventListener("input",()=>null)}setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}ensureHandlers(e,t){var r;let l;this.customHandlers=[];for(let v of t)if(l=(r=v.update(e).spec)===null||r===void 0?void 0:r.domEventHandlers){this.customHandlers.push({plugin:v.value,handlers:l});for(let A in l)this.registeredEvents.indexOf(A)<0&&A!="scroll"&&(this.registeredEvents.push(A),e.contentDOM.addEventListener(A,B=>{Xn(e,B)&&this.runCustomHandlers(A,e,B)&&B.preventDefault()}))}}runCustomHandlers(e,t,r){for(let l of this.customHandlers){let v=l.handlers[e];if(v)try{if(v.call(l.plugin,r,t)||r.defaultPrevented)return!0}catch(A){yn(t.state,A)}}return!1}runScrollHandlers(e,t){this.lastScrollTop=e.scrollDOM.scrollTop,this.lastScrollLeft=e.scrollDOM.scrollLeft;for(let r of this.customHandlers){let l=r.handlers.scroll;if(l)try{l.call(r.plugin,t,e)}catch(v){yn(e.state,v)}}}keydown(e,t){if(this.lastKeyCode=t.keyCode,this.lastKeyTime=Date.now(),t.keyCode==9&&Date.now()<this.lastEscPress+2e3)return!0;if(t.keyCode!=27&&tn.indexOf(t.keyCode)<0&&(e.inputState.lastEscPress=0),ie.android&&ie.chrome&&!t.synthetic&&(t.keyCode==13||t.keyCode==8))return e.observer.delayAndroidKey(t.key,t.keyCode),!0;let r;return ie.ios&&!t.synthetic&&!t.altKey&&!t.metaKey&&((r=Yn.find(l=>l.keyCode==t.keyCode))&&!t.ctrlKey||rn.indexOf(t.key)>-1&&t.ctrlKey&&!t.shiftKey)?(this.pendingIOSKey=r||t,setTimeout(()=>this.flushIOSKey(e),250),!0):!1}flushIOSKey(e){let t=this.pendingIOSKey;return t?(this.pendingIOSKey=void 0,Ge(e.contentDOM,t.key,t.keyCode)):!1}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:ie.safari&&!ie.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1:!1}mustFlushObserver(e){return e.type=="keydown"&&e.keyCode!=229}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.mouseSelection&&this.mouseSelection.update(e),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}const Yn=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],rn="dthko",tn=[16,17,18,20,91,92,224,225],Zn=6;function an(a){return Math.max(0,a)*.7+8}class mi{constructor(e,t,r,l){this.view=e,this.style=r,this.mustSelect=l,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=t,this.scrollParent=ee(e.contentDOM),this.atoms=e.state.facet(T).map(A=>A(e));let v=e.contentDOM.ownerDocument;v.addEventListener("mousemove",this.move=this.move.bind(this)),v.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=t.shiftKey,this.multiple=e.state.facet(s.yy.allowMultipleSelections)&&Pi(e,t),this.dragMove=ji(e,t),this.dragging=qi(e,t)&&ao(t)==1?null:!1}start(e){this.dragging===!1&&(e.preventDefault(),this.select(e))}move(e){var t;if(e.buttons==0)return this.destroy();if(this.dragging!==!1)return;this.select(this.lastEvent=e);let r=0,l=0,v=((t=this.scrollParent)===null||t===void 0?void 0:t.getBoundingClientRect())||{left:0,top:0,right:this.view.win.innerWidth,bottom:this.view.win.innerHeight},A=te(this.view);e.clientX-A.left<=v.left+Zn?r=-an(v.left-e.clientX):e.clientX+A.right>=v.right-Zn&&(r=an(e.clientX-v.right)),e.clientY-A.top<=v.top+Zn?l=-an(v.top-e.clientY):e.clientY+A.bottom>=v.bottom-Zn&&(l=an(e.clientY-v.bottom)),this.setScrollSpeed(r,l)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=null}setScrollSpeed(e,t){this.scrollSpeed={x:e,y:t},e||t?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){this.scrollParent?(this.scrollParent.scrollLeft+=this.scrollSpeed.x,this.scrollParent.scrollTop+=this.scrollSpeed.y):this.view.win.scrollBy(this.scrollSpeed.x,this.scrollSpeed.y),this.dragging===!1&&this.select(this.lastEvent)}skipAtoms(e){let t=null;for(let r=0;r<e.ranges.length;r++){let l=e.ranges[r],v=null;if(l.empty){let A=en(this.atoms,l.from,0);A!=l.from&&(v=s.jT.cursor(A,-1))}else{let A=en(this.atoms,l.from,-1),B=en(this.atoms,l.to,1);(A!=l.from||B!=l.to)&&(v=s.jT.range(l.from==l.anchor?A:B,l.from==l.head?A:B))}v&&(t||(t=e.ranges.slice()),t[r]=v)}return t?s.jT.create(t,e.mainIndex):e}select(e){let{view:t}=this,r=this.skipAtoms(this.style.get(e,this.extend,this.multiple));(this.mustSelect||!r.eq(t.state.selection)||r.main.assoc!=t.state.selection.main.assoc)&&this.view.dispatch({selection:r,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.docChanged&&this.dragging&&(this.dragging=this.dragging.map(e.changes)),this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function Pi(a,e){let t=a.state.facet(Rr);return t.length?t[0](e):ie.mac?e.metaKey:e.ctrlKey}function ji(a,e){let t=a.state.facet(Xr);return t.length?t[0](e):ie.mac?!e.altKey:!e.ctrlKey}function qi(a,e){let{main:t}=a.state.selection;if(t.empty)return!1;let r=G(a.root);if(!r||r.rangeCount==0)return!0;let l=r.getRangeAt(0).getClientRects();for(let v=0;v<l.length;v++){let A=l[v];if(A.left<=e.clientX&&A.right>=e.clientX&&A.top<=e.clientY&&A.bottom>=e.clientY)return!0}return!1}function Xn(a,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target,r;t!=a.contentDOM;t=t.parentNode)if(!t||t.nodeType==11||(r=dt.get(t))&&r.ignoreEvent(e))return!1;return!0}const _n=Object.create(null),Fi=Object.create(null),An=ie.ie&&ie.ie_version<15||ie.ios&&ie.webkit_version<604;function Zo(a){let e=a.dom.parentNode;if(!e)return;let t=e.appendChild(document.createElement("textarea"));t.style.cssText="position: fixed; left: -10000px; top: 10px",t.focus(),setTimeout(()=>{a.focus(),t.remove(),Ji(a,t.value)},50)}function Ji(a,e){let{state:t}=a,r,l=1,v=t.toText(e),A=v.lines==t.selection.ranges.length;if(Gi!=null&&t.selection.ranges.every(Y=>Y.empty)&&Gi==v.toString()){let Y=-1;r=t.changeByRange(pe=>{let he=t.doc.lineAt(pe.from);if(he.from==Y)return{range:pe};Y=he.from;let ke=t.toText((A?v.line(l++).text:e)+t.lineBreak);return{changes:{from:he.from,insert:ke},range:s.jT.cursor(pe.from+ke.length)}})}else A?r=t.changeByRange(Y=>{let pe=v.line(l++);return{changes:{from:Y.from,to:Y.to,insert:pe.text},range:s.jT.cursor(Y.from+pe.length)}}):r=t.replaceSelection(v);a.dispatch(r,{userEvent:"input.paste",scrollIntoView:!0})}_n.keydown=(a,e)=>{a.inputState.setSelectionOrigin("select"),e.keyCode==27&&(a.inputState.lastEscPress=Date.now())},_n.touchstart=(a,e)=>{a.inputState.lastTouchTime=Date.now(),a.inputState.setSelectionOrigin("select.pointer")},_n.touchmove=a=>{a.inputState.setSelectionOrigin("select.pointer")},Fi.touchstart=Fi.touchmove={passive:!0},_n.mousedown=(a,e)=>{if(a.observer.flush(),a.inputState.lastTouchTime>Date.now()-2e3)return;let t=null;for(let r of a.state.facet(fn))if(t=r(a,e),t)break;if(!t&&e.button==0&&(t=As(a,e)),t){let r=a.root.activeElement!=a.contentDOM;a.inputState.startMouseSelection(new mi(a,e,t,r)),r&&a.observer.ignore(()=>Ie(a.contentDOM)),a.inputState.mouseSelection&&a.inputState.mouseSelection.start(e)}};function ci(a,e,t,r){if(r==1)return s.jT.cursor(e,t);if(r==2)return wi(a.state,e,t);{let l=Sr.find(a.docView,e),v=a.state.doc.lineAt(l?l.posAtEnd:e),A=l?l.posAtStart:v.from,B=l?l.posAtEnd:v.to;return B<a.state.doc.length&&B==v.to&&B++,s.jT.range(A,B)}}let Eo=(a,e)=>a>=e.top&&a<=e.bottom,wo=(a,e,t)=>Eo(e,t)&&a>=t.left&&a<=t.right;function $o(a,e,t,r){let l=Sr.find(a.docView,e);if(!l)return 1;let v=e-l.posAtStart;if(v==0)return 1;if(v==l.length)return-1;let A=l.coordsAt(v,-1);if(A&&wo(t,r,A))return-1;let B=l.coordsAt(v,1);return B&&wo(t,r,B)?1:A&&Eo(r,A)?-1:1}function fi(a,e){let t=a.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:t,bias:$o(a,t,e.clientX,e.clientY)}}const no=ie.ie&&ie.ie_version<=11;let Ti=null,mo=0,Io=0;function ao(a){if(!no)return a.detail;let e=Ti,t=Io;return Ti=a,Io=Date.now(),mo=!e||t>Date.now()-400&&Math.abs(e.clientX-a.clientX)<2&&Math.abs(e.clientY-a.clientY)<2?(mo+1)%3:1}function As(a,e){let t=fi(a,e),r=ao(e),l=a.state.selection;return{update(v){v.docChanged&&(t.pos=v.changes.mapPos(t.pos),l=l.map(v.changes))},get(v,A,B){let Y=fi(a,v),pe,he=ci(a,Y.pos,Y.bias,r);if(t.pos!=Y.pos&&!A){let ke=ci(a,t.pos,t.bias,r),it=Math.min(ke.from,he.from),pt=Math.max(ke.to,he.to);he=it<he.from?s.jT.range(it,pt):s.jT.range(pt,it)}return A?l.replaceRange(l.main.extend(he.from,he.to)):B&&r==1&&l.ranges.length>1&&(pe=zs(l,Y.pos))?pe:B?l.addRange(he):s.jT.create([he])}}}function zs(a,e){for(let t=0;t<a.ranges.length;t++){let{from:r,to:l}=a.ranges[t];if(r<=e&&l>=e)return s.jT.create(a.ranges.slice(0,t).concat(a.ranges.slice(t+1)),a.mainIndex==t?0:a.mainIndex-(a.mainIndex>t?1:0))}return null}_n.dragstart=(a,e)=>{let{selection:{main:t}}=a.state,{mouseSelection:r}=a.inputState;r&&(r.dragging=t),e.dataTransfer&&(e.dataTransfer.setData("Text",a.state.sliceDoc(t.from,t.to)),e.dataTransfer.effectAllowed="copyMove")};function ys(a,e,t,r){if(!t)return;let l=a.posAtCoords({x:e.clientX,y:e.clientY},!1);e.preventDefault();let{mouseSelection:v}=a.inputState,A=r&&v&&v.dragging&&v.dragMove?{from:v.dragging.from,to:v.dragging.to}:null,B={from:l,insert:t},Y=a.state.changes(A?[A,B]:B);a.focus(),a.dispatch({changes:Y,selection:{anchor:Y.mapPos(l,-1),head:Y.mapPos(l,1)},userEvent:A?"move.drop":"input.drop"})}_n.drop=(a,e)=>{if(!e.dataTransfer)return;if(a.state.readOnly)return e.preventDefault();let t=e.dataTransfer.files;if(t&&t.length){e.preventDefault();let r=Array(t.length),l=0,v=()=>{++l==t.length&&ys(a,e,r.filter(A=>A!=null).join(a.state.lineBreak),!1)};for(let A=0;A<t.length;A++){let B=new FileReader;B.onerror=v,B.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(B.result)||(r[A]=B.result),v()},B.readAsText(t[A])}}else ys(a,e,e.dataTransfer.getData("Text"),!0)},_n.paste=(a,e)=>{if(a.state.readOnly)return e.preventDefault();a.observer.flush();let t=An?null:e.clipboardData;t?(Ji(a,t.getData("text/plain")||t.getData("text/uri-text")),e.preventDefault()):Zo(a)};function Dn(a,e){let t=a.dom.parentNode;if(!t)return;let r=t.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.value=e,r.focus(),r.selectionEnd=e.length,r.selectionStart=0,setTimeout(()=>{r.remove(),a.focus()},50)}function Ro(a){let e=[],t=[],r=!1;for(let l of a.selection.ranges)l.empty||(e.push(a.sliceDoc(l.from,l.to)),t.push(l));if(!e.length){let l=-1;for(let{from:v}of a.selection.ranges){let A=a.doc.lineAt(v);A.number>l&&(e.push(A.text),t.push({from:A.from,to:Math.min(a.doc.length,A.to+1)})),l=A.number}r=!0}return{text:e.join(a.lineBreak),ranges:t,linewise:r}}let Gi=null;_n.copy=_n.cut=(a,e)=>{let{text:t,ranges:r,linewise:l}=Ro(a.state);if(!t&&!l)return;Gi=l?t:null;let v=An?null:e.clipboardData;v?(e.preventDefault(),v.clearData(),v.setData("text/plain",t)):Dn(a,t),e.type=="cut"&&!a.state.readOnly&&a.dispatch({changes:r,scrollIntoView:!0,userEvent:"delete.cut"})};const Uo=s.q6.define();function eo(a,e){let t=[];for(let r of a.facet(vn)){let l=r(a,e);l&&t.push(l)}return t?a.update({effects:t,annotations:Uo.of(!0)}):null}function dn(a){setTimeout(()=>{let e=a.hasFocus;if(e!=a.inputState.notifiedFocused){let t=eo(a.state,e);t?a.dispatch(t):a.update([])}},10)}_n.focus=a=>{a.inputState.lastFocusTime=Date.now(),!a.scrollDOM.scrollTop&&(a.inputState.lastScrollTop||a.inputState.lastScrollLeft)&&(a.scrollDOM.scrollTop=a.inputState.lastScrollTop,a.scrollDOM.scrollLeft=a.inputState.lastScrollLeft),dn(a)},_n.blur=a=>{a.observer.clearSelectionRange(),dn(a)},_n.compositionstart=_n.compositionupdate=a=>{a.inputState.compositionFirstChange==null&&(a.inputState.compositionFirstChange=!0),a.inputState.composing<0&&(a.inputState.composing=0)},_n.compositionend=a=>{a.inputState.composing=-1,a.inputState.compositionEndedAt=Date.now(),a.inputState.compositionPendingKey=!0,a.inputState.compositionPendingChange=a.observer.pendingRecords().length>0,a.inputState.compositionFirstChange=null,ie.chrome&&ie.android?a.observer.flushSoon():a.inputState.compositionPendingChange?Promise.resolve().then(()=>a.observer.flush()):setTimeout(()=>{a.inputState.composing<0&&a.docView.compositionDeco.size&&a.update([])},50)},_n.contextmenu=a=>{a.inputState.lastContextMenu=Date.now()},_n.beforeinput=(a,e)=>{var t;let r;if(ie.chrome&&ie.android&&(r=Yn.find(l=>l.inputType==e.inputType))&&(a.observer.delayAndroidKey(r.key,r.keyCode),r.key=="Backspace"||r.key=="Delete")){let l=((t=window.visualViewport)===null||t===void 0?void 0:t.height)||0;setTimeout(()=>{var v;(((v=window.visualViewport)===null||v===void 0?void 0:v.height)||0)>l+10&&a.hasFocus&&(a.contentDOM.blur(),a.focus())},100)}};const Ps=["pre-wrap","normal","pre-line","break-spaces"];class _i{constructor(e){this.lineWrapping=e,this.doc=s.xv.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30,this.heightChanged=!1}heightForGap(e,t){let r=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(r+=Math.max(0,Math.ceil((t-e-r*this.lineLength*.5)/this.lineLength))),this.lineHeight*r}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return Ps.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let t=!1;for(let r=0;r<e.length;r++){let l=e[r];l<0?r++:this.heightSamples[Math.floor(l*10)]||(t=!0,this.heightSamples[Math.floor(l*10)]=!0)}return t}refresh(e,t,r,l,v,A){let B=Ps.indexOf(e)>-1,Y=Math.round(t)!=Math.round(this.lineHeight)||this.lineWrapping!=B;if(this.lineWrapping=B,this.lineHeight=t,this.charWidth=r,this.textHeight=l,this.lineLength=v,Y){this.heightSamples={};for(let pe=0;pe<A.length;pe++){let he=A[pe];he<0?pe++:this.heightSamples[Math.floor(he*10)]=!0}}return Y}}class Vo{constructor(e,t){this.from=e,this.heights=t,this.index=0}get more(){return this.index<this.heights.length}}class gi{constructor(e,t,r,l,v){this.from=e,this.length=t,this.top=r,this.height=l,this._content=v}get type(){return typeof this._content=="number"?pr.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof Ne?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let t=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new gi(this.from,this.length+e.length,this.top,this.height+e.height,t)}}var Bn=function(a){return a[a.ByPos=0]="ByPos",a[a.ByHeight=1]="ByHeight",a[a.ByPosNoHeight=2]="ByPosNoHeight",a}(Bn||(Bn={}));const Oo=.001;class Un{constructor(e,t,r=2){this.length=e,this.height=t,this.flags=r}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e,t){this.height!=t&&(Math.abs(this.height-t)>Oo&&(e.heightChanged=!0),this.height=t)}replace(e,t,r){return Un.of(r)}decomposeLeft(e,t){t.push(this)}decomposeRight(e,t){t.push(this)}applyChanges(e,t,r,l){let v=this,A=r.doc;for(let B=l.length-1;B>=0;B--){let{fromA:Y,toA:pe,fromB:he,toB:ke}=l[B],it=v.lineAt(Y,Bn.ByPosNoHeight,r.setDoc(t),0,0),pt=it.to>=pe?it:v.lineAt(pe,Bn.ByPosNoHeight,r,0,0);for(ke+=pt.to-pe,pe=pt.to;B>0&&it.from<=l[B-1].toA;)Y=l[B-1].fromA,he=l[B-1].fromB,B--,Y<it.from&&(it=v.lineAt(Y,Bn.ByPosNoHeight,r,0,0));he+=it.from-Y,Y=it.from;let kt=ei.build(r.setDoc(A),e,he,ke);v=v.replace(Y,pe,kt)}return v.updateHeight(r,0)}static empty(){return new pi(0,0)}static of(e){if(e.length==1)return e[0];let t=0,r=e.length,l=0,v=0;for(;;)if(t==r)if(l>v*2){let B=e[t-1];B.break?e.splice(--t,1,B.left,null,B.right):e.splice(--t,1,B.left,B.right),r+=1+B.break,l-=B.size}else if(v>l*2){let B=e[r];B.break?e.splice(r,1,B.left,null,B.right):e.splice(r,1,B.left,B.right),r+=2+B.break,v-=B.size}else break;else if(l<v){let B=e[t++];B&&(l+=B.size)}else{let B=e[--r];B&&(v+=B.size)}let A=0;return e[t-1]==null?(A=1,t--):e[t]==null&&(A=1,r++),new Ko(Un.of(e.slice(0,t)),A,Un.of(e.slice(r)))}}Un.prototype.size=1;class Oi extends Un{constructor(e,t,r){super(e,t),this.deco=r}blockAt(e,t,r,l){return new gi(l,this.length,r,this.height,this.deco||0)}lineAt(e,t,r,l,v){return this.blockAt(0,r,l,v)}forEachLine(e,t,r,l,v,A){e<=v+this.length&&t>=v&&A(this.blockAt(0,r,l,v))}updateHeight(e,t=0,r=!1,l){return l&&l.from<=t&&l.more&&this.setHeight(e,l.heights[l.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class pi extends Oi{constructor(e,t){super(e,t,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,t,r,l){return new gi(l,this.length,r,this.height,this.breaks)}replace(e,t,r){let l=r[0];return r.length==1&&(l instanceof pi||l instanceof li&&l.flags&4)&&Math.abs(this.length-l.length)<10?(l instanceof li?l=new pi(l.length,this.height):l.height=this.height,this.outdated||(l.outdated=!1),l):Un.of(r)}updateHeight(e,t=0,r=!1,l){return l&&l.from<=t&&l.more?this.setHeight(e,l.heights[l.index++]):(r||this.outdated)&&this.setHeight(e,Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class li extends Un{constructor(e){super(e,0)}heightMetrics(e,t){let r=e.doc.lineAt(t).number,l=e.doc.lineAt(t+this.length).number,v=l-r+1,A,B=0;if(e.lineWrapping){let Y=Math.min(this.height,e.lineHeight*v);A=Y/v,this.length>v+1&&(B=(this.height-Y)/(this.length-v-1))}else A=this.height/v;return{firstLine:r,lastLine:l,perLine:A,perChar:B}}blockAt(e,t,r,l){let{firstLine:v,lastLine:A,perLine:B,perChar:Y}=this.heightMetrics(t,l);if(t.lineWrapping){let pe=l+Math.round(Math.max(0,Math.min(1,(e-r)/this.height))*this.length),he=t.doc.lineAt(pe),ke=B+he.length*Y,it=Math.max(r,e-ke/2);return new gi(he.from,he.length,it,ke,0)}else{let pe=Math.max(0,Math.min(A-v,Math.floor((e-r)/B))),{from:he,length:ke}=t.doc.line(v+pe);return new gi(he,ke,r+B*pe,B,0)}}lineAt(e,t,r,l,v){if(t==Bn.ByHeight)return this.blockAt(e,r,l,v);if(t==Bn.ByPosNoHeight){let{from:pt,to:kt}=r.doc.lineAt(e);return new gi(pt,kt-pt,0,0,0)}let{firstLine:A,perLine:B,perChar:Y}=this.heightMetrics(r,v),pe=r.doc.lineAt(e),he=B+pe.length*Y,ke=pe.number-A,it=l+B*ke+Y*(pe.from-v-ke);return new gi(pe.from,pe.length,Math.max(l,Math.min(it,l+this.height-he)),he,0)}forEachLine(e,t,r,l,v,A){e=Math.max(e,v),t=Math.min(t,v+this.length);let{firstLine:B,perLine:Y,perChar:pe}=this.heightMetrics(r,v);for(let he=e,ke=l;he<=t;){let it=r.doc.lineAt(he);if(he==e){let kt=it.number-B;ke+=Y*kt+pe*(e-v-kt)}let pt=Y+pe*it.length;A(new gi(it.from,it.length,ke,pt,0)),ke+=pt,he=it.to+1}}replace(e,t,r){let l=this.length-t;if(l>0){let v=r[r.length-1];v instanceof li?r[r.length-1]=new li(v.length+l):r.push(null,new li(l-1))}if(e>0){let v=r[0];v instanceof li?r[0]=new li(e+v.length):r.unshift(new li(e-1),null)}return Un.of(r)}decomposeLeft(e,t){t.push(new li(e-1),null)}decomposeRight(e,t){t.push(null,new li(this.length-e-1))}updateHeight(e,t=0,r=!1,l){let v=t+this.length;if(l&&l.from<=t+this.length&&l.more){let A=[],B=Math.max(t,l.from),Y=-1;for(l.from>t&&A.push(new li(l.from-t-1).updateHeight(e,t));B<=v&&l.more;){let he=e.doc.lineAt(B).length;A.length&&A.push(null);let ke=l.heights[l.index++];Y==-1?Y=ke:Math.abs(ke-Y)>=Oo&&(Y=-2);let it=new pi(he,ke);it.outdated=!1,A.push(it),B+=he+1}B<=v&&A.push(null,new li(v-B).updateHeight(e,B));let pe=Un.of(A);return(Y<0||Math.abs(pe.height-this.height)>=Oo||Math.abs(Y-this.heightMetrics(e,t).perLine)>=Oo)&&(e.heightChanged=!0),pe}else(r||this.outdated)&&(this.setHeight(e,e.heightForGap(t,t+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class Ko extends Un{constructor(e,t,r){super(e.length+t+r.length,e.height+r.height,t|(e.outdated||r.outdated?2:0)),this.left=e,this.right=r,this.size=e.size+r.size}get break(){return this.flags&1}blockAt(e,t,r,l){let v=r+this.left.height;return e<v?this.left.blockAt(e,t,r,l):this.right.blockAt(e,t,v,l+this.left.length+this.break)}lineAt(e,t,r,l,v){let A=l+this.left.height,B=v+this.left.length+this.break,Y=t==Bn.ByHeight?e<A:e<B,pe=Y?this.left.lineAt(e,t,r,l,v):this.right.lineAt(e,t,r,A,B);if(this.break||(Y?pe.to<B:pe.from>B))return pe;let he=t==Bn.ByPosNoHeight?Bn.ByPosNoHeight:Bn.ByPos;return Y?pe.join(this.right.lineAt(B,he,r,A,B)):this.left.lineAt(B,he,r,l,v).join(pe)}forEachLine(e,t,r,l,v,A){let B=l+this.left.height,Y=v+this.left.length+this.break;if(this.break)e<Y&&this.left.forEachLine(e,t,r,l,v,A),t>=Y&&this.right.forEachLine(e,t,r,B,Y,A);else{let pe=this.lineAt(Y,Bn.ByPos,r,l,v);e<pe.from&&this.left.forEachLine(e,pe.from-1,r,l,v,A),pe.to>=e&&pe.from<=t&&A(pe),t>pe.to&&this.right.forEachLine(pe.to+1,t,r,B,Y,A)}}replace(e,t,r){let l=this.left.length+this.break;if(t<l)return this.balanced(this.left.replace(e,t,r),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-l,t-l,r));let v=[];e>0&&this.decomposeLeft(e,v);let A=v.length;for(let B of r)v.push(B);if(e>0&&po(v,A-1),t<this.length){let B=v.length;this.decomposeRight(t,v),po(v,B)}return Un.of(v)}decomposeLeft(e,t){let r=this.left.length;if(e<=r)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&(r++,e>=r&&t.push(null)),e>r&&this.right.decomposeLeft(e-r,t)}decomposeRight(e,t){let r=this.left.length,l=r+this.break;if(e>=l)return this.right.decomposeRight(e-l,t);e<r&&this.left.decomposeRight(e,t),this.break&&e<l&&t.push(null),t.push(this.right)}balanced(e,t){return e.size>2*t.size||t.size>2*e.size?Un.of(this.break?[e,null,t]:[e,t]):(this.left=e,this.right=t,this.height=e.height+t.height,this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}updateHeight(e,t=0,r=!1,l){let{left:v,right:A}=this,B=t+v.length+this.break,Y=null;return l&&l.from<=t+v.length&&l.more?Y=v=v.updateHeight(e,t,r,l):v.updateHeight(e,t,r),l&&l.from<=B+A.length&&l.more?Y=A=A.updateHeight(e,B,r,l):A.updateHeight(e,B,r),Y?this.balanced(v,A):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function po(a,e){let t,r;a[e]==null&&(t=a[e-1])instanceof li&&(r=a[e+1])instanceof li&&a.splice(e-1,3,new li(t.length+1+r.length))}const vs=5;class ei{constructor(e,t){this.pos=e,this.oracle=t,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,t){if(this.lineStart>-1){let r=Math.min(t,this.lineEnd),l=this.nodes[this.nodes.length-1];l instanceof pi?l.length+=r-this.pos:(r>this.pos||!this.isCovered)&&this.nodes.push(new pi(r-this.pos,-1)),this.writtenTo=r,t>r&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}point(e,t,r){if(e<t||r.heightRelevant){let l=r.widget?r.widget.estimatedHeight:0,v=r.widget?r.widget.lineBreaks:0;l<0&&(l=this.oracle.lineHeight);let A=t-e;r.block?this.addBlock(new Oi(A,l,r)):(A||v||l>=vs)&&this.addLineDeco(l,v,A)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:t}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=t,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new pi(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,t){let r=new li(t-e);return this.oracle.doc.lineAt(e).to==t&&(r.flags|=4),r}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof pi)return e;let t=new pi(0,-1);return this.nodes.push(t),t}addBlock(e){var t;this.enterLine();let r=(t=e.deco)===null||t===void 0?void 0:t.type;r==pr.WidgetAfter&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,r!=pr.WidgetBefore&&(this.covering=e)}addLineDeco(e,t,r){let l=this.ensureLine();l.length+=r,l.collapsed+=r,l.widgetHeight=Math.max(l.widgetHeight,e),l.breaks+=t,this.writtenTo=this.pos=this.pos+r}finish(e){let t=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(t instanceof pi)&&!this.isCovered?this.nodes.push(new pi(0,-1)):(this.writtenTo<this.pos||t==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let r=e;for(let l of this.nodes)l instanceof pi&&l.updateHeight(this.oracle,r),r+=l?l.length:1;return this.nodes}static build(e,t,r,l){let v=new ei(r,e);return s.Xs.spans(t,r,l,v,0),v.finish(r)}}function io(a,e,t){let r=new lo;return s.Xs.compare(a,e,t,r,0),r.changes}class lo{constructor(){this.changes=[]}compareRange(){}comparePoint(e,t,r,l){(e<t||r&&r.heightRelevant||l&&l.heightRelevant)&&lr(e,t,this.changes,5)}}function Ni(a,e){let t=a.getBoundingClientRect(),r=a.ownerDocument,l=r.defaultView||window,v=Math.max(0,t.left),A=Math.min(l.innerWidth,t.right),B=Math.max(0,t.top),Y=Math.min(l.innerHeight,t.bottom);for(let pe=a.parentNode;pe&&pe!=r.body;)if(pe.nodeType==1){let he=pe,ke=window.getComputedStyle(he);if((he.scrollHeight>he.clientHeight||he.scrollWidth>he.clientWidth)&&ke.overflow!="visible"){let it=he.getBoundingClientRect();v=Math.max(v,it.left),A=Math.min(A,it.right),B=Math.max(B,it.top),Y=pe==a.parentNode?it.bottom:Math.min(Y,it.bottom)}pe=ke.position=="absolute"||ke.position=="fixed"?he.offsetParent:he.parentNode}else if(pe.nodeType==11)pe=pe.host;else break;return{left:v-t.left,right:Math.max(v,A)-t.left,top:B-(t.top+e),bottom:Math.max(B,Y)-(t.top+e)}}function Fo(a,e){let t=a.getBoundingClientRect();return{left:0,right:t.right-t.left,top:e,bottom:t.bottom-(t.top+e)}}class Ei{constructor(e,t,r){this.from=e,this.to=t,this.size=r}static same(e,t){if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++){let l=e[r],v=t[r];if(l.from!=v.from||l.to!=v.to||l.size!=v.size)return!1}return!0}draw(e){return cr.replace({widget:new bs(this.size,e)}).range(this.from,this.to)}}class bs extends dr{constructor(e,t){super(),this.size=e,this.vertical=t}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class xo{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!0,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=rs,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=je.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let t=e.facet(Pe).some(r=>typeof r!="function"&&r.class=="cm-lineWrapping");this.heightOracle=new _i(t),this.stateDeco=e.facet(y).filter(r=>typeof r!="function"),this.heightMap=Un.empty().applyChanges(this.stateDeco,s.xv.empty,this.heightOracle.setDoc(e.doc),[new be(0,0,0,e.doc.length)]),this.viewport=this.getViewport(0,null),this.updateViewportLines(),this.updateForViewport(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=cr.set(this.lineGaps.map(r=>r.draw(!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:t}=this.state.selection;for(let r=0;r<=1;r++){let l=r?t.head:t.anchor;if(!e.some(({from:v,to:A})=>l>=v&&l<=A)){let{from:v,to:A}=this.lineBlockAt(l);e.push(new Jn(v,A))}}this.viewports=e.sort((r,l)=>r.from-l.from),this.scaler=this.heightMap.height<=7e6?rs:new Hs(this.heightOracle,this.heightMap,this.viewports)}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(this.scaler.scale==1?e:Fn(e,this.scaler))})}update(e,t=null){this.state=e.state;let r=this.stateDeco;this.stateDeco=this.state.facet(y).filter(he=>typeof he!="function");let l=e.changedRanges,v=be.extendWithRanges(l,io(r,this.stateDeco,e?e.changes:s.as.empty(this.state.doc.length))),A=this.heightMap.height,B=this.scrolledToBottom?null:this.lineBlockAtHeight(this.scrollTop);this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),v),this.heightMap.height!=A&&(e.flags|=2),B?(this.scrollAnchorPos=e.changes.mapPos(B.from,-1),this.scrollAnchorHeight=B.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=this.heightMap.height);let Y=v.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<Y.from||t.range.head>Y.to)||!this.viewportIsAppropriate(Y))&&(Y=this.getViewport(0,t));let pe=!e.changes.empty||e.flags&2||Y.from!=this.viewport.from||Y.to!=this.viewport.to;this.viewport=Y,this.updateForViewport(),pe&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>2e3<<1)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(un)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let t=e.contentDOM,r=window.getComputedStyle(t),l=this.heightOracle,v=r.whiteSpace;this.defaultTextDirection=r.direction=="rtl"?je.RTL:je.LTR;let A=this.heightOracle.mustRefreshForWrapping(v),B=t.getBoundingClientRect(),Y=A||this.mustMeasureContent||this.contentDOMHeight!=B.height;this.contentDOMHeight=B.height,this.mustMeasureContent=!1;let pe=0,he=0,ke=parseInt(r.paddingTop)||0,it=parseInt(r.paddingBottom)||0;(this.paddingTop!=ke||this.paddingBottom!=it)&&(this.paddingTop=ke,this.paddingBottom=it,pe|=10),this.editorWidth!=e.scrollDOM.clientWidth&&(l.lineWrapping&&(Y=!0),this.editorWidth=e.scrollDOM.clientWidth,pe|=8),this.scrollTop!=e.scrollDOM.scrollTop&&(this.scrollAnchorHeight=-1,this.scrollTop=e.scrollDOM.scrollTop),this.scrolledToBottom=this.scrollTop>e.scrollDOM.scrollHeight-e.scrollDOM.clientHeight-4;let pt=(this.printing?Fo:Ni)(t,this.paddingTop),kt=pt.top-this.pixelViewport.top,Jt=pt.bottom-this.pixelViewport.bottom;this.pixelViewport=pt;let Rt=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(Rt!=this.inView&&(this.inView=Rt,Rt&&(Y=!0)),!this.inView&&!this.scrollTarget)return 0;let sr=B.width;if((this.contentDOMWidth!=sr||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=B.width,this.editorHeight=e.scrollDOM.clientHeight,pe|=8),Y){let hn=e.docView.measureVisibleLineHeights(this.viewport);if(l.mustRefreshForHeights(hn)&&(A=!0),A||l.lineWrapping&&Math.abs(sr-this.contentDOMWidth)>l.charWidth){let{lineHeight:Dr,charWidth:nn,textHeight:qr}=e.docView.measureTextSize();A=Dr>0&&l.refresh(v,Dr,nn,qr,sr/nn,hn),A&&(e.docView.minWidth=0,pe|=8)}kt>0&&Jt>0?he=Math.max(kt,Jt):kt<0&&Jt<0&&(he=Math.min(kt,Jt)),l.heightChanged=!1;for(let Dr of this.viewports){let nn=Dr.from==this.viewport.from?hn:e.docView.measureVisibleLineHeights(Dr);this.heightMap=(A?Un.empty().applyChanges(this.stateDeco,s.xv.empty,this.heightOracle,[new be(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(l,0,A,new Vo(Dr.from,nn))}l.heightChanged&&(pe|=2)}let er=!this.viewportIsAppropriate(this.viewport,he)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return er&&(this.viewport=this.getViewport(he,this.scrollTarget)),this.updateForViewport(),(pe&2||er)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>2e3<<1)&&this.updateLineGaps(this.ensureLineGaps(A?[]:this.lineGaps,e)),pe|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),pe}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,t){let r=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),l=this.heightMap,v=this.heightOracle,{visibleTop:A,visibleBottom:B}=this,Y=new Jn(l.lineAt(A-r*1e3,Bn.ByHeight,v,0,0).from,l.lineAt(B+(1-r)*1e3,Bn.ByHeight,v,0,0).to);if(t){let{head:pe}=t.range;if(pe<Y.from||pe>Y.to){let he=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),ke=l.lineAt(pe,Bn.ByPos,v,0,0),it;t.y=="center"?it=(ke.top+ke.bottom)/2-he/2:t.y=="start"||t.y=="nearest"&&pe<Y.from?it=ke.top:it=ke.bottom-he,Y=new Jn(l.lineAt(it-1e3/2,Bn.ByHeight,v,0,0).from,l.lineAt(it+he+1e3/2,Bn.ByHeight,v,0,0).to)}}return Y}mapViewport(e,t){let r=t.mapPos(e.from,-1),l=t.mapPos(e.to,1);return new Jn(this.heightMap.lineAt(r,Bn.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(l,Bn.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:t},r=0){if(!this.inView)return!0;let{top:l}=this.heightMap.lineAt(e,Bn.ByPos,this.heightOracle,0,0),{bottom:v}=this.heightMap.lineAt(t,Bn.ByPos,this.heightOracle,0,0),{visibleTop:A,visibleBottom:B}=this;return(e==0||l<=A-Math.max(10,Math.min(-r,250)))&&(t==this.state.doc.length||v>=B+Math.max(10,Math.min(r,250)))&&l>A-2*1e3&&v<B+2*1e3}mapLineGaps(e,t){if(!e.length||t.empty)return e;let r=[];for(let l of e)t.touchesRange(l.from,l.to)||r.push(new Ei(t.mapPos(l.from),t.mapPos(l.to),l.size));return r}ensureLineGaps(e,t){let r=this.heightOracle.lineWrapping,l=r?1e4:2e3,v=l>>1,A=l<<1;if(this.defaultTextDirection!=je.LTR&&!r)return[];let B=[],Y=(pe,he,ke,it)=>{if(he-pe<v)return;let pt=this.state.selection.main,kt=[pt.from];pt.empty||kt.push(pt.to);for(let Rt of kt)if(Rt>pe&&Rt<he){Y(pe,Rt-10,ke,it),Y(Rt+10,he,ke,it);return}let Jt=go(e,Rt=>Rt.from>=ke.from&&Rt.to<=ke.to&&Math.abs(Rt.from-pe)<v&&Math.abs(Rt.to-he)<v&&!kt.some(sr=>Rt.from<sr&&Rt.to>sr));if(!Jt){if(he<ke.to&&t&&r&&t.visibleRanges.some(Rt=>Rt.from<=he&&Rt.to>=he)){let Rt=t.moveToLineBoundary(s.jT.cursor(he),!1,!0).head;Rt>pe&&(he=Rt)}Jt=new Ei(pe,he,this.gapSize(ke,pe,he,it))}B.push(Jt)};for(let pe of this.viewportLines){if(pe.length<A)continue;let he=Di(pe.from,pe.to,this.stateDeco);if(he.total<A)continue;let ke=this.scrollTarget?this.scrollTarget.range.head:null,it,pt;if(r){let kt=l/this.heightOracle.lineLength*this.heightOracle.lineHeight,Jt,Rt;if(ke!=null){let sr=Qn(he,ke),er=((this.visibleBottom-this.visibleTop)/2+kt)/pe.height;Jt=sr-er,Rt=sr+er}else Jt=(this.visibleTop-pe.top-kt)/pe.height,Rt=(this.visibleBottom-pe.top+kt)/pe.height;it=kr(he,Jt),pt=kr(he,Rt)}else{let kt=he.total*this.heightOracle.charWidth,Jt=l*this.heightOracle.charWidth,Rt,sr;if(ke!=null){let er=Qn(he,ke),hn=((this.pixelViewport.right-this.pixelViewport.left)/2+Jt)/kt;Rt=er-hn,sr=er+hn}else Rt=(this.pixelViewport.left-Jt)/kt,sr=(this.pixelViewport.right+Jt)/kt;it=kr(he,Rt),pt=kr(he,sr)}it>pe.from&&Y(pe.from,it,pe,he),pt<pe.to&&Y(pt,pe.to,pe,he)}return B}gapSize(e,t,r,l){let v=Qn(l,r)-Qn(l,t);return this.heightOracle.lineWrapping?e.height*v:l.total*this.heightOracle.charWidth*v}updateLineGaps(e){Ei.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=cr.set(e.map(t=>t.draw(this.heightOracle.lineWrapping))))}computeVisibleRanges(){let e=this.stateDeco;this.lineGaps.length&&(e=e.concat(this.lineGapDeco));let t=[];s.Xs.spans(e,this.viewport.from,this.viewport.to,{span(l,v){t.push({from:l,to:v})},point(){}},20);let r=t.length!=this.visibleRanges.length||this.visibleRanges.some((l,v)=>l.from!=t[v].from||l.to!=t[v].to);return this.visibleRanges=t,r?4:0}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(t=>t.from<=e&&t.to>=e)||Fn(this.heightMap.lineAt(e,Bn.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return Fn(this.heightMap.lineAt(this.scaler.fromDOM(e),Bn.ByHeight,this.heightOracle,0,0),this.scaler)}elementAtHeight(e){return Fn(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class Jn{constructor(e,t){this.from=e,this.to=t}}function Di(a,e,t){let r=[],l=a,v=0;return s.Xs.spans(t,a,e,{span(){},point(A,B){A>l&&(r.push({from:l,to:A}),v+=A-l),l=B}},20),l<e&&(r.push({from:l,to:e}),v+=e-l),{total:v,ranges:r}}function kr({total:a,ranges:e},t){if(t<=0)return e[0].from;if(t>=1)return e[e.length-1].to;let r=Math.floor(a*t);for(let l=0;;l++){let{from:v,to:A}=e[l],B=A-v;if(r<=B)return v+r;r-=B}}function Qn(a,e){let t=0;for(let{from:r,to:l}of a.ranges){if(e<=l){t+=e-r;break}t+=l-r}return t/a.total}function go(a,e){for(let t of a)if(e(t))return t}const rs={toDOM(a){return a},fromDOM(a){return a},scale:1};class Hs{constructor(e,t,r){let l=0,v=0,A=0;this.viewports=r.map(({from:B,to:Y})=>{let pe=t.lineAt(B,Bn.ByPos,e,0,0).top,he=t.lineAt(Y,Bn.ByPos,e,0,0).bottom;return l+=he-pe,{from:B,to:Y,top:pe,bottom:he,domTop:0,domBottom:0}}),this.scale=(7e6-l)/(t.height-l);for(let B of this.viewports)B.domTop=A+(B.top-v)*this.scale,A=B.domBottom=B.domTop+(B.bottom-B.top),v=B.bottom}toDOM(e){for(let t=0,r=0,l=0;;t++){let v=t<this.viewports.length?this.viewports[t]:null;if(!v||e<v.top)return l+(e-r)*this.scale;if(e<=v.bottom)return v.domTop+(e-v.top);r=v.bottom,l=v.domBottom}}fromDOM(e){for(let t=0,r=0,l=0;;t++){let v=t<this.viewports.length?this.viewports[t]:null;if(!v||e<v.domTop)return r+(e-l)/this.scale;if(e<=v.domBottom)return v.top+(e-v.domTop);r=v.bottom,l=v.domBottom}}}function Fn(a,e){if(e.scale==1)return a;let t=e.toDOM(a.top),r=e.toDOM(a.bottom);return new gi(a.from,a.length,t,r-t,Array.isArray(a._content)?a._content.map(l=>Fn(l,e)):a._content)}const ns=s.r$.define({combine:a=>a.join(" ")}),is=s.r$.define({combine:a=>a.indexOf(!0)>-1}),os=p.V.newName(),Ts=p.V.newName(),_s=p.V.newName(),bt={"&light":"."+Ts,"&dark":"."+_s};function at(a,e,t){return new p.V(e,{finish(r){return/&/.test(r)?r.replace(/&\w*/,l=>{if(l=="&")return a;if(!t||!t[l])throw new RangeError(`Unsupported selector: ${l}`);return t[l]}):a+" "+r}})}const Zi=at("."+os,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",left:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace:before":{content:"attr(data-display)",position:"absolute",pointerEvents:"none",color:"#888"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},bt);class Li{constructor(e,t,r,l){this.typeOver=l,this.bounds=null,this.text="";let{impreciseHead:v,impreciseAnchor:A}=e.docView;if(e.state.readOnly&&t>-1)this.newSel=null;else if(t>-1&&(this.bounds=e.docView.domBoundsAround(t,r,0))){let B=v||A?[]:gr(e),Y=new Mo(B,e.state);Y.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=Y.text,this.newSel=Hr(B,this.bounds.from)}else{let B=e.observer.selectionRange,Y=v&&v.node==B.focusNode&&v.offset==B.focusOffset||!z(e.contentDOM,B.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(B.focusNode,B.focusOffset),pe=A&&A.node==B.anchorNode&&A.offset==B.anchorOffset||!z(e.contentDOM,B.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(B.anchorNode,B.anchorOffset);this.newSel=s.jT.single(pe,Y)}}}function zr(a,e){let t,{newSel:r}=e,l=a.state.selection.main,v=a.inputState.lastKeyTime>Date.now()-100?a.inputState.lastKeyCode:-1;if(e.bounds){let{from:A,to:B}=e.bounds,Y=l.from,pe=null;(v===8||ie.android&&e.text.length<B-A)&&(Y=l.to,pe="end");let he=wr(a.state.doc.sliceString(A,B,Ri),e.text,Y-A,pe);he&&(ie.chrome&&v==13&&he.toB==he.from+2&&e.text.slice(he.from,he.toB)==Ri+Ri&&he.toB--,t={from:A+he.from,to:A+he.toA,insert:s.xv.of(e.text.slice(he.from,he.toB).split(Ri))})}else r&&(!a.hasFocus&&a.state.facet(sn)||r.main.eq(l))&&(r=null);if(!t&&!r)return!1;if(!t&&e.typeOver&&!l.empty&&r&&r.main.empty?t={from:l.from,to:l.to,insert:a.state.doc.slice(l.from,l.to)}:t&&t.from>=l.from&&t.to<=l.to&&(t.from!=l.from||t.to!=l.to)&&l.to-l.from-(t.to-t.from)<=4?t={from:l.from,to:l.to,insert:a.state.doc.slice(l.from,t.from).append(t.insert).append(a.state.doc.slice(t.to,l.to))}:(ie.mac||ie.android)&&t&&t.from==t.to&&t.from==l.head-1&&/^\. ?$/.test(t.insert.toString())&&a.contentDOM.getAttribute("autocorrect")=="off"?(r&&t.insert.length==2&&(r=s.jT.single(r.main.anchor-1,r.main.head-1)),t={from:l.from,to:l.to,insert:s.xv.of([" "])}):ie.chrome&&t&&t.from==t.to&&t.from==l.head&&t.insert.toString()==`
 `&&a.lineWrapping&&(r&&(r=s.jT.single(r.main.anchor-1,r.main.head-1)),t={from:l.from,to:l.to,insert:s.xv.of([" "])}),t){let A=a.state;if(ie.ios&&a.inputState.flushIOSKey(a)||ie.android&&(t.from==l.from&&t.to==l.to&&t.insert.length==1&&t.insert.lines==2&&Ge(a.contentDOM,"Enter",13)||(t.from==l.from-1&&t.to==l.to&&t.insert.length==0||v==8&&t.insert.length<t.to-t.from)&&Ge(a.contentDOM,"Backspace",8)||t.from==l.from&&t.to==l.to+1&&t.insert.length==0&&Ge(a.contentDOM,"Delete",46)))return!0;let B=t.insert.toString();if(a.state.facet(mn).some(he=>he(a,t.from,t.to,B)))return!0;a.inputState.composing>=0&&a.inputState.composing++;let Y;if(t.from>=l.from&&t.to<=l.to&&t.to-t.from>=(l.to-l.from)/3&&(!r||r.main.empty&&r.main.from==t.from+t.insert.length)&&a.inputState.composing<0){let he=l.from<t.from?A.sliceDoc(l.from,t.from):"",ke=l.to>t.to?A.sliceDoc(t.to,l.to):"";Y=A.replaceSelection(a.state.toText(he+t.insert.sliceString(0,void 0,a.state.lineBreak)+ke))}else{let he=A.changes(t),ke=r&&r.main.to<=he.newLength?r.main:void 0;if(A.selection.ranges.length>1&&a.inputState.composing>=0&&t.to<=l.to&&t.to>=l.to-10){let it=a.state.sliceDoc(t.from,t.to),pt=Fe(a)||a.state.doc.lineAt(l.head),kt=l.to-t.to,Jt=l.to-l.from;Y=A.changeByRange(Rt=>{if(Rt.from==l.from&&Rt.to==l.to)return{changes:he,range:ke||Rt.map(he)};let sr=Rt.to-kt,er=sr-it.length;if(Rt.to-Rt.from!=Jt||a.state.sliceDoc(er,sr)!=it||pt&&Rt.to>=pt.from&&Rt.from<=pt.to)return{range:Rt};let hn=A.changes({from:er,to:sr,insert:t.insert}),Dr=Rt.to-l.to;return{changes:hn,range:ke?s.jT.range(Math.max(0,ke.anchor+Dr),Math.max(0,ke.head+Dr)):Rt.map(hn)}})}else Y={changes:he,selection:ke&&A.selection.replaceRange(ke)}}let pe="input.type";return(a.composing||a.inputState.compositionPendingChange&&a.inputState.compositionEndedAt>Date.now()-50)&&(a.inputState.compositionPendingChange=!1,pe+=".compose",a.inputState.compositionFirstChange&&(pe+=".start",a.inputState.compositionFirstChange=!1)),a.dispatch(Y,{scrollIntoView:!0,userEvent:pe}),!0}else if(r&&!r.main.eq(l)){let A=!1,B="select";return a.inputState.lastSelectionTime>Date.now()-50&&(a.inputState.lastSelectionOrigin=="select"&&(A=!0),B=a.inputState.lastSelectionOrigin),a.dispatch({selection:r,scrollIntoView:A,userEvent:B}),!0}else return!1}function wr(a,e,t,r){let l=Math.min(a.length,e.length),v=0;for(;v<l&&a.charCodeAt(v)==e.charCodeAt(v);)v++;if(v==l&&a.length==e.length)return null;let A=a.length,B=e.length;for(;A>0&&B>0&&a.charCodeAt(A-1)==e.charCodeAt(B-1);)A--,B--;if(r=="end"){let Y=Math.max(0,v-Math.min(A,B));t-=A+Y-v}if(A<v&&a.length<e.length){let Y=t<=v&&t>=A?v-t:0;v-=Y,B=v+(B-A),A=v}else if(B<v){let Y=t<=v&&t>=B?v-t:0;v-=Y,A=v+(A-B),B=v}return{from:v,toA:A,toB:B}}function gr(a){let e=[];if(a.root.activeElement!=a.contentDOM)return e;let{anchorNode:t,anchorOffset:r,focusNode:l,focusOffset:v}=a.observer.selectionRange;return t&&(e.push(new Ee(t,r)),(l!=t||v!=r)&&e.push(new Ee(l,v))),e}function Hr(a,e){if(a.length==0)return null;let t=a[0].pos,r=a.length==2?a[1].pos:t;return t>-1&&r>-1?s.jT.single(t+e,r+e):null}const wn={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},xn=ie.ie&&ie.ie_version<=11;class di{constructor(e){this.view=e,this.active=!1,this.selectionRange=new $,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.resizeContent=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(t=>{for(let r of t)this.queue.push(r);(ie.ie&&ie.ie_version<=11||ie.ios&&e.composing)&&t.some(r=>r.type=="childList"&&r.removedNodes.length||r.type=="characterData"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),xn&&(this.onCharData=t=>{this.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var t;((t=this.view.docView)===null||t===void 0?void 0:t.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM),this.resizeContent=new ResizeObserver(()=>this.view.requestMeasure()),this.resizeContent.observe(e.contentDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(t=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),t.length>0&&t[t.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(t=>{t.length>0&&t[t.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runScrollHandlers(this.view,e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(){this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500)}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((t,r)=>t!=e[r]))){this.gapIntersection.disconnect();for(let t of e)this.gapIntersection.observe(t);this.gaps=e}}onSelectionChange(e){let t=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:r}=this,l=this.selectionRange;if(r.state.facet(sn)?r.root.activeElement!=this.dom:!ne(r.dom,l))return;let v=l.anchorNode&&r.docView.nearest(l.anchorNode);if(v&&v.ignoreEvent(e)){t||(this.selectionChanged=!1);return}(ie.ie&&ie.ie_version<=11||ie.android&&ie.chrome)&&!r.state.selection.main.empty&&l.focusNode&&ve(l.focusNode,l.focusOffset,l.anchorNode,l.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,t=ie.safari&&e.root.nodeType==11&&re(this.dom.ownerDocument)==this.dom&&yo(this.view)||G(e.root);if(!t||this.selectionRange.eq(t))return!1;let r=ne(this.dom,t);return r&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&He(this.dom,t)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(t),r&&(this.selectionChanged=!0),!0)}setSelectionRange(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,t=null;for(let r=this.dom;r;)if(r.nodeType==1)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==r?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(r),r=r.assignedSlot||r.parentNode;else if(r.nodeType==11)r=r.host;else break;if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);for(let r of this.scrollTargets=t)r.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,wn),xn&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),xn&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,t){var r;if(!this.delayedAndroidKey){let l=()=>{let v=this.delayedAndroidKey;v&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=v.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&v.force&&Ge(this.dom,v.key,v.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(l)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:t,force:this.lastChange<Date.now()-50||!!(!((r=this.delayedAndroidKey)===null||r===void 0)&&r.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let t=-1,r=-1,l=!1;for(let v of e){let A=this.readMutation(v);A&&(A.typeOver&&(l=!0),t==-1?{from:t,to:r}=A:(t=Math.min(A.from,t),r=Math.max(A.to,r)))}return{from:t,to:r,typeOver:l}}readChange(){let{from:e,to:t,typeOver:r}=this.processRecords(),l=this.selectionChanged&&ne(this.dom,this.selectionRange);return e<0&&!l?null:(e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1,new Li(this.view,e,t,r))}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let t=this.readChange();if(!t)return!1;let r=this.view.state,l=zr(this.view,t);return this.view.state==r&&this.view.update([]),l}readMutation(e){let t=this.view.docView.nearest(e.target);if(!t||t.ignoreMutation(e))return null;if(t.markDirty(e.type=="attributes"),e.type=="attributes"&&(t.dirty|=4),e.type=="childList"){let r=yi(t,e.previousSibling||e.target.previousSibling,-1),l=yi(t,e.nextSibling||e.target.nextSibling,1);return{from:r?t.posAfter(r):t.posAtStart,to:l?t.posBefore(l):t.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}destroy(){var e,t,r,l;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(t=this.gapIntersection)===null||t===void 0||t.disconnect(),(r=this.resizeScroll)===null||r===void 0||r.disconnect(),(l=this.resizeContent)===null||l===void 0||l.disconnect();for(let v of this.scrollTargets)v.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey)}}function yi(a,e,t){for(;e;){let r=dt.get(e);if(r&&r.parent==a)return r;let l=e.parentNode;e=l!=a.dom?l:t>0?e.nextSibling:e.previousSibling}return null}function yo(a){let e=null;function t(Y){Y.preventDefault(),Y.stopImmediatePropagation(),e=Y.getTargetRanges()[0]}if(a.contentDOM.addEventListener("beforeinput",t,!0),a.dom.ownerDocument.execCommand("indent"),a.contentDOM.removeEventListener("beforeinput",t,!0),!e)return null;let r=e.startContainer,l=e.startOffset,v=e.endContainer,A=e.endOffset,B=a.docView.domAtPos(a.state.selection.main.anchor);return ve(B.node,B.offset,v,A)&&([r,l,v,A]=[v,A,r,l]),{anchorNode:r,anchorOffset:l,focusNode:v,focusOffset:A}}class jn{constructor(e={}){this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.style.cssText="position: fixed; top: -10000px",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),this._dispatch=e.dispatch||(t=>this.update([t])),this.dispatch=this.dispatch.bind(this),this._root=e.root||lt(e.parent)||document,this.viewState=new xo(e.state||s.yy.create(e)),this.plugins=this.state.facet(En).map(t=>new oi(t));for(let t of this.plugins)t.update(this);this.observer=new di(this),this.inputState=new Hn(this),this.inputState.ensureHandlers(this,this.plugins),this.docView=new F(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),e.parent&&e.parent.appendChild(this.dom)}get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}dispatch(...e){let t=e.length==1&&e[0]instanceof s.YW?e[0]:this.state.update(...e);this._dispatch(t,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let t=!1,r=!1,l,v=this.state;for(let it of e){if(it.startState!=v)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");v=it.state}if(this.destroyed){this.viewState.state=v;return}let A=this.hasFocus,B=0,Y=null;e.some(it=>it.annotation(Uo))?(this.inputState.notifiedFocused=A,B=1):A!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=A,Y=eo(v,A),Y||(B=1));let pe=this.observer.delayedAndroidKey,he=null;if(pe?(this.observer.clearDelayedAndroidKey(),he=this.observer.readChange(),(he&&!this.state.doc.eq(v.doc)||!this.state.selection.eq(v.selection))&&(he=null)):this.observer.clear(),v.facet(s.yy.phrases)!=this.state.facet(s.yy.phrases))return this.setState(v);l=Ke.create(this,v,e),l.flags|=B;let ke=this.viewState.scrollTarget;try{this.updateState=2;for(let it of e){if(ke&&(ke=ke.map(it.changes)),it.scrollIntoView){let{main:pt}=it.state.selection;ke=new cn(pt.empty?pt:s.jT.cursor(pt.head,pt.head>pt.anchor?-1:1))}for(let pt of it.effects)pt.is(Yr)&&(ke=pt.value)}this.viewState.update(l,ke),this.bidiCache=Js.update(this.bidiCache,l.changes),l.empty||(this.updatePlugins(l),this.inputState.update(l)),t=this.docView.update(l),this.state.facet(xe)!=this.styleModules&&this.mountStyles(),r=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(t,e.some(it=>it.isUserEvent("select.pointer")))}finally{this.updateState=0}if(l.startState.facet(ns)!=l.state.facet(ns)&&(this.viewState.mustMeasureContent=!0),(t||r||ke||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),!l.empty)for(let it of this.state.facet(ln))it(l);(Y||he)&&Promise.resolve().then(()=>{Y&&this.state==Y.startState&&this.dispatch(Y),he&&!zr(this,he)&&pe.force&&Ge(this.contentDOM,pe.key,pe.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let t=this.hasFocus;try{for(let r of this.plugins)r.destroy(this);this.viewState=new xo(e),this.plugins=e.facet(En).map(r=>new oi(r)),this.pluginMap.clear();for(let r of this.plugins)r.update(this);this.docView=new F(this),this.inputState.ensureHandlers(this,this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}t&&this.focus(),this.requestMeasure()}updatePlugins(e){let t=e.startState.facet(En),r=e.state.facet(En);if(t!=r){let l=[];for(let v of r){let A=t.indexOf(v);if(A<0)l.push(new oi(v));else{let B=this.plugins[A];B.mustUpdate=e,l.push(B)}}for(let v of this.plugins)v.mustUpdate!=e&&v.destroy(this);this.plugins=l,this.pluginMap.clear(),this.inputState.ensureHandlers(this,this.plugins)}else for(let l of this.plugins)l.mustUpdate=e;for(let l=0;l<this.plugins.length;l++)this.plugins[l].update(this)}measure(e=!0){if(this.destroyed)return;this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.measureScheduled=0,e&&this.observer.forceFlush();let t=null,r=this.scrollDOM,{scrollTop:l}=r,{scrollAnchorPos:v,scrollAnchorHeight:A}=this.viewState;if(this.viewState.scrollAnchorHeight=-1,A<0||l!=this.viewState.scrollTop)if(l>r.scrollHeight-r.clientHeight-4)v=-1,A=this.viewState.heightMap.height;else{let B=this.viewState.lineBlockAtHeight(l);v=B.from,A=B.top}try{for(let B=0;;B++){this.updateState=1;let Y=this.viewport,pe=this.viewState.measure(this);if(!pe&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(B>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let he=[];pe&4||([this.measureRequests,he]=[he,this.measureRequests]);let ke=he.map(Jt=>{try{return Jt.read(this)}catch(Rt){return yn(this.state,Rt),Ds}}),it=Ke.create(this,this.state,[]),pt=!1,kt=!1;it.flags|=pe,t?t.flags|=pe:t=it,this.updateState=2,it.empty||(this.updatePlugins(it),this.inputState.update(it),this.updateAttrs(),pt=this.docView.update(it));for(let Jt=0;Jt<he.length;Jt++)if(ke[Jt]!=Ds)try{let Rt=he[Jt];Rt.write&&Rt.write(ke[Jt],this)}catch(Rt){yn(this.state,Rt)}if(this.viewState.editorHeight){if(this.viewState.scrollTarget)this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,kt=!0;else if(A>-1){let Rt=(v<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(v).top)-A;(Rt>1||Rt<-1)&&(r.scrollTop=l+Rt,kt=!0)}}if(pt&&this.docView.updateSelection(!0),this.viewport.from==Y.from&&this.viewport.to==Y.to&&!kt&&this.measureRequests.length==0)break;A=-1}}finally{this.updateState=0,this.measureScheduled=-1}if(t&&!t.empty)for(let B of this.state.facet(ln))B(t)}get themeClasses(){return os+" "+(this.state.facet(is)?_s:Ts)+" "+this.state.facet(ns)}updateAttrs(){let e=zo(this,zi,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),t={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(sn)?"true":"false",class:"cm-content",style:`${ie.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(t["aria-readonly"]="true"),zo(this,Pe,t);let r=this.observer.ignore(()=>{let l=yr(this.contentDOM,this.contentAttrs,t),v=yr(this.dom,this.editorAttrs,e);return l||v});return this.editorAttrs=e,this.contentAttrs=t,r}showAnnouncements(e){let t=!0;for(let r of e)for(let l of r.effects)if(l.is(jn.announce)){t&&(this.announceDOM.textContent=""),t=!1;let v=this.announceDOM.appendChild(document.createElement("div"));v.textContent=l.value}}mountStyles(){this.styleModules=this.state.facet(xe),p.V.mount(this.root,this.styleModules.concat(Zi).reverse())}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let t=0;t<this.measureRequests.length;t++)if(this.measureRequests[t].key===e.key){this.measureRequests[t]=e;return}}this.measureRequests.push(e)}}plugin(e){let t=this.pluginMap.get(e);return(t===void 0||t&&t.spec!=e)&&this.pluginMap.set(e,t=this.plugins.find(r=>r.spec==e)||null),t&&t.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,t,r){return ai(this,e,nr(this,e,t,r))}moveByGroup(e,t){return ai(this,e,nr(this,e,t,r=>Ur(this,e.head,r)))}moveToLineBoundary(e,t,r=!0){return Kt(this,e,t,r)}moveVertically(e,t,r){return ai(this,e,Fr(this,e,t,r))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,t=0){return this.docView.posFromDOM(e,t)}posAtCoords(e,t=!0){return this.readMeasured(),Wo(this,e,t)}coordsAtPos(e,t=1){this.readMeasured();let r=this.docView.coordsAt(e,t);if(!r||r.left==r.right)return r;let l=this.state.doc.lineAt(e),v=this.bidiSpans(l),A=v[Ii.find(v,e-l.from,-1,t)];return X(r,A.dir==je.LTR==t>0)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(gn)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>Vn)return So(e.length);let t=this.textDirectionAt(e.from);for(let l of this.bidiCache)if(l.from==e.from&&l.dir==t)return l.order;let r=Bo(e.text,t);return this.bidiCache.push(new Js(e.from,e.to,t,r)),r}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||ie.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{Ie(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,t={}){return Yr.of(new cn(typeof e=="number"?s.jT.cursor(e):e,t.y,t.x,t.yMargin,t.xMargin))}static domEventHandlers(e){return bn.define(()=>({}),{eventHandlers:e})}static theme(e,t){let r=p.V.newName(),l=[ns.of(r),xe.of(at(`.${r}`,e))];return t&&t.dark&&l.push(is.of(!0)),l}static baseTheme(e){return s.Wl.lowest(xe.of(at("."+os,e,bt)))}static findFromDOM(e){var t;let r=e.querySelector(".cm-content"),l=r&&dt.get(r)||dt.get(e);return((t=l==null?void 0:l.rootView)===null||t===void 0?void 0:t.view)||null}}jn.styleModule=xe,jn.inputHandler=mn,jn.focusChangeEffect=vn,jn.perLineTextDirection=gn,jn.exceptionSink=Nr,jn.updateListener=ln,jn.editable=sn,jn.mouseSelectionStyle=fn,jn.dragMovesSelection=Xr,jn.clickAddsSelectionRange=Rr,jn.decorations=y,jn.atomicRanges=T,jn.scrollMargins=V,jn.darkTheme=is,jn.contentAttributes=Pe,jn.editorAttributes=zi,jn.lineWrapping=jn.contentAttributes.of({class:"cm-lineWrapping"}),jn.announce=s.Py.define();const Vn=4096,Ds={};class Js{constructor(e,t,r,l){this.from=e,this.to=t,this.dir=r,this.order=l}static update(e,t){if(t.empty)return e;let r=[],l=e.length?e[e.length-1].dir:je.LTR;for(let v=Math.max(0,e.length-10);v<e.length;v++){let A=e[v];A.dir==l&&!t.touchesRange(A.from,A.to)&&r.push(new Js(t.mapPos(A.from,1),t.mapPos(A.to,-1),A.dir,A.order))}return r}}function zo(a,e,t){for(let r=a.state.facet(e),l=r.length-1;l>=0;l--){let v=r[l],A=typeof v=="function"?v(a):v;A&&Ft(A,t)}return t}const ks=ie.mac?"mac":ie.windows?"win":ie.linux?"linux":"key";function qa(a,e){const t=a.split(/-(?!$)/);let r=t[t.length-1];r=="Space"&&(r=" ");let l,v,A,B;for(let Y=0;Y<t.length-1;++Y){const pe=t[Y];if(/^(cmd|meta|m)$/i.test(pe))B=!0;else if(/^a(lt)?$/i.test(pe))l=!0;else if(/^(c|ctrl|control)$/i.test(pe))v=!0;else if(/^s(hift)?$/i.test(pe))A=!0;else if(/^mod$/i.test(pe))e=="mac"?B=!0:v=!0;else throw new Error("Unrecognized modifier name: "+pe)}return l&&(r="Alt-"+r),v&&(r="Ctrl-"+r),B&&(r="Meta-"+r),A&&(r="Shift-"+r),r}function Gs(a,e,t){return e.altKey&&(a="Alt-"+a),e.ctrlKey&&(a="Ctrl-"+a),e.metaKey&&(a="Meta-"+a),t!==!1&&e.shiftKey&&(a="Shift-"+a),a}const jo=s.Wl.default(jn.domEventHandlers({keydown(a,e){return Ms(ss(e.state),a,e,"editor")}})),vo=s.r$.define({enables:jo}),to=new WeakMap;function ss(a){let e=a.facet(vo),t=to.get(e);return t||to.set(e,t=_a(e.reduce((r,l)=>r.concat(l),[]))),t}function Ys(a,e,t){return Ms(ss(a.state),e,a,t)}let Ss=null;const Ta=4e3;function _a(a,e=ks){let t=Object.create(null),r=Object.create(null),l=(A,B)=>{let Y=r[A];if(Y==null)r[A]=B;else if(Y!=B)throw new Error("Key binding "+A+" is used both as a regular binding and as a multi-stroke prefix")},v=(A,B,Y,pe)=>{var he,ke;let it=t[A]||(t[A]=Object.create(null)),pt=B.split(/ (?!$)/).map(Rt=>qa(Rt,e));for(let Rt=1;Rt<pt.length;Rt++){let sr=pt.slice(0,Rt).join(" ");l(sr,!0),it[sr]||(it[sr]={preventDefault:!0,run:[er=>{let hn=Ss={view:er,prefix:sr,scope:A};return setTimeout(()=>{Ss==hn&&(Ss=null)},Ta),!0}]})}let kt=pt.join(" ");l(kt,!1);let Jt=it[kt]||(it[kt]={preventDefault:!1,run:((ke=(he=it._any)===null||he===void 0?void 0:he.run)===null||ke===void 0?void 0:ke.slice())||[]});Y&&Jt.run.push(Y),pe&&(Jt.preventDefault=!0)};for(let A of a){let B=A.scope?A.scope.split(" "):["editor"];if(A.any)for(let pe of B){let he=t[pe]||(t[pe]=Object.create(null));he._any||(he._any={preventDefault:!1,run:[]});for(let ke in he)he[ke].run.push(A.any)}let Y=A[e]||A.key;if(Y)for(let pe of B)v(pe,Y,A.run,A.preventDefault),A.shift&&v(pe,"Shift-"+Y,A.shift,A.preventDefault)}return t}function Ms(a,e,t,r){let l=I(e),v=(0,s.gm)(l,0),A=(0,s.nZ)(v)==l.length&&l!=" ",B="",Y=!1;Ss&&Ss.view==t&&Ss.scope==r&&(B=Ss.prefix+" ",(Y=tn.indexOf(e.keyCode)<0)&&(Ss=null));let pe=new Set,he=kt=>{if(kt){for(let Jt of kt.run)if(!pe.has(Jt)&&(pe.add(Jt),Jt(t,e)))return!0;kt.preventDefault&&(Y=!0)}return!1},ke=a[r],it,pt;if(ke){if(he(ke[B+Gs(l,e,!A)]))return!0;if(A&&(e.altKey||e.metaKey||e.ctrlKey)&&!(ie.windows&&e.ctrlKey&&e.altKey)&&(it=R[e.keyCode])&&it!=l){if(he(ke[B+Gs(it,e,!0)]))return!0;if(e.shiftKey&&(pt=O[e.keyCode])!=l&&pt!=it&&he(ke[B+Gs(pt,e,!1)]))return!0}else if(A&&e.shiftKey&&he(ke[B+Gs(l,e,!0)]))return!0;if(he(ke._any))return!0}return Y}class Es{constructor(e,t,r,l,v){this.className=e,this.left=t,this.top=r,this.width=l,this.height=v}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,t){return t.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,t,r){if(r.empty){let l=e.coordsAtPos(r.head,r.assoc||1);if(!l)return[];let v=ba(e);return[new Es(t,l.left-v.left,l.top-v.top,null,l.bottom-l.top)]}else return $s(e,t,r)}}function ba(a){let e=a.scrollDOM.getBoundingClientRect();return{left:(a.textDirection==je.LTR?e.left:e.right-a.scrollDOM.clientWidth)-a.scrollDOM.scrollLeft,top:e.top-a.scrollDOM.scrollTop}}function No(a,e,t){let r=s.jT.cursor(e);return{from:Math.max(t.from,a.moveToLineBoundary(r,!1,!0).from),to:Math.min(t.to,a.moveToLineBoundary(r,!0,!0).from),type:pr.Text}}function $s(a,e,t){if(t.to<=a.viewport.from||t.from>=a.viewport.to)return[];let r=Math.max(t.from,a.viewport.from),l=Math.min(t.to,a.viewport.to),v=a.textDirection==je.LTR,A=a.contentDOM,B=A.getBoundingClientRect(),Y=ba(a),pe=A.querySelector(".cm-line"),he=pe&&window.getComputedStyle(pe),ke=B.left+(he?parseInt(he.paddingLeft)+Math.min(0,parseInt(he.textIndent)):0),it=B.right-(he?parseInt(he.paddingRight):0),pt=Bt(a,r),kt=Bt(a,l),Jt=pt.type==pr.Text?pt:null,Rt=kt.type==pr.Text?kt:null;if(Jt&&(a.lineWrapping||pt.widgetLineBreaks)&&(Jt=No(a,r,Jt)),Rt&&(a.lineWrapping||kt.widgetLineBreaks)&&(Rt=No(a,l,Rt)),Jt&&Rt&&Jt.from==Rt.from)return er(hn(t.from,t.to,Jt));{let nn=Jt?hn(t.from,null,Jt):Dr(pt,!1),qr=Rt?hn(null,t.to,Rt):Dr(kt,!0),hi=[];return(Jt||pt).to<(Rt||kt).from-(Jt&&Rt?1:0)||pt.widgetLineBreaks>1&&nn.bottom+a.defaultLineHeight/2<qr.top?hi.push(sr(ke,nn.bottom,it,qr.top)):nn.bottom<qr.top&&a.elementAtHeight((nn.bottom+qr.top)/2).type==pr.Text&&(nn.bottom=qr.top=(nn.bottom+qr.top)/2),er(nn).concat(hi).concat(er(qr))}function sr(nn,qr,hi,ro){return new Es(e,nn-Y.left,qr-Y.top-.01,hi-nn,ro-qr+.01)}function er({top:nn,bottom:qr,horizontal:hi}){let ro=[];for(let ho=0;ho<hi.length;ho+=2)ro.push(sr(hi[ho],nn,hi[ho+1],qr));return ro}function hn(nn,qr,hi){let ro=1e9,ho=-1e9,Cs=[];function ia(Us,oa,sa,xa,Ua){let Ca=a.coordsAtPos(Us,Us==hi.to?-2:2),ha=a.coordsAtPos(sa,sa==hi.from?2:-2);!Ca||!ha||(ro=Math.min(Ca.top,ha.top,ro),ho=Math.max(Ca.bottom,ha.bottom,ho),Ua==je.LTR?Cs.push(v&&oa?ke:Ca.left,v&&xa?it:ha.right):Cs.push(!v&&xa?ke:ha.left,!v&&oa?it:Ca.right))}let Zs=nn!=null?nn:hi.from,Za=qr!=null?qr:hi.to;for(let Us of a.visibleRanges)if(Us.to>Zs&&Us.from<Za)for(let oa=Math.max(Us.from,Zs),sa=Math.min(Us.to,Za);;){let xa=a.state.doc.lineAt(oa);for(let Ua of a.bidiSpans(xa)){let Ca=Ua.from+xa.from,ha=Ua.to+xa.from;if(Ca>=sa)break;ha>oa&&ia(Math.max(Ca,oa),nn==null&&Ca<=Zs,Math.min(ha,sa),qr==null&&ha>=Za,Ua.dir)}if(oa=xa.to+1,oa>=sa)break}return Cs.length==0&&ia(Zs,nn==null,Za,qr==null,a.textDirection),{top:ro,bottom:ho,horizontal:Cs}}function Dr(nn,qr){let hi=B.top+(qr?nn.top:nn.bottom);return{top:hi,bottom:hi,horizontal:[]}}}function Xs(a,e){return a.constructor==e.constructor&&a.eq(e)}class Da{constructor(e,t){this.view=e,this.layer=t,this.drawn=[],this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),t.above&&this.dom.classList.add("cm-layer-above"),t.class&&this.dom.classList.add(t.class),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),t.mount&&t.mount(this.dom,e)}update(e){e.startState.facet(as)!=e.state.facet(as)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&e.view.requestMeasure(this.measureReq)}setOrder(e){let t=0,r=e.facet(as);for(;t<r.length&&r[t]!=this.layer;)t++;this.dom.style.zIndex=String((this.layer.above?150:-1)-t)}measure(){return this.layer.markers(this.view)}draw(e){if(e.length!=this.drawn.length||e.some((t,r)=>!Xs(t,this.drawn[r]))){let t=this.dom.firstChild,r=0;for(let l of e)l.update&&t&&l.constructor&&this.drawn[r].constructor&&l.update(t,this.drawn[r])?(t=t.nextSibling,r++):this.dom.insertBefore(l.draw(),t);for(;t;){let l=t.nextSibling;t.remove(),t=l}this.drawn=e}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const as=s.r$.define();function Is(a){return[bn.define(e=>new Da(e,a)),as.of(a)]}const uo=!ie.ios,Ho=s.r$.define({combine(a){return(0,s.BO)(a,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,t)=>Math.min(e,t),drawRangeCursor:(e,t)=>e||t})}});function Ui(a={}){return[Ho.of(a),Rs,Jo,ka,un.of(!0)]}function ls(a){return a.startState.facet(Ho)!=a.state.facet(Ho)}const Rs=Is({above:!0,markers(a){let{state:e}=a,t=e.facet(Ho),r=[];for(let l of e.selection.ranges){let v=l==e.selection.main;if(l.empty?!v||uo:t.drawRangeCursor){let A=v?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",B=l.empty?l:s.jT.cursor(l.head,l.head>l.anchor?-1:1);for(let Y of Es.forRange(a,A,B))r.push(Y)}}return r},update(a,e){a.transactions.some(r=>r.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let t=ls(a);return t&&Sa(a.state,e),a.docChanged||a.selectionSet||t},mount(a,e){Sa(e.state,a)},class:"cm-cursorLayer"});function Sa(a,e){e.style.animationDuration=a.facet(Ho).cursorBlinkRate+"ms"}const Jo=Is({above:!1,markers(a){return a.state.selection.ranges.map(e=>e.empty?[]:Es.forRange(a,"cm-selectionBackground",e)).reduce((e,t)=>e.concat(t))},update(a,e){return a.docChanged||a.selectionSet||a.viewportChanged||ls(a)},class:"cm-selectionLayer"}),xi={".cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"}}};uo&&(xi[".cm-line"].caretColor="transparent !important");const ka=s.Wl.highest(jn.theme(xi)),Qs=s.Py.define({map(a,e){return a==null?null:e.mapPos(a)}}),qs=s.QQ.define({create(){return null},update(a,e){return a!=null&&(a=e.changes.mapPos(a)),e.effects.reduce((t,r)=>r.is(Qs)?r.value:t,a)}}),ws=bn.fromClass(class{constructor(a){this.view=a,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(a){var e;let t=a.state.field(qs);t==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(a.startState.field(qs)!=t||a.docChanged||a.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let a=this.view.state.field(qs),e=a!=null&&this.view.coordsAtPos(a);if(!e)return null;let t=this.view.scrollDOM.getBoundingClientRect();return{left:e.left-t.left+this.view.scrollDOM.scrollLeft,top:e.top-t.top+this.view.scrollDOM.scrollTop,height:e.bottom-e.top}}drawCursor(a){this.cursor&&(a?(this.cursor.style.left=a.left+"px",this.cursor.style.top=a.top+"px",this.cursor.style.height=a.height+"px"):this.cursor.style.left="-100000px")}destroy(){this.cursor&&this.cursor.remove()}setDropPos(a){this.view.state.field(qs)!=a&&this.view.dispatch({effects:Qs.of(a)})}},{eventHandlers:{dragover(a){this.setDropPos(this.view.posAtCoords({x:a.clientX,y:a.clientY}))},dragleave(a){(a.target==this.view.contentDOM||!this.view.contentDOM.contains(a.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function Ka(){return[qs,ws]}function Ea(a,e,t,r,l){e.lastIndex=0;for(let v=a.iterRange(t,r),A=t,B;!v.next().done;A+=v.value.length)if(!v.lineBreak)for(;B=e.exec(v.value);)l(A+B.index,B)}function za(a,e){let t=a.visibleRanges;if(t.length==1&&t[0].from==a.viewport.from&&t[0].to==a.viewport.to)return t;let r=[];for(let{from:l,to:v}of t)l=Math.max(a.state.doc.lineAt(l).from,l-e),v=Math.min(a.state.doc.lineAt(v).to,v+e),r.length&&r[r.length-1].to>=l?r[r.length-1].to=v:r.push({from:l,to:v});return r}class ea{constructor(e){const{regexp:t,decoration:r,decorate:l,boundary:v,maxLength:A=1e3}=e;if(!t.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=t,l)this.addMatch=(B,Y,pe,he)=>l(he,pe,pe+B[0].length,B,Y);else if(typeof r=="function")this.addMatch=(B,Y,pe,he)=>{let ke=r(B,Y,pe);ke&&he(pe,pe+B[0].length,ke)};else if(r)this.addMatch=(B,Y,pe,he)=>he(pe,pe+B[0].length,r);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=v,this.maxLength=A}createDeco(e){let t=new s.f_,r=t.add.bind(t);for(let{from:l,to:v}of za(e,this.maxLength))Ea(e.state.doc,this.regexp,l,v,(A,B)=>this.addMatch(B,e,A,r));return t.finish()}updateDeco(e,t){let r=1e9,l=-1;return e.docChanged&&e.changes.iterChanges((v,A,B,Y)=>{Y>e.view.viewport.from&&B<e.view.viewport.to&&(r=Math.min(B,r),l=Math.max(Y,l))}),e.viewportChanged||l-r>1e3?this.createDeco(e.view):l>-1?this.updateRange(e.view,t.map(e.changes),r,l):t}updateRange(e,t,r,l){for(let v of e.visibleRanges){let A=Math.max(v.from,r),B=Math.min(v.to,l);if(B>A){let Y=e.state.doc.lineAt(A),pe=Y.to<B?e.state.doc.lineAt(B):Y,he=Math.max(v.from,Y.from),ke=Math.min(v.to,pe.to);if(this.boundary){for(;A>Y.from;A--)if(this.boundary.test(Y.text[A-1-Y.from])){he=A;break}for(;B<pe.to;B++)if(this.boundary.test(pe.text[B-pe.from])){ke=B;break}}let it=[],pt,kt=(Jt,Rt,sr)=>it.push(sr.range(Jt,Rt));if(Y==pe)for(this.regexp.lastIndex=he-Y.from;(pt=this.regexp.exec(Y.text))&&pt.index<ke-Y.from;)this.addMatch(pt,e,pt.index+Y.from,kt);else Ea(e.state.doc,this.regexp,he,ke,(Jt,Rt)=>this.addMatch(Rt,e,Jt,kt));t=t.update({filterFrom:he,filterTo:ke,filter:(Jt,Rt)=>Jt<he||Rt>ke,add:it})}}return t}}const Ma=/x/.unicode!=null?"gu":"g",$a=new RegExp(`[\0-\b
-\x7F-\x9F\xAD\u061C\u200B\u200E\u200F\u2028\u2029\u202D\u202E\u2066\u2067\u2069\uFEFF\uFFF9-\uFFFC]`,Ma),Ha={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let oo=null;function ta(){var a;if(oo==null&&typeof document!="undefined"&&document.body){let e=document.body.style;oo=((a=e.tabSize)!==null&&a!==void 0?a:e.MozTabSize)!=null}return oo||!1}const Yi=s.r$.define({combine(a){let e=(0,s.BO)(a,{render:null,specialChars:$a,addSpecialChars:null});return(e.replaceTabs=!ta())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,Ma)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,Ma)),e}});function Ia(a={}){return[Yi.of(a),ra()]}let Go=null;function ra(){return Go||(Go=bn.fromClass(class{constructor(a){this.view=a,this.decorations=cr.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(a.state.facet(Yi)),this.decorations=this.decorator.createDeco(a)}makeDecorator(a){return new ea({regexp:a.specialChars,decoration:(e,t,r)=>{let{doc:l}=t.state,v=(0,s.gm)(e[0],0);if(v==9){let A=l.lineAt(r),B=t.state.tabSize,Y=(0,s.IS)(A.text,B,r-A.from);return cr.replace({widget:new Xi((B-Y%B)*this.view.defaultCharacterWidth)})}return this.decorationCache[v]||(this.decorationCache[v]=cr.replace({widget:new Co(a,v)}))},boundary:a.replaceTabs?void 0:/[^]/})}update(a){let e=a.state.facet(Yi);a.startState.facet(Yi)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(a.view)):this.decorations=this.decorator.updateDeco(a,this.decorations)}},{decorations:a=>a.decorations}))}const Lo="\u2022";function Ra(a){return a>=32?Lo:a==10?"\u2424":String.fromCharCode(9216+a)}class Co extends dr{constructor(e,t){super(),this.options=e,this.code=t}eq(e){return e.code==this.code}toDOM(e){let t=Ra(this.code),r=e.state.phrase("Control character")+" "+(Ha[this.code]||"0x"+this.code.toString(16)),l=this.options.render&&this.options.render(this.code,r,t);if(l)return l;let v=document.createElement("span");return v.textContent=t,v.title=r,v.setAttribute("aria-label",r),v.className="cm-specialChar",v}ignoreEvent(){return!1}}class Xi extends dr{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}const us=null;function Yo(){return[us,Pe.of(a=>{var e;return((e=a.plugin(us))===null||e===void 0?void 0:e.attrs)||null})]}function Fa(){return la}const Os=cr.line({class:"cm-activeLine"}),la=bn.fromClass(class{constructor(a){this.decorations=this.getDeco(a)}update(a){(a.docChanged||a.selectionSet)&&(this.decorations=this.getDeco(a.view))}getDeco(a){let e=-1,t=[];for(let r of a.state.selection.ranges){let l=a.lineBlockAt(r.head);l.from>e&&(t.push(Os.range(l.from)),e=l.from)}return cr.set(t)}},{decorations:a=>a.decorations});class Ja extends dr{constructor(e){super(),this.content=e}toDOM(){let e=document.createElement("span");return e.className="cm-placeholder",e.style.pointerEvents="none",e.appendChild(typeof this.content=="string"?document.createTextNode(this.content):this.content),typeof this.content=="string"?e.setAttribute("aria-label","placeholder "+this.content):e.setAttribute("aria-hidden","true"),e}coordsAt(e){let t=e.firstChild?ae(e.firstChild):[];if(!t.length)return null;let r=window.getComputedStyle(e.parentNode),l=X(t[0],r.direction!="rtl"),v=parseInt(r.lineHeight);return l.bottom-l.top>v*1.5?{left:l.left,right:l.right,top:l.top,bottom:l.top+v}:l}ignoreEvent(){return!1}}function xs(a){return bn.fromClass(class{constructor(e){this.view=e,this.placeholder=cr.set([cr.widget({widget:new Ja(a),side:1}).range(0)])}get decorations(){return this.view.state.doc.length?cr.none:this.placeholder}},{decorations:e=>e.decorations})}const wa=2e3;function Ci(a,e,t){let r=Math.min(e.line,t.line),l=Math.max(e.line,t.line),v=[];if(e.off>wa||t.off>wa||e.col<0||t.col<0){let A=Math.min(e.off,t.off),B=Math.max(e.off,t.off);for(let Y=r;Y<=l;Y++){let pe=a.doc.line(Y);pe.length<=B&&v.push(s.jT.range(pe.from+A,pe.to+B))}}else{let A=Math.min(e.col,t.col),B=Math.max(e.col,t.col);for(let Y=r;Y<=l;Y++){let pe=a.doc.line(Y),he=(0,s.Gz)(pe.text,A,a.tabSize,!0);if(he<0)v.push(s.jT.cursor(pe.to));else{let ke=(0,s.Gz)(pe.text,B,a.tabSize);v.push(s.jT.range(pe.from+he,pe.from+ke))}}}return v}function cs(a,e){let t=a.coordsAtPos(a.viewport.from);return t?Math.round(Math.abs((t.left-e)/a.defaultCharacterWidth)):-1}function Fs(a,e){let t=a.posAtCoords({x:e.clientX,y:e.clientY},!1),r=a.state.doc.lineAt(t),l=t-r.from,v=l>wa?-1:l==r.length?cs(a,e.clientX):(0,s.IS)(r.text,a.state.tabSize,t-r.from);return{line:r.number,col:v,off:l}}function fs(a,e){let t=Fs(a,e),r=a.state.selection;return t?{update(l){if(l.docChanged){let v=l.changes.mapPos(l.startState.doc.line(t.line).from),A=l.state.doc.lineAt(v);t={line:A.number,col:t.col,off:Math.min(t.off,A.length)},r=r.map(l.changes)}},get(l,v,A){let B=Fs(a,l);if(!B)return r;let Y=Ci(a.state,t,B);return Y.length?A?s.jT.create(Y.concat(r.ranges)):s.jT.create(Y):r}}:null}function ja(a){let e=(a==null?void 0:a.eventFilter)||(t=>t.altKey&&t.button==0);return jn.mouseSelectionStyle.of((t,r)=>e(r)?fs(t,r):null)}const js={Alt:[18,a=>!!a.altKey],Control:[17,a=>!!a.ctrlKey],Shift:[16,a=>!!a.shiftKey],Meta:[91,a=>!!a.metaKey]},Ns={style:"cursor: crosshair"};function ua(a={}){let[e,t]=js[a.key||"Alt"],r=bn.fromClass(class{constructor(l){this.view=l,this.isDown=!1}set(l){this.isDown!=l&&(this.isDown=l,this.view.update([]))}},{eventHandlers:{keydown(l){this.set(l.keyCode==e||t(l))},keyup(l){(l.keyCode==e||!t(l))&&this.set(!1)},mousemove(l){this.set(t(l))}}});return[r,jn.contentAttributes.of(l=>{var v;return!((v=l.plugin(r))===null||v===void 0)&&v.isDown?Ns:null})]}const Xo="-10000px";class Ls{constructor(e,t,r){this.facet=t,this.createTooltipView=r,this.input=e.state.facet(t),this.tooltips=this.input.filter(l=>l),this.tooltipViews=this.tooltips.map(r)}update(e){var t;let r=e.state.facet(this.facet),l=r.filter(A=>A);if(r===this.input){for(let A of this.tooltipViews)A.update&&A.update(e);return!1}let v=[];for(let A=0;A<l.length;A++){let B=l[A],Y=-1;if(B){for(let pe=0;pe<this.tooltips.length;pe++){let he=this.tooltips[pe];he&&he.create==B.create&&(Y=pe)}if(Y<0)v[A]=this.createTooltipView(B);else{let pe=v[A]=this.tooltipViews[Y];pe.update&&pe.update(e)}}}for(let A of this.tooltipViews)v.indexOf(A)<0&&(A.dom.remove(),(t=A.destroy)===null||t===void 0||t.call(A));return this.input=r,this.tooltips=l,this.tooltipViews=v,!0}}function Ga(a={}){return bo.of(a)}function ds(a){let{win:e}=a;return{top:0,left:0,bottom:e.innerHeight,right:e.innerWidth}}const bo=s.r$.define({combine:a=>{var e,t,r;return{position:ie.ios?"absolute":((e=a.find(l=>l.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((t=a.find(l=>l.parent))===null||t===void 0?void 0:t.parent)||null,tooltipSpace:((r=a.find(l=>l.tooltipSpace))===null||r===void 0?void 0:r.tooltipSpace)||ds}}}),Qo=new WeakMap,ca=bn.fromClass(class{constructor(a){this.view=a,this.inView=!0,this.lastTransaction=0,this.measureTimeout=-1;let e=a.state.facet(bo);this.position=e.position,this.parent=e.parent,this.classes=a.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.manager=new Ls(a,C,t=>this.createTooltip(t)),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(t=>{Date.now()>this.lastTransaction-50&&t.length>0&&t[t.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),a.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let a of this.manager.tooltipViews)this.intersectionObserver.observe(a.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(a){a.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(a);e&&this.observeIntersection();let t=e||a.geometryChanged,r=a.state.facet(bo);if(r.position!=this.position){this.position=r.position;for(let l of this.manager.tooltipViews)l.dom.style.position=this.position;t=!0}if(r.parent!=this.parent){this.parent&&this.container.remove(),this.parent=r.parent,this.createContainer();for(let l of this.manager.tooltipViews)this.container.appendChild(l.dom);t=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);t&&this.maybeMeasure()}createTooltip(a){let e=a.create(this.view);if(e.dom.classList.add("cm-tooltip"),a.arrow&&!e.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let t=document.createElement("div");t.className="cm-tooltip-arrow",e.dom.appendChild(t)}return e.dom.style.position=this.position,e.dom.style.top=Xo,this.container.appendChild(e.dom),e.mount&&e.mount(this.view),e}destroy(){var a,e;this.view.win.removeEventListener("resize",this.measureSoon);for(let t of this.manager.tooltipViews)t.dom.remove(),(a=t.destroy)===null||a===void 0||a.call(t);(e=this.intersectionObserver)===null||e===void 0||e.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let a=this.view.dom.getBoundingClientRect();return{editor:a,parent:this.parent?this.container.getBoundingClientRect():a,pos:this.manager.tooltips.map((e,t)=>{let r=this.manager.tooltipViews[t];return r.getCoords?r.getCoords(e.pos):this.view.coordsAtPos(e.pos)}),size:this.manager.tooltipViews.map(({dom:e})=>e.getBoundingClientRect()),space:this.view.state.facet(bo).tooltipSpace(this.view)}}writeMeasure(a){var e;let{editor:t,space:r}=a,l=[];for(let v=0;v<this.manager.tooltips.length;v++){let A=this.manager.tooltips[v],B=this.manager.tooltipViews[v],{dom:Y}=B,pe=a.pos[v],he=a.size[v];if(!pe||pe.bottom<=Math.max(t.top,r.top)||pe.top>=Math.min(t.bottom,r.bottom)||pe.right<Math.max(t.left,r.left)-.1||pe.left>Math.min(t.right,r.right)+.1){Y.style.top=Xo;continue}let ke=A.arrow?B.dom.querySelector(".cm-tooltip-arrow"):null,it=ke?7:0,pt=he.right-he.left,kt=(e=Qo.get(B))!==null&&e!==void 0?e:he.bottom-he.top,Jt=B.offset||Bs,Rt=this.view.textDirection==je.LTR,sr=he.width>r.right-r.left?Rt?r.left:r.right-he.width:Rt?Math.min(pe.left-(ke?14:0)+Jt.x,r.right-pt):Math.max(r.left,pe.left-pt+(ke?14:0)-Jt.x),er=!!A.above;!A.strictSide&&(er?pe.top-(he.bottom-he.top)-Jt.y<r.top:pe.bottom+(he.bottom-he.top)+Jt.y>r.bottom)&&er==r.bottom-pe.bottom>pe.top-r.top&&(er=!er);let hn=(er?pe.top-r.top:r.bottom-pe.bottom)-it;if(hn<kt&&B.resize!==!1){if(hn<this.view.defaultLineHeight){Y.style.top=Xo;continue}Qo.set(B,kt),Y.style.height=(kt=hn)+"px"}else Y.style.height&&(Y.style.height="");let Dr=er?pe.top-kt-it-Jt.y:pe.bottom+it+Jt.y,nn=sr+pt;if(B.overlap!==!0)for(let qr of l)qr.left<nn&&qr.right>sr&&qr.top<Dr+kt&&qr.bottom>Dr&&(Dr=er?qr.top-kt-2-it:qr.bottom+it+2);this.position=="absolute"?(Y.style.top=Dr-a.parent.top+"px",Y.style.left=sr-a.parent.left+"px"):(Y.style.top=Dr+"px",Y.style.left=sr+"px"),ke&&(ke.style.left=`${pe.left+(Rt?Jt.x:-Jt.x)-(sr+14-7)}px`),B.overlap!==!0&&l.push({left:sr,top:Dr,right:nn,bottom:Dr+kt}),Y.classList.toggle("cm-tooltip-above",er),Y.classList.toggle("cm-tooltip-below",!er),B.positioned&&B.positioned(a.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let a of this.manager.tooltipViews)a.dom.style.top=Xo}},{eventHandlers:{scroll(){this.maybeMeasure()}}}),Oa=jn.baseTheme({".cm-tooltip":{zIndex:100,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:`${7}px`,width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:`${7}px solid transparent`,borderRight:`${7}px solid transparent`},".cm-tooltip-above &":{bottom:`-${7}px`,"&:before":{borderTop:`${7}px solid #bbb`},"&:after":{borderTop:`${7}px solid #f5f5f5`,bottom:"1px"}},".cm-tooltip-below &":{top:`-${7}px`,"&:before":{borderBottom:`${7}px solid #bbb`},"&:after":{borderBottom:`${7}px solid #f5f5f5`,top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),Bs={x:0,y:0},C=s.r$.define({enables:[ca,Oa]}),U=s.r$.define();class oe{constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new Ls(e,U,t=>this.createHostedView(t))}static create(e){return new oe(e)}createHostedView(e){let t=e.create(this.view);return t.dom.classList.add("cm-tooltip-section"),this.dom.appendChild(t.dom),this.mounted&&t.mount&&t.mount(this.view),t}mount(e){for(let t of this.manager.tooltipViews)t.mount&&t.mount(e);this.mounted=!0}positioned(e){for(let t of this.manager.tooltipViews)t.positioned&&t.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let t of this.manager.tooltipViews)(e=t.destroy)===null||e===void 0||e.call(t)}}const Ce=C.compute([U],a=>{let e=a.facet(U).filter(t=>t);return e.length===0?null:{pos:Math.min(...e.map(t=>t.pos)),end:Math.max(...e.filter(t=>t.end!=null).map(t=>t.end)),create:oe.create,above:e[0].above,arrow:e.some(t=>t.arrow)}});class De{constructor(e,t,r,l,v){this.view=e,this.source=t,this.field=r,this.setHover=l,this.hoverTime=v,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{lastMove:e}=this,t=this.view.contentDOM.contains(e.target)?this.view.posAtCoords(e):null;if(t==null)return;let r=this.view.coordsAtPos(t);if(r==null||e.y<r.top||e.y>r.bottom||e.x<r.left-this.view.defaultCharacterWidth||e.x>r.right+this.view.defaultCharacterWidth)return;let l=this.view.bidiSpans(this.view.state.doc.lineAt(t)).find(B=>B.from<=t&&B.to>=t),v=l&&l.dir==je.RTL?-1:1,A=this.source(this.view,t,e.x<r.left?-v:v);if(A!=null&&A.then){let B=this.pending={pos:t};A.then(Y=>{this.pending==B&&(this.pending=null,Y&&this.view.dispatch({effects:this.setHover.of(Y)}))},Y=>yn(this.view.state,Y,"hover tooltip"))}else A&&this.view.dispatch({effects:this.setHover.of(A)})}mousemove(e){var t;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let r=this.active;if(r&&!Re(this.lastMove.target)||this.pending){let{pos:l}=r||this.pending,v=(t=r==null?void 0:r.end)!==null&&t!==void 0?t:l;(l==v?this.view.posAtCoords(this.lastMove)!=l:!ut(this.view,l,v,e.clientX,e.clientY,6))&&(this.view.dispatch({effects:this.setHover.of(null)}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1,this.active&&!Re(e.relatedTarget)&&this.view.dispatch({effects:this.setHover.of(null)})}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}function Re(a){for(let e=a;e;e=e.parentNode)if(e.nodeType==1&&e.classList.contains("cm-tooltip"))return!0;return!1}function ut(a,e,t,r,l,v){let A=document.createRange(),B=a.domAtPos(e),Y=a.domAtPos(t);A.setEnd(Y.node,Y.offset),A.setStart(B.node,B.offset);let pe=A.getClientRects();A.detach();for(let he=0;he<pe.length;he++){let ke=pe[he];if(Math.max(ke.top-l,l-ke.bottom,ke.left-r,r-ke.right)<=v)return!0}return!1}function It(a,e={}){let t=s.Py.define(),r=s.QQ.define({create(){return null},update(l,v){if(l&&(e.hideOnChange&&(v.docChanged||v.selection)||e.hideOn&&e.hideOn(v,l)))return null;if(l&&v.docChanged){let A=v.changes.mapPos(l.pos,-1,s.gc.TrackDel);if(A==null)return null;let B=Object.assign(Object.create(null),l);B.pos=A,l.end!=null&&(B.end=v.changes.mapPos(l.end)),l=B}for(let A of v.effects)A.is(t)&&(l=A.value),A.is(vr)&&(l=null);return l},provide:l=>U.from(l)});return[r,bn.define(l=>new De(l,a,r,t,e.hoverTime||300)),Ce]}function Pt(a,e){let t=a.plugin(ca);if(!t)return null;let r=t.manager.tooltips.indexOf(e);return r<0?null:t.manager.tooltipViews[r]}function or(a){return a.facet(U).some(e=>e)}const vr=s.Py.define(),Ar=null;function Br(a){var e;(e=a.plugin(ca))===null||e===void 0||e.maybeMeasure()}const Sn=s.r$.define({combine(a){let e,t;for(let r of a)e=e||r.topContainer,t=t||r.bottomContainer;return{topContainer:e,bottomContainer:t}}});function Kn(a){return a?[Sn.of(a)]:[]}function kn(a,e){let t=a.plugin(Tn),r=t?t.specs.indexOf(e):-1;return r>-1?t.panels[r]:null}const Tn=bn.fromClass(class{constructor(a){this.input=a.state.facet(co),this.specs=this.input.filter(t=>t),this.panels=this.specs.map(t=>t(a));let e=a.state.facet(Sn);this.top=new qn(a,!0,e.topContainer),this.bottom=new qn(a,!1,e.bottomContainer),this.top.sync(this.panels.filter(t=>t.top)),this.bottom.sync(this.panels.filter(t=>!t.top));for(let t of this.panels)t.dom.classList.add("cm-panel"),t.mount&&t.mount()}update(a){let e=a.state.facet(Sn);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new qn(a.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new qn(a.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let t=a.state.facet(co);if(t!=this.input){let r=t.filter(Y=>Y),l=[],v=[],A=[],B=[];for(let Y of r){let pe=this.specs.indexOf(Y),he;pe<0?(he=Y(a.view),B.push(he)):(he=this.panels[pe],he.update&&he.update(a)),l.push(he),(he.top?v:A).push(he)}this.specs=r,this.panels=l,this.top.sync(v),this.bottom.sync(A);for(let Y of B)Y.dom.classList.add("cm-panel"),Y.mount&&Y.mount()}else for(let r of this.panels)r.update&&r.update(a)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:a=>jn.scrollMargins.of(e=>{let t=e.plugin(a);return t&&{top:t.top.scrollMargin(),bottom:t.bottom.scrollMargin()}})});class qn{constructor(e,t,r){this.view=e,this.top=t,this.container=r,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let t of this.panels)t.destroy&&e.indexOf(t)<0&&t.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let t=this.container||this.view.dom;t.insertBefore(this.dom,this.top?t.firstChild:null)}let e=this.dom.firstChild;for(let t of this.panels)if(t.dom.parentNode==this.dom){for(;e!=t.dom;)e=vi(e);e=e.nextSibling}else this.dom.insertBefore(t.dom,e);for(;e;)e=vi(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function vi(a){let e=a.nextSibling;return a.remove(),e}const co=s.r$.define({enables:Tn});class bi extends s.uU{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}bi.prototype.elementClass="",bi.prototype.toDOM=void 0,bi.prototype.mapMode=s.gc.TrackBefore,bi.prototype.startSide=bi.prototype.endSide=-1,bi.prototype.point=!0;const so=s.r$.define(),Gn={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>s.Xs.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},Bi=s.r$.define();function Ws(a){return[Pn(),Bi.of(Object.assign(Object.assign({},Gn),a))]}const fa=s.r$.define({combine:a=>a.some(e=>e)});function Pn(a){let e=[na];return a&&a.fixed===!1&&e.push(fa.of(!0)),e}const na=bn.fromClass(class{constructor(a){this.view=a,this.prevViewport=a.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight+"px",this.gutters=a.state.facet(Bi).map(e=>new qo(a,e));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!a.state.facet(fa),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),a.scrollDOM.insertBefore(this.dom,a.contentDOM)}update(a){if(this.updateGutters(a)){let e=this.prevViewport,t=a.view.viewport,r=Math.min(e.to,t.to)-Math.max(e.from,t.from);this.syncGutters(r<(t.to-t.from)*.8)}a.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight+"px"),this.view.state.facet(fa)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=a.view.viewport}syncGutters(a){let e=this.dom.nextSibling;a&&this.dom.remove();let t=s.Xs.iter(this.view.state.facet(so),this.view.viewport.from),r=[],l=this.gutters.map(v=>new rl(v,this.view.viewport,-this.view.documentPadding.top));for(let v of this.view.viewportLineBlocks)if(r.length&&(r=[]),Array.isArray(v.type)){let A=!0;for(let B of v.type)if(B.type==pr.Text&&A){Na(t,r,B.from);for(let Y of l)Y.line(this.view,B,r);A=!1}else if(B.widget)for(let Y of l)Y.widget(this.view,B)}else if(v.type==pr.Text){Na(t,r,v.from);for(let A of l)A.line(this.view,v,r)}for(let v of l)v.finish();a&&this.view.scrollDOM.insertBefore(this.dom,e)}updateGutters(a){let e=a.startState.facet(Bi),t=a.state.facet(Bi),r=a.docChanged||a.heightChanged||a.viewportChanged||!s.Xs.eq(a.startState.facet(so),a.state.facet(so),a.view.viewport.from,a.view.viewport.to);if(e==t)for(let l of this.gutters)l.update(a)&&(r=!0);else{r=!0;let l=[];for(let v of t){let A=e.indexOf(v);A<0?l.push(new qo(this.view,v)):(this.gutters[A].update(a),l.push(this.gutters[A]))}for(let v of this.gutters)v.dom.remove(),l.indexOf(v)<0&&v.destroy();for(let v of l)this.dom.appendChild(v.dom);this.gutters=l}return r}destroy(){for(let a of this.gutters)a.destroy();this.dom.remove()}},{provide:a=>jn.scrollMargins.of(e=>{let t=e.plugin(a);return!t||t.gutters.length==0||!t.fixed?null:e.textDirection==je.LTR?{left:t.dom.offsetWidth}:{right:t.dom.offsetWidth}})});function hs(a){return Array.isArray(a)?a:[a]}function Na(a,e,t){for(;a.value&&a.from<=t;)a.from==t&&e.push(a.value),a.next()}class rl{constructor(e,t,r){this.gutter=e,this.height=r,this.i=0,this.cursor=s.Xs.iter(e.markers,t.from)}addElement(e,t,r){let{gutter:l}=this,v=t.top-this.height;if(this.i==l.elements.length){let A=new La(e,t.height,v,r);l.elements.push(A),l.dom.appendChild(A.dom)}else l.elements[this.i].update(e,t.height,v,r);this.height=t.bottom,this.i++}line(e,t,r){let l=[];Na(this.cursor,l,t.from),r.length&&(l=l.concat(r));let v=this.gutter.config.lineMarker(e,t,l);v&&l.unshift(v);let A=this.gutter;l.length==0&&!A.config.renderEmptyElements||this.addElement(e,t,l)}widget(e,t){let r=this.gutter.config.widgetMarker(e,t.widget,t);r&&this.addElement(e,t,[r])}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let t=e.elements.pop();e.dom.removeChild(t.dom),t.destroy()}}}class qo{constructor(e,t){this.view=e,this.config=t,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let r in t.domEventHandlers)this.dom.addEventListener(r,l=>{let v=l.target,A;if(v!=this.dom&&this.dom.contains(v)){for(;v.parentNode!=this.dom;)v=v.parentNode;let Y=v.getBoundingClientRect();A=(Y.top+Y.bottom)/2}else A=l.clientY;let B=e.lineBlockAtHeight(A-e.documentTop);t.domEventHandlers[r](e,B,l)&&l.preventDefault()});this.markers=hs(t.markers(e)),t.initialSpacer&&(this.spacer=new La(e,0,0,[t.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let t=this.markers;if(this.markers=hs(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let l=this.config.updateSpacer(this.spacer.markers[0],e);l!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[l])}let r=e.view.viewport;return!s.Xs.eq(this.markers,t,r.from,r.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class La{constructor(e,t,r,l){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,t,r,l)}update(e,t,r,l){this.height!=t&&(this.dom.style.height=(this.height=t)+"px"),this.above!=r&&(this.dom.style.marginTop=(this.above=r)?r+"px":""),Ba(this.markers,l)||this.setMarkers(e,l)}setMarkers(e,t){let r="cm-gutterElement",l=this.dom.firstChild;for(let v=0,A=0;;){let B=A,Y=v<t.length?t[v++]:null,pe=!1;if(Y){let he=Y.elementClass;he&&(r+=" "+he);for(let ke=A;ke<this.markers.length;ke++)if(this.markers[ke].compare(Y)){B=ke,pe=!0;break}}else B=this.markers.length;for(;A<B;){let he=this.markers[A++];if(he.toDOM){he.destroy(l);let ke=l.nextSibling;l.remove(),l=ke}}if(!Y)break;Y.toDOM&&(pe?l=l.nextSibling:this.dom.insertBefore(Y.toDOM(e),l)),pe&&A++}this.dom.className=r,this.markers=t}destroy(){this.setMarkers(null,[])}}function Ba(a,e){if(a.length!=e.length)return!1;for(let t=0;t<a.length;t++)if(!a[t].compare(e[t]))return!1;return!0}const fo=s.r$.define(),Vr=s.r$.define({combine(a){return(0,s.BO)(a,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,t){let r=Object.assign({},e);for(let l in t){let v=r[l],A=t[l];r[l]=v?(B,Y,pe)=>v(B,Y,pe)||A(B,Y,pe):A}return r}})}});class da extends bi{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function Wa(a,e){return a.state.facet(Vr).formatNumber(e,a.state)}const Ao=Bi.compute([Vr],a=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(fo)},lineMarker(e,t,r){return r.some(l=>l.toDOM)?null:new da(Wa(e,e.state.doc.lineAt(t.from).number))},widgetMarker:()=>null,lineMarkerChange:e=>e.startState.facet(Vr)!=e.state.facet(Vr),initialSpacer(e){return new da(Wa(e,Ya(e.state.doc.lines)))},updateSpacer(e,t){let r=Wa(t.view,Ya(t.view.state.doc.lines));return r==e.number?e:new da(r)},domEventHandlers:a.facet(Vr).domEventHandlers}));function fl(a={}){return[Vr.of(a),Pn(),Ao]}function Ya(a){let e=9;for(;e<a;)e=e*10+9;return e}const o=new class extends bi{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},h=so.compute(["selection"],a=>{let e=[],t=-1;for(let r of a.selection.ranges){let l=a.doc.lineAt(r.head).from;l>t&&(t=l,e.push(o.range(l)))}return s.Xs.of(e)});function x(){return h}const g=new Map;function L(a){let e=g.get(a);return e||g.set(a,e=cr.mark({attributes:a==="	"?{class:"cm-highlightTab"}:{class:"cm-highlightSpace","data-display":a.replace(/ /g,"\xB7")}})),e}function ye(a){return bn.define(e=>({decorations:a.createDeco(e),update(t){this.decorations=a.updateDeco(t,this.decorations)}}),{decorations:e=>e.decorations})}const qe=ye(new ea({regexp:/\t| +/g,decoration:a=>L(a[0]),boundary:/\S/}));function nt(){return qe}const ft=ye(new ea({regexp:/\s+$/g,decoration:cr.mark({class:"cm-trailingSpace"}),boundary:/\S/}));function Ot(){return ft}const xt={HeightMap:Un,HeightOracle:_i,MeasuredHeights:Vo,QueryType:Bn,ChangedRange:be,computeOrder:Bo,moveVisually:$n}},21649:function(Le,w,u){"use strict";u.d(w,{Jq:function(){return N},Lj:function(){return j},_b:function(){return He},i9:function(){return Qe},md:function(){return O},mp:function(){return re},vj:function(){return z}});const s=1024;let p=0;class R{constructor(K,Z){this.from=K,this.to=Z}}class O{constructor(K={}){this.id=p++,this.perNode=!!K.perNode,this.deserialize=K.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(K){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof K!="function"&&(K=N.match(K)),Z=>{let Q=K(Z);return Q===void 0?null:[this,Q]}}}O.closedBy=new O({deserialize:Ve=>Ve.split(" ")}),O.openedBy=new O({deserialize:Ve=>Ve.split(" ")}),O.group=new O({deserialize:Ve=>Ve.split(" ")}),O.contextHash=new O({perNode:!0}),O.lookAhead=new O({perNode:!0}),O.mounted=new O({perNode:!0});class _{constructor(K,Z,Q){this.tree=K,this.overlay=Z,this.parser=Q}}const D=Object.create(null);class N{constructor(K,Z,Q,ie=0){this.name=K,this.props=Z,this.id=Q,this.flags=ie}static define(K){let Z=K.props&&K.props.length?Object.create(null):D,Q=(K.top?1:0)|(K.skipped?2:0)|(K.error?4:0)|(K.name==null?8:0),ie=new N(K.name||"",Z,K.id,Q);if(K.props){for(let Te of K.props)if(Array.isArray(Te)||(Te=Te(ie)),Te){if(Te[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");Z[Te[0].id]=Te[1]}}return ie}prop(K){return this.props[K.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(K){if(typeof K=="string"){if(this.name==K)return!0;let Z=this.prop(O.group);return Z?Z.indexOf(K)>-1:!1}return this.id==K}static match(K){let Z=Object.create(null);for(let Q in K)for(let ie of Q.split(" "))Z[ie]=K[Q];return Q=>{for(let ie=Q.prop(O.group),Te=-1;Te<(ie?ie.length:0);Te++){let Xe=Z[Te<0?Q.name:ie[Te]];if(Xe)return Xe}}}}N.none=new N("",Object.create(null),0,8);class j{constructor(K){this.types=K;for(let Z=0;Z<K.length;Z++)if(K[Z].id!=Z)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...K){let Z=[];for(let Q of this.types){let ie=null;for(let Te of K){let Xe=Te(Q);Xe&&(ie||(ie=Object.assign({},Q.props)),ie[Xe[0].id]=Xe[1])}Z.push(ie?new N(Q.name,ie,Q.id,Q.flags):Q)}return new j(Z)}}const I=new WeakMap,G=new WeakMap;var z;(function(Ve){Ve[Ve.ExcludeBuffers=1]="ExcludeBuffers",Ve[Ve.IncludeAnonymous=2]="IncludeAnonymous",Ve[Ve.IgnoreMounts=4]="IgnoreMounts",Ve[Ve.IgnoreOverlays=8]="IgnoreOverlays"})(z||(z={}));class re{constructor(K,Z,Q,ie,Te){if(this.type=K,this.children=Z,this.positions=Q,this.length=ie,this.props=null,Te&&Te.length){this.props=Object.create(null);for(let[Xe,ct]of Te)this.props[typeof Xe=="number"?Xe:Xe.id]=ct}}toString(){let K=this.prop(O.mounted);if(K&&!K.overlay)return K.tree.toString();let Z="";for(let Q of this.children){let ie=Q.toString();ie&&(Z&&(Z+=","),Z+=ie)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(Z.length?"("+Z+")":""):Z}cursor(K=0){return new $(this.topNode,K)}cursorAt(K,Z=0,Q=0){let ie=I.get(this)||this.topNode,Te=new $(ie);return Te.moveTo(K,Z),I.set(this,Te._tree),Te}get topNode(){return new ue(this,0,0,null)}resolve(K,Z=0){let Q=H(I.get(this)||this.topNode,K,Z,!1);return I.set(this,Q),Q}resolveInner(K,Z=0){let Q=H(G.get(this)||this.topNode,K,Z,!0);return G.set(this,Q),Q}iterate(K){let{enter:Z,leave:Q,from:ie=0,to:Te=this.length}=K,Xe=K.mode||0,ct=(Xe&z.IncludeAnonymous)>0;for(let Mt=this.cursor(Xe|z.IncludeAnonymous);;){let Qt=!1;if(Mt.from<=Te&&Mt.to>=ie&&(!ct&&Mt.type.isAnonymous||Z(Mt)!==!1)){if(Mt.firstChild())continue;Qt=!0}for(;Qt&&Q&&(ct||!Mt.type.isAnonymous)&&Q(Mt),!Mt.nextSibling();){if(!Mt.parent())return;Qt=!0}}}prop(K){return K.perNode?this.props?this.props[K.id]:void 0:this.type.prop(K)}get propValues(){let K=[];if(this.props)for(let Z in this.props)K.push([+Z,this.props[Z]]);return K}balance(K={}){return this.children.length<=8?this:Ge(N.none,this.children,this.positions,0,this.children.length,0,this.length,(Z,Q,ie)=>new re(this.type,Z,Q,ie,this.propValues),K.makeTree||((Z,Q,ie)=>new re(N.none,Z,Q,ie)))}static build(K){return Ie(K)}}re.empty=new re(N.none,[],[],0);class ne{constructor(K,Z){this.buffer=K,this.index=Z}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new ne(this.buffer,this.index)}}class ae{constructor(K,Z,Q){this.buffer=K,this.length=Z,this.set=Q}get type(){return N.none}toString(){let K=[];for(let Z=0;Z<this.buffer.length;)K.push(this.childString(Z)),Z=this.buffer[Z+3];return K.join(",")}childString(K){let Z=this.buffer[K],Q=this.buffer[K+3],ie=this.set.types[Z],Te=ie.name;if(/\W/.test(Te)&&!ie.isError&&(Te=JSON.stringify(Te)),K+=4,Q==K)return Te;let Xe=[];for(;K<Q;)Xe.push(this.childString(K)),K=this.buffer[K+3];return Te+"("+Xe.join(",")+")"}findChild(K,Z,Q,ie,Te){let{buffer:Xe}=this,ct=-1;for(let Mt=K;Mt!=Z&&!(ve(Te,ie,Xe[Mt+1],Xe[Mt+2])&&(ct=Mt,Q>0));Mt=Xe[Mt+3]);return ct}slice(K,Z,Q){let ie=this.buffer,Te=new Uint16Array(Z-K),Xe=0;for(let ct=K,Mt=0;ct<Z;){Te[Mt++]=ie[ct++],Te[Mt++]=ie[ct++]-Q;let Qt=Te[Mt++]=ie[ct++]-Q;Te[Mt++]=ie[ct++]-K,Xe=Math.max(Xe,Qt)}return new ae(Te,Xe,this.set)}}function ve(Ve,K,Z,Q){switch(Ve){case-2:return Z<K;case-1:return Q>=K&&Z<K;case 0:return Z<K&&Q>K;case 1:return Z<=K&&Q>K;case 2:return Q>K;case 4:return!0}}function M(Ve,K){let Z=Ve.childBefore(K);for(;Z;){let Q=Z.lastChild;if(!Q||Q.to!=Z.to)break;Q.type.isError&&Q.from==Q.to?(Ve=Z,Z=Q.prevSibling):Z=Q}return Ve}function H(Ve,K,Z,Q){for(var ie;Ve.from==Ve.to||(Z<1?Ve.from>=K:Ve.from>K)||(Z>-1?Ve.to<=K:Ve.to<K);){let Xe=!Q&&Ve instanceof ue&&Ve.index<0?null:Ve.parent;if(!Xe)return Ve;Ve=Xe}let Te=Q?0:z.IgnoreOverlays;if(Q)for(let Xe=Ve,ct=Xe.parent;ct;Xe=ct,ct=Xe.parent)Xe instanceof ue&&Xe.index<0&&((ie=ct.enter(K,Z,Te))===null||ie===void 0?void 0:ie.from)!=Xe.from&&(Ve=ct);for(;;){let Xe=Ve.enter(K,Z,Te);if(!Xe)return Ve;Ve=Xe}}class ue{constructor(K,Z,Q,ie){this._tree=K,this.from=Z,this.index=Q,this._parent=ie}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(K,Z,Q,ie,Te=0){for(let Xe=this;;){for(let{children:ct,positions:Mt}=Xe._tree,Qt=Z>0?ct.length:-1;K!=Qt;K+=Z){let Yt=ct[K],zt=Mt[K]+Xe.from;if(ve(ie,Q,zt,zt+Yt.length)){if(Yt instanceof ae){if(Te&z.ExcludeBuffers)continue;let Xt=Yt.findChild(0,Yt.buffer.length,Z,Q-zt,ie);if(Xt>-1)return new ee(new fe(Xe,Yt,K,zt),null,Xt)}else if(Te&z.IncludeAnonymous||!Yt.type.isAnonymous||Se(Yt)){let Xt;if(!(Te&z.IgnoreMounts)&&Yt.props&&(Xt=Yt.prop(O.mounted))&&!Xt.overlay)return new ue(Xt.tree,zt,K,Xe);let ot=new ue(Yt,zt,K,Xe);return Te&z.IncludeAnonymous||!ot.type.isAnonymous?ot:ot.nextChild(Z<0?Yt.children.length-1:0,Z,Q,ie)}}}if(Te&z.IncludeAnonymous||!Xe.type.isAnonymous||(Xe.index>=0?K=Xe.index+Z:K=Z<0?-1:Xe._parent._tree.children.length,Xe=Xe._parent,!Xe))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(K){return this.nextChild(0,1,K,2)}childBefore(K){return this.nextChild(this._tree.children.length-1,-1,K,-2)}enter(K,Z,Q=0){let ie;if(!(Q&z.IgnoreOverlays)&&(ie=this._tree.prop(O.mounted))&&ie.overlay){let Te=K-this.from;for(let{from:Xe,to:ct}of ie.overlay)if((Z>0?Xe<=Te:Xe<Te)&&(Z<0?ct>=Te:ct>Te))return new ue(ie.tree,ie.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,K,Z,Q)}nextSignificantParent(){let K=this;for(;K.type.isAnonymous&&K._parent;)K=K._parent;return K}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}cursor(K=0){return new $(this,K)}get tree(){return this._tree}toTree(){return this._tree}resolve(K,Z=0){return H(this,K,Z,!1)}resolveInner(K,Z=0){return H(this,K,Z,!0)}enterUnfinishedNodesBefore(K){return M(this,K)}getChild(K,Z=null,Q=null){let ie=X(this,K,Z,Q);return ie.length?ie[0]:null}getChildren(K,Z=null,Q=null){return X(this,K,Z,Q)}toString(){return this._tree.toString()}get node(){return this}matchContext(K){return se(this,K)}}function X(Ve,K,Z,Q){let ie=Ve.cursor(),Te=[];if(!ie.firstChild())return Te;if(Z!=null){for(;!ie.type.is(Z);)if(!ie.nextSibling())return Te}for(;;){if(Q!=null&&ie.type.is(Q))return Te;if(ie.type.is(K)&&Te.push(ie.node),!ie.nextSibling())return Q==null?Te:[]}}function se(Ve,K,Z=K.length-1){for(let Q=Ve.parent;Z>=0;Q=Q.parent){if(!Q)return!1;if(!Q.type.isAnonymous){if(K[Z]&&K[Z]!=Q.name)return!1;Z--}}return!0}class fe{constructor(K,Z,Q,ie){this.parent=K,this.buffer=Z,this.index=Q,this.start=ie}}class ee{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(K,Z,Q){this.context=K,this._parent=Z,this.index=Q,this.type=K.buffer.set.types[K.buffer.buffer[Q]]}child(K,Z,Q){let{buffer:ie}=this.context,Te=ie.findChild(this.index+4,ie.buffer[this.index+3],K,Z-this.context.start,Q);return Te<0?null:new ee(this.context,this,Te)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(K){return this.child(1,K,2)}childBefore(K){return this.child(-1,K,-2)}enter(K,Z,Q=0){if(Q&z.ExcludeBuffers)return null;let{buffer:ie}=this.context,Te=ie.findChild(this.index+4,ie.buffer[this.index+3],Z>0?1:-1,K-this.context.start,Z);return Te<0?null:new ee(this.context,this,Te)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(K){return this._parent?null:this.context.parent.nextChild(this.context.index+K,K,0,4)}get nextSibling(){let{buffer:K}=this.context,Z=K.buffer[this.index+3];return Z<(this._parent?K.buffer[this._parent.index+3]:K.buffer.length)?new ee(this.context,this._parent,Z):this.externalSibling(1)}get prevSibling(){let{buffer:K}=this.context,Z=this._parent?this._parent.index+4:0;return this.index==Z?this.externalSibling(-1):new ee(this.context,this._parent,K.findChild(Z,this.index,-1,0,4))}cursor(K=0){return new $(this,K)}get tree(){return null}toTree(){let K=[],Z=[],{buffer:Q}=this.context,ie=this.index+4,Te=Q.buffer[this.index+3];if(Te>ie){let Xe=Q.buffer[this.index+1];K.push(Q.slice(ie,Te,Xe)),Z.push(0)}return new re(this.type,K,Z,this.to-this.from)}resolve(K,Z=0){return H(this,K,Z,!1)}resolveInner(K,Z=0){return H(this,K,Z,!0)}enterUnfinishedNodesBefore(K){return M(this,K)}toString(){return this.context.buffer.childString(this.index)}getChild(K,Z=null,Q=null){let ie=X(this,K,Z,Q);return ie.length?ie[0]:null}getChildren(K,Z=null,Q=null){return X(this,K,Z,Q)}get node(){return this}matchContext(K){return se(this,K)}}class ${get name(){return this.type.name}constructor(K,Z=0){if(this.mode=Z,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,K instanceof ue)this.yieldNode(K);else{this._tree=K.context.parent,this.buffer=K.context;for(let Q=K._parent;Q;Q=Q._parent)this.stack.unshift(Q.index);this.bufferNode=K,this.yieldBuf(K.index)}}yieldNode(K){return K?(this._tree=K,this.type=K.type,this.from=K.from,this.to=K.to,!0):!1}yieldBuf(K,Z){this.index=K;let{start:Q,buffer:ie}=this.buffer;return this.type=Z||ie.set.types[ie.buffer[K]],this.from=Q+ie.buffer[K+1],this.to=Q+ie.buffer[K+2],!0}yield(K){return K?K instanceof ue?(this.buffer=null,this.yieldNode(K)):(this.buffer=K.context,this.yieldBuf(K.index,K.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(K,Z,Q){if(!this.buffer)return this.yield(this._tree.nextChild(K<0?this._tree._tree.children.length-1:0,K,Z,Q,this.mode));let{buffer:ie}=this.buffer,Te=ie.findChild(this.index+4,ie.buffer[this.index+3],K,Z-this.buffer.start,Q);return Te<0?!1:(this.stack.push(this.index),this.yieldBuf(Te))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(K){return this.enterChild(1,K,2)}childBefore(K){return this.enterChild(-1,K,-2)}enter(K,Z,Q=this.mode){return this.buffer?Q&z.ExcludeBuffers?!1:this.enterChild(1,K,Z):this.yield(this._tree.enter(K,Z,Q))}parent(){if(!this.buffer)return this.yieldNode(this.mode&z.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let K=this.mode&z.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(K)}sibling(K){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+K,K,0,4,this.mode)):!1;let{buffer:Z}=this.buffer,Q=this.stack.length-1;if(K<0){let ie=Q<0?0:this.stack[Q]+4;if(this.index!=ie)return this.yieldBuf(Z.findChild(ie,this.index,-1,0,4))}else{let ie=Z.buffer[this.index+3];if(ie<(Q<0?Z.buffer.length:Z.buffer[this.stack[Q]+3]))return this.yieldBuf(ie)}return Q<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+K,K,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(K){let Z,Q,{buffer:ie}=this;if(ie){if(K>0){if(this.index<ie.buffer.buffer.length)return!1}else for(let Te=0;Te<this.index;Te++)if(ie.buffer.buffer[Te+3]<this.index)return!1;({index:Z,parent:Q}=ie)}else({index:Z,_parent:Q}=this._tree);for(;Q;{index:Z,_parent:Q}=Q)if(Z>-1)for(let Te=Z+K,Xe=K<0?-1:Q._tree.children.length;Te!=Xe;Te+=K){let ct=Q._tree.children[Te];if(this.mode&z.IncludeAnonymous||ct instanceof ae||!ct.type.isAnonymous||Se(ct))return!1}return!0}move(K,Z){if(Z&&this.enterChild(K,0,4))return!0;for(;;){if(this.sibling(K))return!0;if(this.atLastNode(K)||!this.parent())return!1}}next(K=!0){return this.move(1,K)}prev(K=!0){return this.move(-1,K)}moveTo(K,Z=0){for(;(this.from==this.to||(Z<1?this.from>=K:this.from>K)||(Z>-1?this.to<=K:this.to<K))&&this.parent(););for(;this.enterChild(1,K,Z););return this}get node(){if(!this.buffer)return this._tree;let K=this.bufferNode,Z=null,Q=0;if(K&&K.context==this.buffer){e:for(let ie=this.index,Te=this.stack.length;Te>=0;){for(let Xe=K;Xe;Xe=Xe._parent)if(Xe.index==ie){if(ie==this.index)return Xe;Z=Xe,Q=Te+1;break e}ie=this.stack[--Te]}}for(let ie=Q;ie<this.stack.length;ie++)Z=new ee(this.buffer,Z,this.stack[ie]);return this.bufferNode=new ee(this.buffer,Z,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(K,Z){for(let Q=0;;){let ie=!1;if(this.type.isAnonymous||K(this)!==!1){if(this.firstChild()){Q++;continue}this.type.isAnonymous||(ie=!0)}for(;ie&&Z&&Z(this),ie=this.type.isAnonymous,!this.nextSibling();){if(!Q)return;this.parent(),Q--,ie=!0}}}matchContext(K){if(!this.buffer)return se(this.node,K);let{buffer:Z}=this.buffer,{types:Q}=Z.set;for(let ie=K.length-1,Te=this.stack.length-1;ie>=0;Te--){if(Te<0)return se(this.node,K,ie);let Xe=Q[Z.buffer[this.stack[Te]]];if(!Xe.isAnonymous){if(K[ie]&&K[ie]!=Xe.name)return!1;ie--}}return!0}}function Se(Ve){return Ve.children.some(K=>K instanceof ae||!K.type.isAnonymous||Se(K))}function Ie(Ve){var K;let{buffer:Z,nodeSet:Q,maxBufferLength:ie=s,reused:Te=[],minRepeatType:Xe=Q.types.length}=Ve,ct=Array.isArray(Z)?new ne(Z,Z.length):Z,Mt=Q.types,Qt=0,Yt=0;function zt(Ft,jr,yr,dr,pr){let{id:cr,start:Wr,end:Tr,size:Ne}=ct,Gt=Yt;for(;Ne<0;)if(ct.next(),Ne==-1){let Er=Te[cr];yr.push(Er),dr.push(Wr-Ft);return}else if(Ne==-3){Qt=cr;return}else if(Ne==-4){Yt=cr;return}else throw new RangeError(`Unrecognized record size: ${Ne}`);let ir=Mt[cr],lr,Sr,_r=Wr-Ft;if(Tr-Wr<=ie&&(Sr=Nt(ct.pos-jr,pr))){let Er=new Uint16Array(Sr.size-Sr.skip),Zr=ct.pos-Sr.size,Ir=Er.length;for(;ct.pos>Zr;)Ir=fr(Sr.start,Er,Ir);lr=new ae(Er,Tr-Sr.start,Q),_r=Sr.start-Ft}else{let Er=ct.pos-Ne;ct.next();let Zr=[],Ir=[],Rr=cr>=Xe?cr:-1,Xr=0,fn=Tr;for(;ct.pos>Er;)Rr>=0&&ct.id==Rr&&ct.size>=0?(ct.end<=fn-ie&&(ot(Zr,Ir,Wr,Xr,ct.end,fn,Rr,Gt),Xr=Zr.length,fn=ct.end),ct.next()):zt(Wr,Er,Zr,Ir,Rr);if(Rr>=0&&Xr>0&&Xr<Zr.length&&ot(Zr,Ir,Wr,Xr,Wr,fn,Rr,Gt),Zr.reverse(),Ir.reverse(),Rr>-1&&Xr>0){let Nr=Xt(ir);lr=Ge(ir,Zr,Ir,0,Zr.length,0,Tr-Wr,Nr,Nr)}else lr=Ct(ir,Zr,Ir,Tr-Wr,Gt-Tr)}yr.push(lr),dr.push(_r)}function Xt(Ft){return(jr,yr,dr)=>{let pr=0,cr=jr.length-1,Wr,Tr;if(cr>=0&&(Wr=jr[cr])instanceof re){if(!cr&&Wr.type==Ft&&Wr.length==dr)return Wr;(Tr=Wr.prop(O.lookAhead))&&(pr=yr[cr]+Wr.length+Tr)}return Ct(Ft,jr,yr,dr,pr)}}function ot(Ft,jr,yr,dr,pr,cr,Wr,Tr){let Ne=[],Gt=[];for(;Ft.length>dr;)Ne.push(Ft.pop()),Gt.push(jr.pop()+yr-pr);Ft.push(Ct(Q.types[Wr],Ne,Gt,cr-pr,Tr-cr)),jr.push(pr-yr)}function Ct(Ft,jr,yr,dr,pr=0,cr){if(Qt){let Wr=[O.contextHash,Qt];cr=cr?[Wr].concat(cr):[Wr]}if(pr>25){let Wr=[O.lookAhead,pr];cr=cr?[Wr].concat(cr):[Wr]}return new re(Ft,jr,yr,dr,cr)}function Nt(Ft,jr){let yr=ct.fork(),dr=0,pr=0,cr=0,Wr=yr.end-ie,Tr={size:0,start:0,skip:0};e:for(let Ne=yr.pos-Ft;yr.pos>Ne;){let Gt=yr.size;if(yr.id==jr&&Gt>=0){Tr.size=dr,Tr.start=pr,Tr.skip=cr,cr+=4,dr+=4,yr.next();continue}let ir=yr.pos-Gt;if(Gt<0||ir<Ne||yr.start<Wr)break;let lr=yr.id>=Xe?4:0,Sr=yr.start;for(yr.next();yr.pos>ir;){if(yr.size<0)if(yr.size==-3)lr+=4;else break e;else yr.id>=Xe&&(lr+=4);yr.next()}pr=Sr,dr+=Gt,cr+=lr}return(jr<0||dr==Ft)&&(Tr.size=dr,Tr.start=pr,Tr.skip=cr),Tr.size>4?Tr:void 0}function fr(Ft,jr,yr){let{id:dr,start:pr,end:cr,size:Wr}=ct;if(ct.next(),Wr>=0&&dr<Xe){let Tr=yr;if(Wr>4){let Ne=ct.pos-(Wr-4);for(;ct.pos>Ne;)yr=fr(Ft,jr,yr)}jr[--yr]=Tr,jr[--yr]=cr-Ft,jr[--yr]=pr-Ft,jr[--yr]=dr}else Wr==-3?Qt=dr:Wr==-4&&(Yt=dr);return yr}let Or=[],xr=[];for(;ct.pos>0;)zt(Ve.start||0,Ve.bufferStart||0,Or,xr,-1);let ar=(K=Ve.length)!==null&&K!==void 0?K:Or.length?xr[0]+Or[0].length:0;return new re(Mt[Ve.topID],Or.reverse(),xr.reverse(),ar)}const Oe=new WeakMap;function We(Ve,K){if(!Ve.isAnonymous||K instanceof ae||K.type!=Ve)return 1;let Z=Oe.get(K);if(Z==null){Z=1;for(let Q of K.children){if(Q.type!=Ve||!(Q instanceof re)){Z=1;break}Z+=We(Ve,Q)}Oe.set(K,Z)}return Z}function Ge(Ve,K,Z,Q,ie,Te,Xe,ct,Mt){let Qt=0;for(let Ct=Q;Ct<ie;Ct++)Qt+=We(Ve,K[Ct]);let Yt=Math.ceil(Qt*1.5/8),zt=[],Xt=[];function ot(Ct,Nt,fr,Or,xr){for(let ar=fr;ar<Or;){let Ft=ar,jr=Nt[ar],yr=We(Ve,Ct[ar]);for(ar++;ar<Or;ar++){let dr=We(Ve,Ct[ar]);if(yr+dr>=Yt)break;yr+=dr}if(ar==Ft+1){if(yr>Yt){let dr=Ct[Ft];ot(dr.children,dr.positions,0,dr.children.length,Nt[Ft]+xr);continue}zt.push(Ct[Ft])}else{let dr=Nt[ar-1]+Ct[ar-1].length-jr;zt.push(Ge(Ve,Ct,Nt,Ft,ar,jr,dr,null,Mt))}Xt.push(jr+xr-Te)}}return ot(K,Z,Q,ie,0),(ct||Mt)(zt,Xt,Xe)}class lt{constructor(){this.map=new WeakMap}setBuffer(K,Z,Q){let ie=this.map.get(K);ie||this.map.set(K,ie=new Map),ie.set(Z,Q)}getBuffer(K,Z){let Q=this.map.get(K);return Q&&Q.get(Z)}set(K,Z){K instanceof ee?this.setBuffer(K.context.buffer,K.index,Z):K instanceof ue&&this.map.set(K.tree,Z)}get(K){return K instanceof ee?this.getBuffer(K.context.buffer,K.index):K instanceof ue?this.map.get(K.tree):void 0}cursorSet(K,Z){K.buffer?this.setBuffer(K.buffer.buffer,K.index,Z):this.map.set(K.tree,Z)}cursorGet(K){return K.buffer?this.getBuffer(K.buffer.buffer,K.index):this.map.get(K.tree)}}class Qe{constructor(K,Z,Q,ie,Te=!1,Xe=!1){this.from=K,this.to=Z,this.tree=Q,this.offset=ie,this.open=(Te?1:0)|(Xe?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(K,Z=[],Q=!1){let ie=[new Qe(0,K.length,K,0,!1,Q)];for(let Te of Z)Te.to>K.length&&ie.push(Te);return ie}static applyChanges(K,Z,Q=128){if(!Z.length)return K;let ie=[],Te=1,Xe=K.length?K[0]:null;for(let ct=0,Mt=0,Qt=0;;ct++){let Yt=ct<Z.length?Z[ct]:null,zt=Yt?Yt.fromA:1e9;if(zt-Mt>=Q)for(;Xe&&Xe.from<zt;){let Xt=Xe;if(Mt>=Xt.from||zt<=Xt.to||Qt){let ot=Math.max(Xt.from,Mt)-Qt,Ct=Math.min(Xt.to,zt)-Qt;Xt=ot>=Ct?null:new Qe(ot,Ct,Xt.tree,Xt.offset+Qt,ct>0,!!Yt)}if(Xt&&ie.push(Xt),Xe.to>zt)break;Xe=Te<K.length?K[Te++]:null}if(!Yt)break;Mt=Yt.toA,Qt=Yt.toA-Yt.toB}return ie}}class He{startParse(K,Z,Q){return typeof K=="string"&&(K=new St(K)),Q=Q?Q.length?Q.map(ie=>new R(ie.from,ie.to)):[new R(0,0)]:[new R(0,K.length)],this.createParse(K,Z||[],Q)}parse(K,Z,Q){let ie=this.startParse(K,Z,Q);for(;;){let Te=ie.advance();if(Te)return Te}}}class St{constructor(K){this.string=K}get length(){return this.string.length}chunk(K){return this.string.slice(K)}get lineChunks(){return!1}read(K,Z){return this.string.slice(K,Z)}}function qt(Ve){return(K,Z,Q,ie)=>new Ze(K,Ve,Z,Q,ie)}class dt{constructor(K,Z,Q,ie,Te){if(this.parser=K,this.parse=Z,this.overlay=Q,this.target=ie,this.ranges=Te,!Te.length||Te.some(Xe=>Xe.from>=Xe.to))throw new RangeError("Invalid inner parse ranges given: "+JSON.stringify(Te))}}class wt{constructor(K,Z,Q,ie,Te,Xe,ct){this.parser=K,this.predicate=Z,this.mounts=Q,this.index=ie,this.start=Te,this.target=Xe,this.prev=ct,this.depth=0,this.ranges=[]}}const rt=new O({perNode:!0});class Ze{constructor(K,Z,Q,ie,Te){this.nest=Z,this.input=Q,this.fragments=ie,this.ranges=Te,this.inner=[],this.innerDone=0,this.baseTree=null,this.stoppedAt=null,this.baseParse=K}advance(){if(this.baseParse){let Q=this.baseParse.advance();if(!Q)return null;if(this.baseParse=null,this.baseTree=Q,this.startInner(),this.stoppedAt!=null)for(let ie of this.inner)ie.parse.stopAt(this.stoppedAt)}if(this.innerDone==this.inner.length){let Q=this.baseTree;return this.stoppedAt!=null&&(Q=new re(Q.type,Q.children,Q.positions,Q.length,Q.propValues.concat([[rt,this.stoppedAt]]))),Q}let K=this.inner[this.innerDone],Z=K.parse.advance();if(Z){this.innerDone++;let Q=Object.assign(Object.create(null),K.target.props);Q[O.mounted.id]=new _(Z,K.overlay,K.parser),K.target.props=Q}return null}get parsedPos(){if(this.baseParse)return 0;let K=this.input.length;for(let Z=this.innerDone;Z<this.inner.length;Z++)this.inner[Z].ranges[0].from<K&&(K=Math.min(K,this.inner[Z].parse.parsedPos));return K}stopAt(K){if(this.stoppedAt=K,this.baseParse)this.baseParse.stopAt(K);else for(let Z=this.innerDone;Z<this.inner.length;Z++)this.inner[Z].parse.stopAt(K)}startInner(){let K=new mt(this.fragments),Z=null,Q=null,ie=new $(new ue(this.baseTree,this.ranges[0].from,0,null),z.IncludeAnonymous|z.IgnoreMounts);e:for(let Te,Xe;this.stoppedAt==null||ie.from<this.stoppedAt;){let ct=!0,Mt;if(K.hasNode(ie)){if(Z){let Qt=Z.mounts.find(Yt=>Yt.frag.from<=ie.from&&Yt.frag.to>=ie.to&&Yt.mount.overlay);if(Qt)for(let Yt of Qt.mount.overlay){let zt=Yt.from+Qt.pos,Xt=Yt.to+Qt.pos;zt>=ie.from&&Xt<=ie.to&&!Z.ranges.some(ot=>ot.from<Xt&&ot.to>zt)&&Z.ranges.push({from:zt,to:Xt})}}ct=!1}else if(Q&&(Xe=yt(Q.ranges,ie.from,ie.to)))ct=Xe!=2;else if(!ie.type.isAnonymous&&ie.from<ie.to&&(Te=this.nest(ie,this.input))){ie.tree||ge(ie);let Qt=K.findMounts(ie.from,Te.parser);if(typeof Te.overlay=="function")Z=new wt(Te.parser,Te.overlay,Qt,this.inner.length,ie.from,ie.tree,Z);else{let Yt=_t(this.ranges,Te.overlay||[new R(ie.from,ie.to)]);Yt.length&&this.inner.push(new dt(Te.parser,Te.parser.startParse(this.input,Cr(Qt,Yt),Yt),Te.overlay?Te.overlay.map(zt=>new R(zt.from-ie.from,zt.to-ie.from)):null,ie.tree,Yt)),Te.overlay?Yt.length&&(Q={ranges:Yt,depth:0,prev:Q}):ct=!1}}else Z&&(Mt=Z.predicate(ie))&&(Mt===!0&&(Mt=new R(ie.from,ie.to)),Mt.from<Mt.to&&Z.ranges.push(Mt));if(ct&&ie.firstChild())Z&&Z.depth++,Q&&Q.depth++;else for(;!ie.nextSibling();){if(!ie.parent())break e;if(Z&&!--Z.depth){let Qt=_t(this.ranges,Z.ranges);Qt.length&&this.inner.splice(Z.index,0,new dt(Z.parser,Z.parser.startParse(this.input,Cr(Z.mounts,Qt),Qt),Z.ranges.map(Yt=>new R(Yt.from-Z.start,Yt.to-Z.start)),Z.target,Qt)),Z=Z.prev}Q&&!--Q.depth&&(Q=Q.prev)}}}}function yt(Ve,K,Z){for(let Q of Ve){if(Q.from>=Z)break;if(Q.to>K)return Q.from<=K&&Q.to>=Z?2:1}return 0}function tt(Ve,K,Z,Q,ie,Te){if(K<Z){let Xe=Ve.buffer[K+1];Q.push(Ve.slice(K,Z,Xe)),ie.push(Xe-Te)}}function ge(Ve){let{node:K}=Ve,Z=0;do Ve.parent(),Z++;while(!Ve.tree);let Q=0,ie=Ve.tree,Te=0;for(;Te=ie.positions[Q]+Ve.from,!(Te<=K.from&&Te+ie.children[Q].length>=K.to);Q++);let Xe=ie.children[Q],ct=Xe.buffer;function Mt(Qt,Yt,zt,Xt,ot){let Ct=Qt;for(;ct[Ct+2]+Te<=K.from;)Ct=ct[Ct+3];let Nt=[],fr=[];tt(Xe,Qt,Ct,Nt,fr,Xt);let Or=ct[Ct+1],xr=ct[Ct+2],ar=Or+Te==K.from&&xr+Te==K.to&&ct[Ct]==K.type.id;return Nt.push(ar?K.toTree():Mt(Ct+4,ct[Ct+3],Xe.set.types[ct[Ct]],Or,xr-Or)),fr.push(Or-Xt),tt(Xe,ct[Ct+3],Yt,Nt,fr,Xt),new re(zt,Nt,fr,ot)}ie.children[Q]=Mt(0,ct.length,N.none,0,Xe.length);for(let Qt=0;Qt<=Z;Qt++)Ve.childAfter(K.from)}class $e{constructor(K,Z){this.offset=Z,this.done=!1,this.cursor=K.cursor(z.IncludeAnonymous|z.IgnoreMounts)}moveTo(K){let{cursor:Z}=this,Q=K-this.offset;for(;!this.done&&Z.from<Q;)Z.to>=K&&Z.enter(Q,1,z.IgnoreOverlays|z.ExcludeBuffers)||Z.next(!1)||(this.done=!0)}hasNode(K){if(this.moveTo(K.from),!this.done&&this.cursor.from+this.offset==K.from&&this.cursor.tree)for(let Z=this.cursor.tree;;){if(Z==K.tree)return!0;if(Z.children.length&&Z.positions[0]==0&&Z.children[0]instanceof re)Z=Z.children[0];else break}return!1}}class mt{constructor(K){var Z;if(this.fragments=K,this.curTo=0,this.fragI=0,K.length){let Q=this.curFrag=K[0];this.curTo=(Z=Q.tree.prop(rt))!==null&&Z!==void 0?Z:Q.to,this.inner=new $e(Q.tree,-Q.offset)}else this.curFrag=this.inner=null}hasNode(K){for(;this.curFrag&&K.from>=this.curTo;)this.nextFrag();return this.curFrag&&this.curFrag.from<=K.from&&this.curTo>=K.to&&this.inner.hasNode(K)}nextFrag(){var K;if(this.fragI++,this.fragI==this.fragments.length)this.curFrag=this.inner=null;else{let Z=this.curFrag=this.fragments[this.fragI];this.curTo=(K=Z.tree.prop(rt))!==null&&K!==void 0?K:Z.to,this.inner=new $e(Z.tree,-Z.offset)}}findMounts(K,Z){var Q;let ie=[];if(this.inner){this.inner.cursor.moveTo(K,1);for(let Te=this.inner.cursor.node;Te;Te=Te.parent){let Xe=(Q=Te.tree)===null||Q===void 0?void 0:Q.prop(O.mounted);if(Xe&&Xe.parser==Z)for(let ct=this.fragI;ct<this.fragments.length;ct++){let Mt=this.fragments[ct];if(Mt.from>=Te.to)break;Mt.tree==this.curFrag.tree&&ie.push({frag:Mt,pos:Te.from-Mt.offset,mount:Xe})}}}return ie}}function _t(Ve,K){let Z=null,Q=K;for(let ie=1,Te=0;ie<Ve.length;ie++){let Xe=Ve[ie-1].to,ct=Ve[ie].from;for(;Te<Q.length;Te++){let Mt=Q[Te];if(Mt.from>=ct)break;Mt.to<=Xe||(Z||(Q=Z=K.slice()),Mt.from<Xe?(Z[Te]=new R(Mt.from,Xe),Mt.to>ct&&Z.splice(Te+1,0,new R(ct,Mt.to))):Mt.to>ct?Z[Te--]=new R(ct,Mt.to):Z.splice(Te--,1))}}return Q}function Vt(Ve,K,Z,Q){let ie=0,Te=0,Xe=!1,ct=!1,Mt=-1e9,Qt=[];for(;;){let Yt=ie==Ve.length?1e9:Xe?Ve[ie].to:Ve[ie].from,zt=Te==K.length?1e9:ct?K[Te].to:K[Te].from;if(Xe!=ct){let Xt=Math.max(Mt,Z),ot=Math.min(Yt,zt,Q);Xt<ot&&Qt.push(new R(Xt,ot))}if(Mt=Math.min(Yt,zt),Mt==1e9)break;Yt==Mt&&(Xe?(Xe=!1,ie++):Xe=!0),zt==Mt&&(ct?(ct=!1,Te++):ct=!0)}return Qt}function Cr(Ve,K){let Z=[];for(let{pos:Q,mount:ie,frag:Te}of Ve){let Xe=Q+(ie.overlay?ie.overlay[0].from:0),ct=Xe+ie.tree.length,Mt=Math.max(Te.from,Xe),Qt=Math.min(Te.to,ct);if(ie.overlay){let Yt=ie.overlay.map(Xt=>new R(Xt.from+Q,Xt.to+Q)),zt=Vt(K,Yt,Mt,Qt);for(let Xt=0,ot=Mt;;Xt++){let Ct=Xt==zt.length,Nt=Ct?Qt:zt[Xt].from;if(Nt>ot&&Z.push(new Qe(ot,Nt,ie.tree,-Xe,Te.from>=ot||Te.openStart,Te.to<=Nt||Te.openEnd)),Ct)break;ot=zt[Xt].to}}else Z.push(new Qe(Mt,Qt,ie.tree,-Xe,Te.from>=Xe||Te.openStart,Te.to<=ct||Te.openEnd))}return Z}},86253:function(Le,w,u){"use strict";u.d(w,{Gv:function(){return j},QR:function(){return z},bW:function(){return ne},pJ:function(){return He}});var s=u(21649);let p=0;class R{constructor(dt,wt,rt){this.set=dt,this.base=wt,this.modified=rt,this.id=p++}static define(dt){if(dt!=null&&dt.base)throw new Error("Can not derive from a modified tag");let wt=new R([],null,[]);if(wt.set.push(wt),dt)for(let rt of dt.set)wt.set.push(rt);return wt}static defineModifier(){let dt=new _;return wt=>wt.modified.indexOf(dt)>-1?wt:_.get(wt.base||wt,wt.modified.concat(dt).sort((rt,Ze)=>rt.id-Ze.id))}}let O=0;class _{constructor(){this.instances=[],this.id=O++}static get(dt,wt){if(!wt.length)return dt;let rt=wt[0].instances.find(ge=>ge.base==dt&&D(wt,ge.modified));if(rt)return rt;let Ze=[],yt=new R(Ze,dt,wt);for(let ge of wt)ge.instances.push(yt);let tt=N(wt);for(let ge of dt.set)if(!ge.modified.length)for(let $e of tt)Ze.push(_.get(ge,$e));return yt}}function D(qt,dt){return qt.length==dt.length&&qt.every((wt,rt)=>wt==dt[rt])}function N(qt){let dt=[[]];for(let wt=0;wt<qt.length;wt++)for(let rt=0,Ze=dt.length;rt<Ze;rt++)dt.push(dt[rt].concat(qt[wt]));return dt.sort((wt,rt)=>rt.length-wt.length)}function j(qt){let dt=Object.create(null);for(let wt in qt){let rt=qt[wt];Array.isArray(rt)||(rt=[rt]);for(let Ze of wt.split(" "))if(Ze){let yt=[],tt=2,ge=Ze;for(let Vt=0;;){if(ge=="..."&&Vt>0&&Vt+3==Ze.length){tt=1;break}let Cr=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(ge);if(!Cr)throw new RangeError("Invalid path: "+Ze);if(yt.push(Cr[0]=="*"?"":Cr[0][0]=='"'?JSON.parse(Cr[0]):Cr[0]),Vt+=Cr[0].length,Vt==Ze.length)break;let Ve=Ze[Vt++];if(Vt==Ze.length&&Ve=="!"){tt=0;break}if(Ve!="/")throw new RangeError("Invalid path: "+Ze);ge=Ze.slice(Vt)}let $e=yt.length-1,mt=yt[$e];if(!mt)throw new RangeError("Invalid path: "+Ze);let _t=new G(rt,tt,$e>0?yt.slice(0,$e):null);dt[mt]=_t.sort(dt[mt])}}return I.add(dt)}const I=new s.md;class G{constructor(dt,wt,rt,Ze){this.tags=dt,this.mode=wt,this.context=rt,this.next=Ze}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(dt){return!dt||dt.depth<this.depth?(this.next=dt,this):(dt.next=this.sort(dt.next),dt)}get depth(){return this.context?this.context.length:0}}G.empty=new G([],2,null);function z(qt,dt){let wt=Object.create(null);for(let yt of qt)if(!Array.isArray(yt.tag))wt[yt.tag.id]=yt.class;else for(let tt of yt.tag)wt[tt.id]=yt.class;let{scope:rt,all:Ze=null}=dt||{};return{style:yt=>{let tt=Ze;for(let ge of yt)for(let $e of ge.set){let mt=wt[$e.id];if(mt){tt=tt?tt+" "+mt:mt;break}}return tt},scope:rt}}function re(qt,dt){let wt=null;for(let rt of qt){let Ze=rt.style(dt);Ze&&(wt=wt?wt+" "+Ze:Ze)}return wt}function ne(qt,dt,wt,rt=0,Ze=qt.length){let yt=new ae(rt,Array.isArray(dt)?dt:[dt],wt);yt.highlightRange(qt.cursor(),rt,Ze,"",yt.highlighters),yt.flush(Ze)}class ae{constructor(dt,wt,rt){this.at=dt,this.highlighters=wt,this.span=rt,this.class=""}startSpan(dt,wt){wt!=this.class&&(this.flush(dt),dt>this.at&&(this.at=dt),this.class=wt)}flush(dt){dt>this.at&&this.class&&this.span(this.at,dt,this.class)}highlightRange(dt,wt,rt,Ze,yt){let{type:tt,from:ge,to:$e}=dt;if(ge>=rt||$e<=wt)return;tt.isTop&&(yt=this.highlighters.filter(Ve=>!Ve.scope||Ve.scope(tt)));let mt=Ze,_t=ve(dt)||G.empty,Vt=re(yt,_t.tags);if(Vt&&(mt&&(mt+=" "),mt+=Vt,_t.mode==1&&(Ze+=(Ze?" ":"")+Vt)),this.startSpan(Math.max(wt,ge),mt),_t.opaque)return;let Cr=dt.tree&&dt.tree.prop(s.md.mounted);if(Cr&&Cr.overlay){let Ve=dt.node.enter(Cr.overlay[0].from+ge,1),K=this.highlighters.filter(Q=>!Q.scope||Q.scope(Cr.tree.type)),Z=dt.firstChild();for(let Q=0,ie=ge;;Q++){let Te=Q<Cr.overlay.length?Cr.overlay[Q]:null,Xe=Te?Te.from+ge:$e,ct=Math.max(wt,ie),Mt=Math.min(rt,Xe);if(ct<Mt&&Z)for(;dt.from<Mt&&(this.highlightRange(dt,ct,Mt,Ze,yt),this.startSpan(Math.min(Mt,dt.to),mt),!(dt.to>=Xe||!dt.nextSibling())););if(!Te||Xe>rt)break;ie=Te.to+ge,ie>wt&&(this.highlightRange(Ve.cursor(),Math.max(wt,Te.from+ge),Math.min(rt,ie),"",K),this.startSpan(Math.min(rt,ie),mt))}Z&&dt.parent()}else if(dt.firstChild()){Cr&&(Ze="");do if(!(dt.to<=wt)){if(dt.from>=rt)break;this.highlightRange(dt,wt,rt,Ze,yt),this.startSpan(Math.min(rt,dt.to),mt)}while(dt.nextSibling());dt.parent()}}}function ve(qt){let dt=qt.type.prop(I);for(;dt&&dt.context&&!qt.matchContext(dt.context);)dt=dt.next;return dt||null}const M=R.define,H=M(),ue=M(),X=M(ue),se=M(ue),fe=M(),ee=M(fe),$=M(fe),Se=M(),Ie=M(Se),Oe=M(),We=M(),Ge=M(),lt=M(Ge),Qe=M(),He={comment:H,lineComment:M(H),blockComment:M(H),docComment:M(H),name:ue,variableName:M(ue),typeName:X,tagName:M(X),propertyName:se,attributeName:M(se),className:M(ue),labelName:M(ue),namespace:M(ue),macroName:M(ue),literal:fe,string:ee,docString:M(ee),character:M(ee),attributeValue:M(ee),number:$,integer:M($),float:M($),bool:M(fe),regexp:M(fe),escape:M(fe),color:M(fe),url:M(fe),keyword:Oe,self:M(Oe),null:M(Oe),atom:M(Oe),unit:M(Oe),modifier:M(Oe),operatorKeyword:M(Oe),controlKeyword:M(Oe),definitionKeyword:M(Oe),moduleKeyword:M(Oe),operator:We,derefOperator:M(We),arithmeticOperator:M(We),logicOperator:M(We),bitwiseOperator:M(We),compareOperator:M(We),updateOperator:M(We),definitionOperator:M(We),typeOperator:M(We),controlOperator:M(We),punctuation:Ge,separator:M(Ge),bracket:lt,angleBracket:M(lt),squareBracket:M(lt),paren:M(lt),brace:M(lt),content:Se,heading:Ie,heading1:M(Ie),heading2:M(Ie),heading3:M(Ie),heading4:M(Ie),heading5:M(Ie),heading6:M(Ie),contentSeparator:M(Se),list:M(Se),quote:M(Se),emphasis:M(Se),strong:M(Se),link:M(Se),monospace:M(Se),strikethrough:M(Se),inserted:M(),deleted:M(),changed:M(),invalid:M(),meta:Qe,documentMeta:M(Qe),annotation:M(Qe),processingInstruction:M(Qe),definition:R.defineModifier(),constant:R.defineModifier(),function:R.defineModifier(),standard:R.defineModifier(),local:R.defineModifier(),special:R.defineModifier()},St=z([{tag:He.link,class:"tok-link"},{tag:He.heading,class:"tok-heading"},{tag:He.emphasis,class:"tok-emphasis"},{tag:He.strong,class:"tok-strong"},{tag:He.keyword,class:"tok-keyword"},{tag:He.atom,class:"tok-atom"},{tag:He.bool,class:"tok-bool"},{tag:He.url,class:"tok-url"},{tag:He.labelName,class:"tok-labelName"},{tag:He.inserted,class:"tok-inserted"},{tag:He.deleted,class:"tok-deleted"},{tag:He.literal,class:"tok-literal"},{tag:He.string,class:"tok-string"},{tag:He.number,class:"tok-number"},{tag:[He.regexp,He.escape,He.special(He.string)],class:"tok-string2"},{tag:He.variableName,class:"tok-variableName"},{tag:He.local(He.variableName),class:"tok-variableName tok-local"},{tag:He.definition(He.variableName),class:"tok-variableName tok-definition"},{tag:He.special(He.variableName),class:"tok-variableName2"},{tag:He.definition(He.propertyName),class:"tok-propertyName tok-definition"},{tag:He.typeName,class:"tok-typeName"},{tag:He.namespace,class:"tok-namespace"},{tag:He.className,class:"tok-className"},{tag:He.macroName,class:"tok-macroName"},{tag:He.propertyName,class:"tok-propertyName"},{tag:He.operator,class:"tok-operator"},{tag:He.comment,class:"tok-comment"},{tag:He.meta,class:"tok-meta"},{tag:He.invalid,class:"tok-invalid"},{tag:He.punctuation,class:"tok-punctuation"}])},24649:function(Le,w,u){"use strict";u.d(w,{Z:function(){return H}});function s(){this.__data__=[],this.size=0}var p=s,R=u(78804);function O(ue,X){for(var se=ue.length;se--;)if((0,R.Z)(ue[se][0],X))return se;return-1}var _=O,D=Array.prototype,N=D.splice;function j(ue){var X=this.__data__,se=_(X,ue);if(se<0)return!1;var fe=X.length-1;return se==fe?X.pop():N.call(X,se,1),--this.size,!0}var I=j;function G(ue){var X=this.__data__,se=_(X,ue);return se<0?void 0:X[se][1]}var z=G;function re(ue){return _(this.__data__,ue)>-1}var ne=re;function ae(ue,X){var se=this.__data__,fe=_(se,ue);return fe<0?(++this.size,se.push([ue,X])):se[fe][1]=X,this}var ve=ae;function M(ue){var X=-1,se=ue==null?0:ue.length;for(this.clear();++X<se;){var fe=ue[X];this.set(fe[0],fe[1])}}M.prototype.clear=p,M.prototype.delete=I,M.prototype.get=z,M.prototype.has=ne,M.prototype.set=ve;var H=M},38896:function(Le,w,u){"use strict";var s=u(95546),p=u(93221),R=(0,s.Z)(p.Z,"Map");w.Z=R},43703:function(Le,w,u){"use strict";u.d(w,{Z:function(){return tt}});var s=u(95546),p=(0,s.Z)(Object,"create"),R=p;function O(){this.__data__=R?R(null):{},this.size=0}var _=O;function D(ge){var $e=this.has(ge)&&delete this.__data__[ge];return this.size-=$e?1:0,$e}var N=D,j="__lodash_hash_undefined__",I=Object.prototype,G=I.hasOwnProperty;function z(ge){var $e=this.__data__;if(R){var mt=$e[ge];return mt===j?void 0:mt}return G.call($e,ge)?$e[ge]:void 0}var re=z,ne=Object.prototype,ae=ne.hasOwnProperty;function ve(ge){var $e=this.__data__;return R?$e[ge]!==void 0:ae.call($e,ge)}var M=ve,H="__lodash_hash_undefined__";function ue(ge,$e){var mt=this.__data__;return this.size+=this.has(ge)?0:1,mt[ge]=R&&$e===void 0?H:$e,this}var X=ue;function se(ge){var $e=-1,mt=ge==null?0:ge.length;for(this.clear();++$e<mt;){var _t=ge[$e];this.set(_t[0],_t[1])}}se.prototype.clear=_,se.prototype.delete=N,se.prototype.get=re,se.prototype.has=M,se.prototype.set=X;var fe=se,ee=u(24649),$=u(38896);function Se(){this.size=0,this.__data__={hash:new fe,map:new($.Z||ee.Z),string:new fe}}var Ie=Se;function Oe(ge){var $e=typeof ge;return $e=="string"||$e=="number"||$e=="symbol"||$e=="boolean"?ge!=="__proto__":ge===null}var We=Oe;function Ge(ge,$e){var mt=ge.__data__;return We($e)?mt[typeof $e=="string"?"string":"hash"]:mt.map}var lt=Ge;function Qe(ge){var $e=lt(this,ge).delete(ge);return this.size-=$e?1:0,$e}var He=Qe;function St(ge){return lt(this,ge).get(ge)}var qt=St;function dt(ge){return lt(this,ge).has(ge)}var wt=dt;function rt(ge,$e){var mt=lt(this,ge),_t=mt.size;return mt.set(ge,$e),this.size+=mt.size==_t?0:1,this}var Ze=rt;function yt(ge){var $e=-1,mt=ge==null?0:ge.length;for(this.clear();++$e<mt;){var _t=ge[$e];this.set(_t[0],_t[1])}}yt.prototype.clear=Ie,yt.prototype.delete=He,yt.prototype.get=qt,yt.prototype.has=wt,yt.prototype.set=Ze;var tt=yt},87459:function(Le,w,u){"use strict";var s=u(95546),p=u(93221),R=(0,s.Z)(p.Z,"Set");w.Z=R},46218:function(Le,w,u){"use strict";u.d(w,{Z:function(){return M}});var s=u(24649);function p(){this.__data__=new s.Z,this.size=0}var R=p;function O(H){var ue=this.__data__,X=ue.delete(H);return this.size=ue.size,X}var _=O;function D(H){return this.__data__.get(H)}var N=D;function j(H){return this.__data__.has(H)}var I=j,G=u(38896),z=u(43703),re=200;function ne(H,ue){var X=this.__data__;if(X instanceof s.Z){var se=X.__data__;if(!G.Z||se.length<re-1)return se.push([H,ue]),this.size=++X.size,this;X=this.__data__=new z.Z(se)}return X.set(H,ue),this.size=X.size,this}var ae=ne;function ve(H){var ue=this.__data__=new s.Z(H);this.size=ue.size}ve.prototype.clear=R,ve.prototype.delete=_,ve.prototype.get=N,ve.prototype.has=I,ve.prototype.set=ae;var M=ve},187:function(Le,w,u){"use strict";var s=u(93221),p=s.Z.Symbol;w.Z=p},88282:function(Le,w,u){"use strict";var s=u(93221),p=s.Z.Uint8Array;w.Z=p},45423:function(Le,w,u){"use strict";var s=u(19510),p=u(7720),R=u(97885),O=u(74975),_=u(66401),D=u(98127),N=Object.prototype,j=N.hasOwnProperty;function I(G,z){var re=(0,R.Z)(G),ne=!re&&(0,p.Z)(G),ae=!re&&!ne&&(0,O.Z)(G),ve=!re&&!ne&&!ae&&(0,D.Z)(G),M=re||ne||ae||ve,H=M?(0,s.Z)(G.length,String):[],ue=H.length;for(var X in G)(z||j.call(G,X))&&!(M&&(X=="length"||ae&&(X=="offset"||X=="parent")||ve&&(X=="buffer"||X=="byteLength"||X=="byteOffset")||(0,_.Z)(X,ue)))&&H.push(X);return H}w.Z=I},95598:function(Le,w){"use strict";function u(s,p){for(var R=-1,O=s==null?0:s.length,_=Array(O);++R<O;)_[R]=p(s[R],R,s);return _}w.Z=u},15589:function(Le,w){"use strict";function u(s,p){for(var R=-1,O=p.length,_=s.length;++R<O;)s[_+R]=p[R];return s}w.Z=u},16299:function(Le,w,u){"use strict";var s=u(40905),p=u(78804),R=Object.prototype,O=R.hasOwnProperty;function _(D,N,j){var I=D[N];(!(O.call(D,N)&&(0,p.Z)(I,j))||j===void 0&&!(N in D))&&(0,s.Z)(D,N,j)}w.Z=_},40905:function(Le,w,u){"use strict";var s=u(75088);function p(R,O,_){O=="__proto__"&&s.Z?(0,s.Z)(R,O,{configurable:!0,enumerable:!0,value:_,writable:!0}):R[O]=_}w.Z=p},72764:function(Le,w,u){"use strict";u.d(w,{Z:function(){return Mo}});var s=u(46218);function p(Ht,Ee){for(var F=-1,q=Ht==null?0:Ht.length;++F<q&&Ee(Ht[F],F,Ht)!==!1;);return Ht}var R=p,O=u(16299),_=u(82436),D=u(20649);function N(Ht,Ee){return Ht&&(0,_.Z)(Ee,(0,D.Z)(Ee),Ht)}var j=N,I=u(47477);function G(Ht,Ee){return Ht&&(0,_.Z)(Ee,(0,I.Z)(Ee),Ht)}var z=G,re=u(93221),ne=typeof ga=="object"&&ga&&!ga.nodeType&&ga,ae=ne&&typeof ya=="object"&&ya&&!ya.nodeType&&ya,ve=ae&&ae.exports===ne,M=ve?re.Z.Buffer:void 0,H=M?M.allocUnsafe:void 0;function ue(Ht,Ee){if(Ee)return Ht.slice();var F=Ht.length,q=H?H(F):new Ht.constructor(F);return Ht.copy(q),q}var X=ue,se=u(31162),fe=u(46808);function ee(Ht,Ee){return(0,_.Z)(Ht,(0,fe.Z)(Ht),Ee)}var $=ee,Se=u(98390);function Ie(Ht,Ee){return(0,_.Z)(Ht,(0,Se.Z)(Ht),Ee)}var Oe=Ie,We=u(37245),Ge=u(9878),lt=u(57210),Qe=Object.prototype,He=Qe.hasOwnProperty;function St(Ht){var Ee=Ht.length,F=new Ht.constructor(Ee);return Ee&&typeof Ht[0]=="string"&&He.call(Ht,"index")&&(F.index=Ht.index,F.input=Ht.input),F}var qt=St,dt=u(88282);function wt(Ht){var Ee=new Ht.constructor(Ht.byteLength);return new dt.Z(Ee).set(new dt.Z(Ht)),Ee}var rt=wt;function Ze(Ht,Ee){var F=Ee?rt(Ht.buffer):Ht.buffer;return new Ht.constructor(F,Ht.byteOffset,Ht.byteLength)}var yt=Ze,tt=/\w*$/;function ge(Ht){var Ee=new Ht.constructor(Ht.source,tt.exec(Ht));return Ee.lastIndex=Ht.lastIndex,Ee}var $e=ge,mt=u(187),_t=mt.Z?mt.Z.prototype:void 0,Vt=_t?_t.valueOf:void 0;function Cr(Ht){return Vt?Object(Vt.call(Ht)):{}}var Ve=Cr;function K(Ht,Ee){var F=Ee?rt(Ht.buffer):Ht.buffer;return new Ht.constructor(F,Ht.byteOffset,Ht.length)}var Z=K,Q="[object Boolean]",ie="[object Date]",Te="[object Map]",Xe="[object Number]",ct="[object RegExp]",Mt="[object Set]",Qt="[object String]",Yt="[object Symbol]",zt="[object ArrayBuffer]",Xt="[object DataView]",ot="[object Float32Array]",Ct="[object Float64Array]",Nt="[object Int8Array]",fr="[object Int16Array]",Or="[object Int32Array]",xr="[object Uint8Array]",ar="[object Uint8ClampedArray]",Ft="[object Uint16Array]",jr="[object Uint32Array]";function yr(Ht,Ee,F){var q=Ht.constructor;switch(Ee){case zt:return rt(Ht);case Q:case ie:return new q(+Ht);case Xt:return yt(Ht,F);case ot:case Ct:case Nt:case fr:case Or:case xr:case ar:case Ft:case jr:return Z(Ht,F);case Te:return new q;case Xe:case Qt:return new q(Ht);case ct:return $e(Ht);case Mt:return new q;case Yt:return Ve(Ht)}}var dr=yr,pr=u(93122),cr=Object.create,Wr=function(){function Ht(){}return function(Ee){if(!(0,pr.Z)(Ee))return{};if(cr)return cr(Ee);Ht.prototype=Ee;var F=new Ht;return Ht.prototype=void 0,F}}(),Tr=Wr,Ne=u(29552),Gt=u(15441);function ir(Ht){return typeof Ht.constructor=="function"&&!(0,Gt.Z)(Ht)?Tr((0,Ne.Z)(Ht)):{}}var lr=ir,Sr=u(97885),_r=u(74975),Er=u(43391),Zr="[object Map]";function Ir(Ht){return(0,Er.Z)(Ht)&&(0,lt.Z)(Ht)==Zr}var Rr=Ir,Xr=u(93225),fn=u(37755),Nr=fn.Z&&fn.Z.isMap,ln=Nr?(0,Xr.Z)(Nr):Rr,mn=ln,vn="[object Set]";function gn(Ht){return(0,Er.Z)(Ht)&&(0,lt.Z)(Ht)==vn}var un=gn,cn=fn.Z&&fn.Z.isSet,Yr=cn?(0,Xr.Z)(cn):un,yn=Yr,sn=1,Qr=2,En=4,bn="[object Arguments]",oi="[object Array]",zi="[object Boolean]",Pe="[object Date]",y="[object Error]",T="[object Function]",V="[object GeneratorFunction]",te="[object Map]",xe="[object Number]",be="[object Object]",Ke="[object RegExp]",je="[object Set]",Tt="[object String]",jt="[object Symbol]",Zt="[object WeakMap]",Pr="[object ArrayBuffer]",mr="[object DataView]",On="[object Float32Array]",Mn="[object Float64Array]",zn="[object Int8Array]",$i="[object Int16Array]",Ii="[object Int32Array]",Cn="[object Uint8Array]",Bo="[object Uint8ClampedArray]",So="[object Uint16Array]",ko="[object Uint32Array]",$n={};$n[bn]=$n[oi]=$n[Pr]=$n[mr]=$n[zi]=$n[Pe]=$n[On]=$n[Mn]=$n[zn]=$n[$i]=$n[Ii]=$n[te]=$n[xe]=$n[be]=$n[Ke]=$n[je]=$n[Tt]=$n[jt]=$n[Cn]=$n[Bo]=$n[So]=$n[ko]=!0,$n[y]=$n[T]=$n[Zt]=!1;function Ri(Ht,Ee,F,q,_e,Fe){var st,ht=Ee&sn,Wt=Ee&Qr,Lt=Ee&En;if(F&&(st=_e?F(Ht,q,_e,Fe):F(Ht)),st!==void 0)return st;if(!(0,pr.Z)(Ht))return Ht;var Lr=(0,Sr.Z)(Ht);if(Lr){if(st=qt(Ht),!ht)return(0,se.Z)(Ht,st)}else{var Kr=(0,lt.Z)(Ht),In=Kr==T||Kr==V;if((0,_r.Z)(Ht))return X(Ht,ht);if(Kr==be||Kr==bn||In&&!_e){if(st=Wt||In?{}:lr(Ht),!ht)return Wt?Oe(Ht,z(st,Ht)):$(Ht,j(st,Ht))}else{if(!$n[Kr])return _e?Ht:{};st=dr(Ht,Kr,ht)}}Fe||(Fe=new s.Z);var wi=Fe.get(Ht);if(wi)return wi;Fe.set(Ht,st),yn(Ht)?Ht.forEach(function(Si){st.add(Ri(Si,Ee,F,Si,Ht,Fe))}):mn(Ht)&&Ht.forEach(function(Si,Hi){st.set(Hi,Ri(Si,Ee,F,Hi,Ht,Fe))});var Ai=Lt?Wt?Ge.Z:We.Z:Wt?I.Z:D.Z,si=Lr?void 0:Ai(Ht);return R(si||Ht,function(Si,Hi){si&&(Hi=Si,Si=Ht[Hi]),(0,O.Z)(st,Hi,Ri(Si,Ee,F,Hi,Ht,Fe))}),st}var Mo=Ri},53338:function(Le,w,u){"use strict";u.d(w,{Z:function(){return I}});var s=u(15589),p=u(187),R=u(7720),O=u(97885),_=p.Z?p.Z.isConcatSpreadable:void 0;function D(G){return(0,O.Z)(G)||(0,R.Z)(G)||!!(_&&G&&G[_])}var N=D;function j(G,z,re,ne,ae){var ve=-1,M=G.length;for(re||(re=N),ae||(ae=[]);++ve<M;){var H=G[ve];z>0&&re(H)?z>1?j(H,z-1,re,ne,ae):(0,s.Z)(ae,H):ne||(ae[ae.length]=H)}return ae}var I=j},89523:function(Le,w,u){"use strict";var s=u(42082),p=u(57969);function R(O,_){_=(0,s.Z)(_,O);for(var D=0,N=_.length;O!=null&&D<N;)O=O[(0,p.Z)(_[D++])];return D&&D==N?O:void 0}w.Z=R},52938:function(Le,w,u){"use strict";var s=u(15589),p=u(97885);function R(O,_,D){var N=_(O);return(0,p.Z)(O)?N:(0,s.Z)(N,D(O))}w.Z=R},99001:function(Le,w,u){"use strict";u.d(w,{Z:function(){return M}});var s=u(187),p=Object.prototype,R=p.hasOwnProperty,O=p.toString,_=s.Z?s.Z.toStringTag:void 0;function D(H){var ue=R.call(H,_),X=H[_];try{H[_]=void 0;var se=!0}catch{}var fe=O.call(H);return se&&(ue?H[_]=X:delete H[_]),fe}var N=D,j=Object.prototype,I=j.toString;function G(H){return I.call(H)}var z=G,re="[object Null]",ne="[object Undefined]",ae=s.Z?s.Z.toStringTag:void 0;function ve(H){return H==null?H===void 0?ne:re:ae&&ae in Object(H)?N(H):z(H)}var M=ve},93917:function(Le,w,u){"use strict";u.d(w,{Z:function(){return j}});var s=u(15441),p=u(76048),R=(0,p.Z)(Object.keys,Object),O=R,_=Object.prototype,D=_.hasOwnProperty;function N(I){if(!(0,s.Z)(I))return O(I);var G=[];for(var z in Object(I))D.call(I,z)&&z!="constructor"&&G.push(z);return G}var j=N},64187:function(Le,w,u){"use strict";var s=u(16299),p=u(42082),R=u(66401),O=u(93122),_=u(57969);function D(N,j,I,G){if(!(0,O.Z)(N))return N;j=(0,p.Z)(j,N);for(var z=-1,re=j.length,ne=re-1,ae=N;ae!=null&&++z<re;){var ve=(0,_.Z)(j[z]),M=I;if(ve==="__proto__"||ve==="constructor"||ve==="prototype")return N;if(z!=ne){var H=ae[ve];M=G?G(H,ve,ae):void 0,M===void 0&&(M=(0,O.Z)(H)?H:(0,R.Z)(j[z+1])?[]:{})}(0,s.Z)(ae,ve,M),ae=ae[ve]}return N}w.Z=D},19510:function(Le,w){"use strict";function u(s,p){for(var R=-1,O=Array(s);++R<s;)O[R]=p(R);return O}w.Z=u},93225:function(Le,w){"use strict";function u(s){return function(p){return s(p)}}w.Z=u},56764:function(Le,w,u){"use strict";u.d(w,{Z:function(){return z}});var s=u(42082);function p(re){var ne=re==null?0:re.length;return ne?re[ne-1]:void 0}var R=p,O=u(89523);function _(re,ne,ae){var ve=-1,M=re.length;ne<0&&(ne=-ne>M?0:M+ne),ae=ae>M?M:ae,ae<0&&(ae+=M),M=ne>ae?0:ae-ne>>>0,ne>>>=0;for(var H=Array(M);++ve<M;)H[ve]=re[ve+ne];return H}var D=_;function N(re,ne){return ne.length<2?re:(0,O.Z)(re,D(ne,0,-1))}var j=N,I=u(57969);function G(re,ne){return ne=(0,s.Z)(ne,re),re=j(re,ne),re==null||delete re[(0,I.Z)(R(ne))]}var z=G},42082:function(Le,w,u){"use strict";var s=u(97885),p=u(23502),R=u(32540),O=u(33523);function _(D,N){return(0,s.Z)(D)?D:(0,p.Z)(D,N)?[D]:(0,R.Z)((0,O.Z)(D))}w.Z=_},31162:function(Le,w){"use strict";function u(s,p){var R=-1,O=s.length;for(p||(p=Array(O));++R<O;)p[R]=s[R];return p}w.Z=u},82436:function(Le,w,u){"use strict";var s=u(16299),p=u(40905);function R(O,_,D,N){var j=!D;D||(D={});for(var I=-1,G=_.length;++I<G;){var z=_[I],re=N?N(D[z],O[z],z,D,O):void 0;re===void 0&&(re=O[z]),j?(0,p.Z)(D,z,re):(0,s.Z)(D,z,re)}return D}w.Z=R},75088:function(Le,w,u){"use strict";var s=u(95546),p=function(){try{var R=(0,s.Z)(Object,"defineProperty");return R({},"",{}),R}catch{}}();w.Z=p},5255:function(Le,w,u){"use strict";u.d(w,{Z:function(){return N}});var s=u(53338);function p(j){var I=j==null?0:j.length;return I?(0,s.Z)(j,1):[]}var R=p,O=u(91130),_=u(19603);function D(j){return(0,_.Z)((0,O.Z)(j,void 0,R),j+"")}var N=D},93854:function(Le,w){"use strict";var u=typeof global=="object"&&global&&global.Object===Object&&global;w.Z=u},37245:function(Le,w,u){"use strict";var s=u(52938),p=u(46808),R=u(20649);function O(_){return(0,s.Z)(_,R.Z,p.Z)}w.Z=O},9878:function(Le,w,u){"use strict";var s=u(52938),p=u(98390),R=u(47477);function O(_){return(0,s.Z)(_,R.Z,p.Z)}w.Z=O},95546:function(Le,w,u){"use strict";u.d(w,{Z:function(){return ee}});var s=u(8936),p=u(93221),R=p.Z["__core-js_shared__"],O=R,_=function(){var $=/[^.]+$/.exec(O&&O.keys&&O.keys.IE_PROTO||"");return $?"Symbol(src)_1."+$:""}();function D($){return!!_&&_ in $}var N=D,j=u(93122),I=u(19696),G=/[\\^$.*+?()[\]{}|]/g,z=/^\[object .+?Constructor\]$/,re=Function.prototype,ne=Object.prototype,ae=re.toString,ve=ne.hasOwnProperty,M=RegExp("^"+ae.call(ve).replace(G,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function H($){if(!(0,j.Z)($)||N($))return!1;var Se=(0,s.Z)($)?M:z;return Se.test((0,I.Z)($))}var ue=H;function X($,Se){return $==null?void 0:$[Se]}var se=X;function fe($,Se){var Ie=se($,Se);return ue(Ie)?Ie:void 0}var ee=fe},29552:function(Le,w,u){"use strict";var s=u(76048),p=(0,s.Z)(Object.getPrototypeOf,Object);w.Z=p},46808:function(Le,w,u){"use strict";u.d(w,{Z:function(){return j}});function s(I,G){for(var z=-1,re=I==null?0:I.length,ne=0,ae=[];++z<re;){var ve=I[z];G(ve,z,I)&&(ae[ne++]=ve)}return ae}var p=s,R=u(70813),O=Object.prototype,_=O.propertyIsEnumerable,D=Object.getOwnPropertySymbols,N=D?function(I){return I==null?[]:(I=Object(I),p(D(I),function(G){return _.call(I,G)}))}:R.Z,j=N},98390:function(Le,w,u){"use strict";var s=u(15589),p=u(29552),R=u(46808),O=u(70813),_=Object.getOwnPropertySymbols,D=_?function(N){for(var j=[];N;)(0,s.Z)(j,(0,R.Z)(N)),N=(0,p.Z)(N);return j}:O.Z;w.Z=D},57210:function(Le,w,u){"use strict";u.d(w,{Z:function(){return Ie}});var s=u(95546),p=u(93221),R=(0,s.Z)(p.Z,"DataView"),O=R,_=u(38896),D=(0,s.Z)(p.Z,"Promise"),N=D,j=u(87459),I=(0,s.Z)(p.Z,"WeakMap"),G=I,z=u(99001),re=u(19696),ne="[object Map]",ae="[object Object]",ve="[object Promise]",M="[object Set]",H="[object WeakMap]",ue="[object DataView]",X=(0,re.Z)(O),se=(0,re.Z)(_.Z),fe=(0,re.Z)(N),ee=(0,re.Z)(j.Z),$=(0,re.Z)(G),Se=z.Z;(O&&Se(new O(new ArrayBuffer(1)))!=ue||_.Z&&Se(new _.Z)!=ne||N&&Se(N.resolve())!=ve||j.Z&&Se(new j.Z)!=M||G&&Se(new G)!=H)&&(Se=function(Oe){var We=(0,z.Z)(Oe),Ge=We==ae?Oe.constructor:void 0,lt=Ge?(0,re.Z)(Ge):"";if(lt)switch(lt){case X:return ue;case se:return ne;case fe:return ve;case ee:return M;case $:return H}return We});var Ie=Se},8693:function(Le,w,u){"use strict";var s=u(42082),p=u(7720),R=u(97885),O=u(66401),_=u(61164),D=u(57969);function N(j,I,G){I=(0,s.Z)(I,j);for(var z=-1,re=I.length,ne=!1;++z<re;){var ae=(0,D.Z)(I[z]);if(!(ne=j!=null&&G(j,ae)))break;j=j[ae]}return ne||++z!=re?ne:(re=j==null?0:j.length,!!re&&(0,_.Z)(re)&&(0,O.Z)(ae,re)&&((0,R.Z)(j)||(0,p.Z)(j)))}w.Z=N},66401:function(Le,w){"use strict";var u=9007199254740991,s=/^(?:0|[1-9]\d*)$/;function p(R,O){var _=typeof R;return O=O==null?u:O,!!O&&(_=="number"||_!="symbol"&&s.test(R))&&R>-1&&R%1==0&&R<O}w.Z=p},23502:function(Le,w,u){"use strict";var s=u(97885),p=u(22758),R=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,O=/^\w*$/;function _(D,N){if((0,s.Z)(D))return!1;var j=typeof D;return j=="number"||j=="symbol"||j=="boolean"||D==null||(0,p.Z)(D)?!0:O.test(D)||!R.test(D)||N!=null&&D in Object(N)}w.Z=_},15441:function(Le,w){"use strict";var u=Object.prototype;function s(p){var R=p&&p.constructor,O=typeof R=="function"&&R.prototype||u;return p===O}w.Z=s},37755:function(Le,w,u){"use strict";var s=u(93854),p=typeof ga=="object"&&ga&&!ga.nodeType&&ga,R=p&&typeof ya=="object"&&ya&&!ya.nodeType&&ya,O=R&&R.exports===p,_=O&&s.Z.process,D=function(){try{var N=R&&R.require&&R.require("util").types;return N||_&&_.binding&&_.binding("util")}catch{}}();w.Z=D},76048:function(Le,w){"use strict";function u(s,p){return function(R){return s(p(R))}}w.Z=u},91130:function(Le,w,u){"use strict";u.d(w,{Z:function(){return _}});function s(D,N,j){switch(j.length){case 0:return D.call(N);case 1:return D.call(N,j[0]);case 2:return D.call(N,j[0],j[1]);case 3:return D.call(N,j[0],j[1],j[2])}return D.apply(N,j)}var p=s,R=Math.max;function O(D,N,j){return N=R(N===void 0?D.length-1:N,0),function(){for(var I=arguments,G=-1,z=R(I.length-N,0),re=Array(z);++G<z;)re[G]=I[N+G];G=-1;for(var ne=Array(N+1);++G<N;)ne[G]=I[G];return ne[N]=j(re),p(D,this,ne)}}var _=O},93221:function(Le,w,u){"use strict";var s=u(93854),p=typeof self=="object"&&self&&self.Object===Object&&self,R=s.Z||p||Function("return this")();w.Z=R},19603:function(Le,w,u){"use strict";u.d(w,{Z:function(){return ne}});function s(ae){return function(){return ae}}var p=s,R=u(75088),O=u(89930),_=R.Z?function(ae,ve){return(0,R.Z)(ae,"toString",{configurable:!0,enumerable:!1,value:p(ve),writable:!0})}:O.Z,D=_,N=800,j=16,I=Date.now;function G(ae){var ve=0,M=0;return function(){var H=I(),ue=j-(H-M);if(M=H,ue>0){if(++ve>=N)return arguments[0]}else ve=0;return ae.apply(void 0,arguments)}}var z=G,re=z(D),ne=re},32540:function(Le,w,u){"use strict";u.d(w,{Z:function(){return z}});var s=u(43703),p="Expected a function";function R(re,ne){if(typeof re!="function"||ne!=null&&typeof ne!="function")throw new TypeError(p);var ae=function(){var ve=arguments,M=ne?ne.apply(this,ve):ve[0],H=ae.cache;if(H.has(M))return H.get(M);var ue=re.apply(this,ve);return ae.cache=H.set(M,ue)||H,ue};return ae.cache=new(R.Cache||s.Z),ae}R.Cache=s.Z;var O=R,_=500;function D(re){var ne=O(re,function(ve){return ae.size===_&&ae.clear(),ve}),ae=ne.cache;return ne}var N=D,j=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,I=/\\(\\)?/g,G=N(function(re){var ne=[];return re.charCodeAt(0)===46&&ne.push(""),re.replace(j,function(ae,ve,M,H){ne.push(M?H.replace(I,"$1"):ve||ae)}),ne}),z=G},57969:function(Le,w,u){"use strict";var s=u(22758),p=1/0;function R(O){if(typeof O=="string"||(0,s.Z)(O))return O;var _=O+"";return _=="0"&&1/O==-p?"-0":_}w.Z=R},19696:function(Le,w){"use strict";var u=Function.prototype,s=u.toString;function p(R){if(R!=null){try{return s.call(R)}catch{}try{return R+""}catch{}}return""}w.Z=p},7921:function(Le,w,u){"use strict";var s=u(72764),p=1,R=4;function O(_){return(0,s.Z)(_,p|R)}w.Z=O},78804:function(Le,w){"use strict";function u(s,p){return s===p||s!==s&&p!==p}w.Z=u},90772:function(Le,w,u){"use strict";var s=u(89523);function p(R,O,_){var D=R==null?void 0:(0,s.Z)(R,O);return D===void 0?_:D}w.Z=p},6279:function(Le,w,u){"use strict";u.d(w,{Z:function(){return N}});var s=Object.prototype,p=s.hasOwnProperty;function R(j,I){return j!=null&&p.call(j,I)}var O=R,_=u(8693);function D(j,I){return j!=null&&(0,_.Z)(j,I,O)}var N=D},12930:function(Le,w,u){"use strict";u.d(w,{Z:function(){return _}});function s(D,N){return D!=null&&N in Object(D)}var p=s,R=u(8693);function O(D,N){return D!=null&&(0,R.Z)(D,N,p)}var _=O},89930:function(Le,w){"use strict";function u(s){return s}w.Z=u},7720:function(Le,w,u){"use strict";u.d(w,{Z:function(){return G}});var s=u(99001),p=u(43391),R="[object Arguments]";function O(z){return(0,p.Z)(z)&&(0,s.Z)(z)==R}var _=O,D=Object.prototype,N=D.hasOwnProperty,j=D.propertyIsEnumerable,I=_(function(){return arguments}())?_:function(z){return(0,p.Z)(z)&&N.call(z,"callee")&&!j.call(z,"callee")},G=I},97885:function(Le,w){"use strict";var u=Array.isArray;w.Z=u},63282:function(Le,w,u){"use strict";var s=u(8936),p=u(61164);function R(O){return O!=null&&(0,p.Z)(O.length)&&!(0,s.Z)(O)}w.Z=R},74975:function(Le,w,u){"use strict";u.d(w,{Z:function(){return G}});var s=u(93221);function p(){return!1}var R=p,O=typeof ga=="object"&&ga&&!ga.nodeType&&ga,_=O&&typeof ya=="object"&&ya&&!ya.nodeType&&ya,D=_&&_.exports===O,N=D?s.Z.Buffer:void 0,j=N?N.isBuffer:void 0,I=j||R,G=I},7279:function(Le,w,u){"use strict";var s=u(93917),p=u(57210),R=u(7720),O=u(97885),_=u(63282),D=u(74975),N=u(15441),j=u(98127),I="[object Map]",G="[object Set]",z=Object.prototype,re=z.hasOwnProperty;function ne(ae){if(ae==null)return!0;if((0,_.Z)(ae)&&((0,O.Z)(ae)||typeof ae=="string"||typeof ae.splice=="function"||(0,D.Z)(ae)||(0,j.Z)(ae)||(0,R.Z)(ae)))return!ae.length;var ve=(0,p.Z)(ae);if(ve==I||ve==G)return!ae.size;if((0,N.Z)(ae))return!(0,s.Z)(ae).length;for(var M in ae)if(re.call(ae,M))return!1;return!0}w.Z=ne},8936:function(Le,w,u){"use strict";var s=u(99001),p=u(93122),R="[object AsyncFunction]",O="[object Function]",_="[object GeneratorFunction]",D="[object Proxy]";function N(j){if(!(0,p.Z)(j))return!1;var I=(0,s.Z)(j);return I==O||I==_||I==R||I==D}w.Z=N},61164:function(Le,w){"use strict";var u=9007199254740991;function s(p){return typeof p=="number"&&p>-1&&p%1==0&&p<=u}w.Z=s},93122:function(Le,w){"use strict";function u(s){var p=typeof s;return s!=null&&(p=="object"||p=="function")}w.Z=u},43391:function(Le,w){"use strict";function u(s){return s!=null&&typeof s=="object"}w.Z=u},65255:function(Le,w,u){"use strict";var s=u(99001),p=u(29552),R=u(43391),O="[object Object]",_=Function.prototype,D=Object.prototype,N=_.toString,j=D.hasOwnProperty,I=N.call(Object);function G(z){if(!(0,R.Z)(z)||(0,s.Z)(z)!=O)return!1;var re=(0,p.Z)(z);if(re===null)return!0;var ne=j.call(re,"constructor")&&re.constructor;return typeof ne=="function"&&ne instanceof ne&&N.call(ne)==I}w.Z=G},1284:function(Le,w,u){"use strict";var s=u(99001),p=u(97885),R=u(43391),O="[object String]";function _(D){return typeof D=="string"||!(0,p.Z)(D)&&(0,R.Z)(D)&&(0,s.Z)(D)==O}w.Z=_},22758:function(Le,w,u){"use strict";var s=u(99001),p=u(43391),R="[object Symbol]";function O(_){return typeof _=="symbol"||(0,p.Z)(_)&&(0,s.Z)(_)==R}w.Z=O},98127:function(Le,w,u){"use strict";u.d(w,{Z:function(){return wt}});var s=u(99001),p=u(61164),R=u(43391),O="[object Arguments]",_="[object Array]",D="[object Boolean]",N="[object Date]",j="[object Error]",I="[object Function]",G="[object Map]",z="[object Number]",re="[object Object]",ne="[object RegExp]",ae="[object Set]",ve="[object String]",M="[object WeakMap]",H="[object ArrayBuffer]",ue="[object DataView]",X="[object Float32Array]",se="[object Float64Array]",fe="[object Int8Array]",ee="[object Int16Array]",$="[object Int32Array]",Se="[object Uint8Array]",Ie="[object Uint8ClampedArray]",Oe="[object Uint16Array]",We="[object Uint32Array]",Ge={};Ge[X]=Ge[se]=Ge[fe]=Ge[ee]=Ge[$]=Ge[Se]=Ge[Ie]=Ge[Oe]=Ge[We]=!0,Ge[O]=Ge[_]=Ge[H]=Ge[D]=Ge[ue]=Ge[N]=Ge[j]=Ge[I]=Ge[G]=Ge[z]=Ge[re]=Ge[ne]=Ge[ae]=Ge[ve]=Ge[M]=!1;function lt(rt){return(0,R.Z)(rt)&&(0,p.Z)(rt.length)&&!!Ge[(0,s.Z)(rt)]}var Qe=lt,He=u(93225),St=u(37755),qt=St.Z&&St.Z.isTypedArray,dt=qt?(0,He.Z)(qt):Qe,wt=dt},20649:function(Le,w,u){"use strict";var s=u(45423),p=u(93917),R=u(63282);function O(_){return(0,R.Z)(_)?(0,s.Z)(_):(0,p.Z)(_)}w.Z=O},47477:function(Le,w,u){"use strict";u.d(w,{Z:function(){return re}});var s=u(45423),p=u(93122),R=u(15441);function O(ne){var ae=[];if(ne!=null)for(var ve in Object(ne))ae.push(ve);return ae}var _=O,D=Object.prototype,N=D.hasOwnProperty;function j(ne){if(!(0,p.Z)(ne))return _(ne);var ae=(0,R.Z)(ne),ve=[];for(var M in ne)M=="constructor"&&(ae||!N.call(ne,M))||ve.push(M);return ve}var I=j,G=u(63282);function z(ne){return(0,G.Z)(ne)?(0,s.Z)(ne,!0):I(ne)}var re=z},39075:function(Le,w,u){"use strict";u.d(w,{Z:function(){return ve}});var s=u(95598),p=u(72764),R=u(56764),O=u(42082),_=u(82436),D=u(65255);function N(M){return(0,D.Z)(M)?void 0:M}var j=N,I=u(5255),G=u(9878),z=1,re=2,ne=4,ae=(0,I.Z)(function(M,H){var ue={};if(M==null)return ue;var X=!1;H=(0,s.Z)(H,function(fe){return fe=(0,O.Z)(fe,M),X||(X=fe.length>1),fe}),(0,_.Z)(M,(0,G.Z)(M),ue),X&&(ue=(0,p.Z)(ue,z|re|ne,j));for(var se=H.length;se--;)(0,R.Z)(ue,H[se]);return ue}),ve=ae},25513:function(Le,w,u){"use strict";var s=u(64187);function p(R,O,_){return R==null?R:(0,s.Z)(R,O,_)}w.Z=p},70813:function(Le,w){"use strict";function u(){return[]}w.Z=u},55487:function(Le,w,u){"use strict";var s=u(95598),p=u(31162),R=u(97885),O=u(22758),_=u(32540),D=u(57969),N=u(33523);function j(I){return(0,R.Z)(I)?(0,s.Z)(I,D.Z):(0,O.Z)(I)?[I]:(0,p.Z)((0,_.Z)((0,N.Z)(I)))}w.Z=j},33523:function(Le,w,u){"use strict";u.d(w,{Z:function(){return z}});var s=u(187),p=u(95598),R=u(97885),O=u(22758),_=1/0,D=s.Z?s.Z.prototype:void 0,N=D?D.toString:void 0;function j(re){if(typeof re=="string")return re;if((0,R.Z)(re))return(0,p.Z)(re,j)+"";if((0,O.Z)(re))return N?N.call(re):"";var ne=re+"";return ne=="0"&&1/re==-_?"-0":ne}var I=j;function G(re){return re==null?"":I(re)}var z=G},37164:function(Le,w,u){"use strict";u.d(w,{x0:function(){return O}});let s=_=>crypto.getRandomValues(new Uint8Array(_)),p=(_,D,N)=>{let j=(2<<Math.log(_.length-1)/Math.LN2)-1,I=-~(1.6*j*D/_.length);return(G=D)=>{let z="";for(;;){let re=N(I),ne=I;for(;ne--;)if(z+=_[re[ne]&j]||"",z.length===G)return z}}},R=(_,D=21)=>p(_,D,s),O=(_=21)=>crypto.getRandomValues(new Uint8Array(_)).reduce((D,N)=>(N&=63,N<36?D+=N.toString(36):N<62?D+=(N-26).toString(36).toUpperCase():N>62?D+="-":D+="_",D),"")},37207:function(Le,w,u){"use strict";u.d(w,{V:function(){return _}});const s="\u037C",p=typeof Symbol=="undefined"?"__"+s:Symbol.for(s),R=typeof Symbol=="undefined"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),O=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:{};class _{constructor(I,G){this.rules=[];let{finish:z}=G||{};function re(ae){return/^@/.test(ae)?[ae]:ae.split(/,\s*/)}function ne(ae,ve,M,H){let ue=[],X=/^@(\w+)\b/.exec(ae[0]),se=X&&X[1]=="keyframes";if(X&&ve==null)return M.push(ae[0]+";");for(let fe in ve){let ee=ve[fe];if(/&/.test(fe))ne(fe.split(/,\s*/).map($=>ae.map(Se=>$.replace(/&/,Se))).reduce(($,Se)=>$.concat(Se)),ee,M);else if(ee&&typeof ee=="object"){if(!X)throw new RangeError("The value of a property ("+fe+") should be a primitive value.");ne(re(fe),ee,ue,se)}else ee!=null&&ue.push(fe.replace(/_.*/,"").replace(/[A-Z]/g,$=>"-"+$.toLowerCase())+": "+ee+";")}(ue.length||se)&&M.push((z&&!X&&!H?ae.map(z):ae).join(", ")+" {"+ue.join(" ")+"}")}for(let ae in I)ne(re(ae),I[ae],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let I=O[p]||1;return O[p]=I+1,s+I.toString(36)}static mount(I,G){(I[R]||new N(I)).mount(Array.isArray(G)?G:[G])}}let D=new Map;class N{constructor(I){let G=I.ownerDocument||I,z=G.defaultView;if(!I.head&&I.adoptedStyleSheets&&z.CSSStyleSheet){let re=D.get(G);if(re)return I.adoptedStyleSheets=[re.sheet,...I.adoptedStyleSheets],I[R]=re;this.sheet=new z.CSSStyleSheet,I.adoptedStyleSheets=[this.sheet,...I.adoptedStyleSheets],D.set(G,this)}else{this.styleTag=G.createElement("style");let re=I.head||I;re.insertBefore(this.styleTag,re.firstChild)}this.modules=[],I[R]=this}mount(I){let G=this.sheet,z=0,re=0;for(let ne=0;ne<I.length;ne++){let ae=I[ne],ve=this.modules.indexOf(ae);if(ve<re&&ve>-1&&(this.modules.splice(ve,1),re--,ve=-1),ve==-1){if(this.modules.splice(re++,0,ae),G)for(let M=0;M<ae.rules.length;M++)G.insertRule(ae.rules[M],z++)}else{for(;re<ve;)z+=this.modules[re++].rules.length;z+=ae.rules.length,re++}}if(!G){let ne="";for(let ae=0;ae<this.modules.length;ae++)ne+=this.modules[ae].getRules()+`
`;this.styleTag.textContent=ne}}}},75758:function(Le){"use strict";Le.exports=JSON.parse('{"$id":"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#","description":"Meta-schema for $data reference (JSON AnySchema extension proposal)","type":"object","required":["$data"],"properties":{"$data":{"type":"string","anyOf":[{"format":"relative-json-pointer"},{"format":"json-pointer"}]}},"additionalProperties":false}')},22396:function(Le){"use strict";Le.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://json-schema.org/draft-07/schema#","title":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"allOf":[{"$ref":"#/definitions/nonNegativeInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}},"type":["object","boolean"],"properties":{"$id":{"type":"string","format":"uri-reference"},"$schema":{"type":"string","format":"uri"},"$ref":{"type":"string","format":"uri-reference"},"$comment":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"default":true,"readOnly":{"type":"boolean","default":false},"examples":{"type":"array","items":true},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/definitions/nonNegativeInteger"},"minLength":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"$ref":"#"},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":true},"maxItems":{"$ref":"#/definitions/nonNegativeInteger"},"minItems":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"contains":{"$ref":"#"},"maxProperties":{"$ref":"#/definitions/nonNegativeInteger"},"minProperties":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"$ref":"#"},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"propertyNames":{"format":"regex"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"propertyNames":{"$ref":"#"},"const":true,"enum":{"type":"array","items":true,"minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"contentMediaType":{"type":"string"},"contentEncoding":{"type":"string"},"if":{"$ref":"#"},"then":{"$ref":"#"},"else":{"$ref":"#"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"default":true}')}}])});Gu();})();

//# sourceMappingURL=4288.69e7b2a1.chunk.js.map