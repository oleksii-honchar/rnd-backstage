{"version":3,"file":"static/5540.1b7fd2bb.chunk.js","mappings":"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","sources":["webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/esm/TemplateFormPreviewer-f74a3d51.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/esm/index-9a46055b.esm.js","webpack://app/../../node_modules/@material-ui/icons/ControlPoint.js","webpack://app/../../node_modules/@material-ui/icons/Repeat.js","webpack://app/../../node_modules/@material-ui/icons/Toc.js"],"sourcesContent":["import React, { useState, useMemo, useEffect, useCallback, Component } from 'react';\nimport { Page, Header, Content, ErrorPanel } from '@backstage/core-components';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { makeStyles, useTheme, IconButton, Popover, MenuList, MenuItem, ListItemIcon, ListItemText, Box, Paper, Button, FormControl, InputLabel, Select, Card, CardHeader, CardContent, LinearProgress } from '@material-ui/core';\nimport { scaffolderApiRef, useTaskEventStream } from '@backstage/plugin-scaffolder-react';\nimport { k as selectedTemplateRouteRef } from './TaskPage-3afec1cb.esm.js';\nimport { useApi, useRouteRef, useApiHolder, alertApiRef } from '@backstage/core-plugin-api';\nimport qs from 'qs';\nimport { useAsync } from '@react-hookz/web';\nimport Cancel from '@material-ui/icons/Cancel';\nimport Retry from '@material-ui/icons/Repeat';\nimport Toc from '@material-ui/icons/Toc';\nimport ControlPointIcon from '@material-ui/icons/ControlPoint';\nimport MoreVert from '@material-ui/icons/MoreVert';\nimport { DefaultTemplateOutputs, TaskSteps, TaskLogStream, Stepper, Form } from '@backstage/plugin-scaffolder-react/alpha';\nimport { StreamLanguage } from '@codemirror/language';\nimport { yaml as yaml$1 } from '@codemirror/legacy-modes/mode/yaml';\nimport CloseIcon from '@material-ui/icons/Close';\nimport CodeMirror from '@uiw/react-codemirror';\nimport yaml from 'yaml';\nimport validator from '@rjsf/validator-ajv8';\nimport { u as useDryRun, a as useDirectoryEditor, D as DirectoryEditorProvider, b as DryRunProvider, T as TemplateEditorBrowser, c as TemplateEditorTextArea, d as DryRunResults } from './TemplateEditorIntro-48f2a0ae.esm.js';\nimport { catalogApiRef, humanizeEntityRef } from '@backstage/plugin-catalog-react';\nimport useAsync$1 from 'react-use/lib/useAsync';\nimport { makeStyles as makeStyles$1 } from '@material-ui/core/styles';\nimport useDebounce from 'react-use/lib/useDebounce';\n\nconst useStyles$5 = makeStyles(() => ({\n  button: {\n    color: ({ fontColor }) => fontColor\n  }\n}));\nconst ContextMenu = (props) => {\n  const {\n    cancelEnabled,\n    logsVisible,\n    buttonBarVisible,\n    onStartOver,\n    onToggleLogs,\n    onToggleButtonBar,\n    taskId\n  } = props;\n  const { getPageTheme } = useTheme();\n  const pageTheme = getPageTheme({ themeId: \"website\" });\n  const classes = useStyles$5({ fontColor: pageTheme.fontColor });\n  const scaffolderApi = useApi(scaffolderApiRef);\n  const [anchorEl, setAnchorEl] = useState();\n  const [{ status: cancelStatus }, { execute: cancel }] = useAsync(async () => {\n    if (taskId) {\n      await scaffolderApi.cancelTask(taskId);\n    }\n  });\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(\n    IconButton,\n    {\n      \"aria-label\": \"more\",\n      \"aria-controls\": \"long-menu\",\n      \"aria-haspopup\": \"true\",\n      onClick: (event) => {\n        setAnchorEl(event.currentTarget);\n      },\n      \"data-testid\": \"menu-button\",\n      className: classes.button\n    },\n    /* @__PURE__ */ React.createElement(MoreVert, null)\n  ), /* @__PURE__ */ React.createElement(\n    Popover,\n    {\n      open: Boolean(anchorEl),\n      onClose: () => setAnchorEl(void 0),\n      anchorEl,\n      anchorOrigin: { vertical: \"bottom\", horizontal: \"right\" },\n      transformOrigin: { vertical: \"top\", horizontal: \"right\" }\n    },\n    /* @__PURE__ */ React.createElement(MenuList, null, /* @__PURE__ */ React.createElement(MenuItem, { onClick: () => onToggleLogs == null ? void 0 : onToggleLogs(!logsVisible) }, /* @__PURE__ */ React.createElement(ListItemIcon, null, /* @__PURE__ */ React.createElement(Toc, { fontSize: \"small\" })), /* @__PURE__ */ React.createElement(ListItemText, { primary: logsVisible ? \"Hide Logs\" : \"Show Logs\" })), /* @__PURE__ */ React.createElement(MenuItem, { onClick: () => onToggleButtonBar == null ? void 0 : onToggleButtonBar(!buttonBarVisible) }, /* @__PURE__ */ React.createElement(ListItemIcon, null, /* @__PURE__ */ React.createElement(ControlPointIcon, { fontSize: \"small\" })), /* @__PURE__ */ React.createElement(\n      ListItemText,\n      {\n        primary: buttonBarVisible ? \"Hide Button Bar\" : \"Show Button Bar\"\n      }\n    )), /* @__PURE__ */ React.createElement(MenuItem, { onClick: onStartOver }, /* @__PURE__ */ React.createElement(ListItemIcon, null, /* @__PURE__ */ React.createElement(Retry, { fontSize: \"small\" })), /* @__PURE__ */ React.createElement(ListItemText, { primary: \"Start Over\" })), /* @__PURE__ */ React.createElement(\n      MenuItem,\n      {\n        onClick: cancel,\n        disabled: !cancelEnabled || cancelStatus !== \"not-executed\",\n        \"data-testid\": \"cancel-task\"\n      },\n      /* @__PURE__ */ React.createElement(ListItemIcon, null, /* @__PURE__ */ React.createElement(Cancel, { fontSize: \"small\" })),\n      /* @__PURE__ */ React.createElement(ListItemText, { primary: \"Cancel\" })\n    ))\n  ));\n};\n\nconst useStyles$4 = makeStyles((theme) => ({\n  contentWrapper: {\n    display: \"flex\",\n    flexDirection: \"column\"\n  },\n  buttonBar: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    justifyContent: \"right\"\n  },\n  cancelButton: {\n    marginRight: theme.spacing(1)\n  }\n}));\nconst OngoingTask = (props) => {\n  var _a, _b, _c, _d, _e, _f, _g, _h;\n  const { taskId } = useParams();\n  const templateRouteRef = useRouteRef(selectedTemplateRouteRef);\n  const navigate = useNavigate();\n  const scaffolderApi = useApi(scaffolderApiRef);\n  const taskStream = useTaskEventStream(taskId);\n  const classes = useStyles$4();\n  const steps = useMemo(\n    () => {\n      var _a2, _b2;\n      return (_b2 = (_a2 = taskStream.task) == null ? void 0 : _a2.spec.steps.map((step) => {\n        var _a3;\n        return {\n          ...step,\n          ...(_a3 = taskStream == null ? void 0 : taskStream.steps) == null ? void 0 : _a3[step.id]\n        };\n      })) != null ? _b2 : [];\n    },\n    [taskStream]\n  );\n  const [logsVisible, setLogVisibleState] = useState(false);\n  const [buttonBarVisible, setButtonBarVisibleState] = useState(true);\n  useEffect(() => {\n    if (taskStream.error) {\n      setLogVisibleState(true);\n    }\n  }, [taskStream.error]);\n  useEffect(() => {\n    if (taskStream.completed && !taskStream.error) {\n      setButtonBarVisibleState(false);\n    }\n  }, [taskStream.error, taskStream.completed]);\n  const activeStep = useMemo(() => {\n    for (let i = steps.length - 1; i >= 0; i--) {\n      if (steps[i].status !== \"open\") {\n        return i;\n      }\n    }\n    return 0;\n  }, [steps]);\n  const startOver = useCallback(() => {\n    var _a2, _b2, _c2, _d2, _e2, _f2;\n    const { namespace, name } = (_d2 = (_c2 = (_b2 = (_a2 = taskStream.task) == null ? void 0 : _a2.spec.templateInfo) == null ? void 0 : _b2.entity) == null ? void 0 : _c2.metadata) != null ? _d2 : {};\n    const formData = (_f2 = (_e2 = taskStream.task) == null ? void 0 : _e2.spec.parameters) != null ? _f2 : {};\n    if (!namespace || !name) {\n      return;\n    }\n    navigate({\n      pathname: templateRouteRef({\n        namespace,\n        templateName: name\n      }),\n      search: `?${qs.stringify({ formData: JSON.stringify(formData) })}`\n    });\n  }, [\n    navigate,\n    (_a = taskStream.task) == null ? void 0 : _a.spec.parameters,\n    (_d = (_c = (_b = taskStream.task) == null ? void 0 : _b.spec.templateInfo) == null ? void 0 : _c.entity) == null ? void 0 : _d.metadata,\n    templateRouteRef\n  ]);\n  const [{ status: cancelStatus }, { execute: triggerCancel }] = useAsync(\n    async () => {\n      if (taskId) {\n        await scaffolderApi.cancelTask(taskId);\n      }\n    }\n  );\n  const Outputs = (_e = props.TemplateOutputsComponent) != null ? _e : DefaultTemplateOutputs;\n  const templateName = (_h = (_g = (_f = taskStream.task) == null ? void 0 : _f.spec.templateInfo) == null ? void 0 : _g.entity) == null ? void 0 : _h.metadata.name;\n  const cancelEnabled = !(taskStream.cancelled || taskStream.completed);\n  return /* @__PURE__ */ React.createElement(Page, { themeId: \"website\" }, /* @__PURE__ */ React.createElement(\n    Header,\n    {\n      pageTitleOverride: `Run of ${templateName}`,\n      title: /* @__PURE__ */ React.createElement(\"div\", null, \"Run of \", /* @__PURE__ */ React.createElement(\"code\", null, templateName)),\n      subtitle: `Task ${taskId}`\n    },\n    /* @__PURE__ */ React.createElement(\n      ContextMenu,\n      {\n        cancelEnabled,\n        logsVisible,\n        buttonBarVisible,\n        onStartOver: startOver,\n        onToggleLogs: setLogVisibleState,\n        onToggleButtonBar: setButtonBarVisibleState,\n        taskId\n      }\n    )\n  ), /* @__PURE__ */ React.createElement(Content, { className: classes.contentWrapper }, taskStream.error ? /* @__PURE__ */ React.createElement(Box, { paddingBottom: 2 }, /* @__PURE__ */ React.createElement(\n    ErrorPanel,\n    {\n      error: taskStream.error,\n      title: taskStream.error.message\n    }\n  )) : null, /* @__PURE__ */ React.createElement(Box, { paddingBottom: 2 }, /* @__PURE__ */ React.createElement(\n    TaskSteps,\n    {\n      steps,\n      activeStep,\n      isComplete: taskStream.completed,\n      isError: Boolean(taskStream.error)\n    }\n  )), /* @__PURE__ */ React.createElement(Outputs, { output: taskStream.output }), buttonBarVisible ? /* @__PURE__ */ React.createElement(Box, { paddingBottom: 2 }, /* @__PURE__ */ React.createElement(Paper, null, /* @__PURE__ */ React.createElement(Box, { padding: 2 }, /* @__PURE__ */ React.createElement(\"div\", { className: classes.buttonBar }, /* @__PURE__ */ React.createElement(\n    Button,\n    {\n      className: classes.cancelButton,\n      disabled: !cancelEnabled || cancelStatus !== \"not-executed\",\n      onClick: triggerCancel,\n      \"data-testid\": \"cancel-button\"\n    },\n    \"Cancel\"\n  ), /* @__PURE__ */ React.createElement(\n    Button,\n    {\n      variant: \"contained\",\n      color: \"primary\",\n      disabled: cancelEnabled,\n      onClick: startOver\n    },\n    \"Start Over\"\n  ))))) : null, logsVisible ? /* @__PURE__ */ React.createElement(Box, { paddingBottom: 2, height: \"100%\" }, /* @__PURE__ */ React.createElement(Paper, { style: { height: \"100%\" } }, /* @__PURE__ */ React.createElement(Box, { padding: 2, height: \"100%\" }, /* @__PURE__ */ React.createElement(TaskLogStream, { logs: taskStream.stepLogs })))) : null));\n};\n\nconst useStyles$3 = makeStyles$1({\n  containerWrapper: {\n    position: \"relative\",\n    width: \"100%\",\n    height: \"100%\"\n  },\n  container: {\n    position: \"absolute\",\n    top: 0,\n    bottom: 0,\n    left: 0,\n    right: 0,\n    overflow: \"auto\"\n  }\n});\nclass ErrorBoundary extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      shouldRender: true\n    };\n  }\n  componentDidUpdate(prevProps) {\n    if (prevProps.invalidator !== this.props.invalidator) {\n      this.setState({ shouldRender: true });\n    }\n  }\n  componentDidCatch(error) {\n    this.props.setErrorText(error.message);\n    this.setState({ shouldRender: false });\n  }\n  render() {\n    return this.state.shouldRender ? this.props.children : null;\n  }\n}\nfunction isJsonObject(value) {\n  return typeof value === \"object\" && value !== null && !Array.isArray(value);\n}\nfunction TemplateEditorForm(props) {\n  const {\n    content,\n    contentIsSpec,\n    onDryRun,\n    setErrorText,\n    fieldExtensions = [],\n    layouts = []\n  } = props;\n  const classes = useStyles$3();\n  const apiHolder = useApiHolder();\n  const [steps, setSteps] = useState();\n  useDebounce(\n    () => {\n      try {\n        if (!content) {\n          setSteps(void 0);\n          return;\n        }\n        const parsed = yaml.parse(content);\n        if (!isJsonObject(parsed)) {\n          setSteps(void 0);\n          return;\n        }\n        let rootObj = parsed;\n        if (!contentIsSpec) {\n          const isTemplate = String(parsed.kind).toLocaleLowerCase(\"en-US\") === \"template\";\n          if (!isTemplate) {\n            setSteps(void 0);\n            return;\n          }\n          rootObj = isJsonObject(parsed.spec) ? parsed.spec : {};\n        }\n        const { parameters } = rootObj;\n        if (!Array.isArray(parameters)) {\n          setErrorText(\"Template parameters must be an array\");\n          setSteps(void 0);\n          return;\n        }\n        setErrorText();\n        setSteps(\n          parameters.flatMap(\n            (param) => isJsonObject(param) ? [\n              {\n                title: String(param.title),\n                schema: param\n              }\n            ] : []\n          )\n        );\n      } catch (e) {\n        setErrorText(e.message);\n      }\n    },\n    250,\n    [contentIsSpec, content, apiHolder]\n  );\n  if (!steps) {\n    return null;\n  }\n  return /* @__PURE__ */ React.createElement(\"div\", { className: classes.containerWrapper }, /* @__PURE__ */ React.createElement(\"div\", { className: classes.container }, /* @__PURE__ */ React.createElement(ErrorBoundary, { invalidator: steps, setErrorText }, /* @__PURE__ */ React.createElement(\n    Stepper,\n    {\n      manifest: { steps, title: \"Template Editor\" },\n      extensions: fieldExtensions,\n      onCreate: async (data) => {\n        await (onDryRun == null ? void 0 : onDryRun(data));\n      },\n      layouts,\n      components: { createButtonText: onDryRun && \"Try It\" }\n    }\n  ))));\n}\nfunction TemplateEditorFormDirectoryEditorDryRun(props) {\n  const { setErrorText, fieldExtensions = [], layouts } = props;\n  const dryRun = useDryRun();\n  const directoryEditor = useDirectoryEditor();\n  const { selectedFile } = directoryEditor;\n  const handleDryRun = async (values) => {\n    if (!selectedFile) {\n      return;\n    }\n    try {\n      await dryRun.execute({\n        templateContent: selectedFile.content,\n        values,\n        files: directoryEditor.files\n      });\n      setErrorText();\n    } catch (e) {\n      setErrorText(String(e.cause || e));\n      throw e;\n    }\n  };\n  const content = selectedFile && selectedFile.path.match(/\\.ya?ml$/) ? selectedFile.content : void 0;\n  return /* @__PURE__ */ React.createElement(\n    TemplateEditorForm,\n    {\n      onDryRun: handleDryRun,\n      fieldExtensions,\n      setErrorText,\n      content,\n      layouts\n    }\n  );\n}\nTemplateEditorForm.DirectoryEditorDryRun = TemplateEditorFormDirectoryEditorDryRun;\n\nconst useStyles$2 = makeStyles((theme) => ({\n  root: {\n    gridArea: \"pageContent\",\n    display: \"grid\",\n    gridTemplateAreas: `\n      \"controls controls\"\n      \"fieldForm preview\"\n    `,\n    gridTemplateRows: \"auto 1fr\",\n    gridTemplateColumns: \"1fr 1fr\"\n  },\n  controls: {\n    gridArea: \"controls\",\n    display: \"flex\",\n    flexFlow: \"row nowrap\",\n    alignItems: \"center\",\n    margin: theme.spacing(1)\n  },\n  fieldForm: {\n    gridArea: \"fieldForm\"\n  },\n  preview: {\n    gridArea: \"preview\"\n  }\n}));\nconst CustomFieldExplorer = ({\n  customFieldExtensions = [],\n  onClose\n}) => {\n  var _a, _b;\n  const classes = useStyles$2();\n  const fieldOptions = customFieldExtensions.filter((field) => !!field.schema);\n  const [selectedField, setSelectedField] = useState(fieldOptions[0]);\n  const [fieldFormState, setFieldFormState] = useState({});\n  const [refreshKey, setRefreshKey] = useState(Date.now());\n  const sampleFieldTemplate = useMemo(\n    () => {\n      var _a2, _b2;\n      return yaml.stringify({\n        parameters: [\n          {\n            title: `${selectedField.name} Example`,\n            properties: {\n              [selectedField.name]: {\n                type: (_b2 = (_a2 = selectedField.schema) == null ? void 0 : _a2.returnValue) == null ? void 0 : _b2.type,\n                \"ui:field\": selectedField.name,\n                \"ui:options\": fieldFormState\n              }\n            }\n          }\n        ]\n      });\n    },\n    [fieldFormState, selectedField]\n  );\n  const fieldComponents = useMemo(() => {\n    return Object.fromEntries(\n      customFieldExtensions.map(({ name, component }) => [name, component])\n    );\n  }, [customFieldExtensions]);\n  const handleSelectionChange = useCallback(\n    (selection) => {\n      setSelectedField(selection);\n      setFieldFormState({});\n    },\n    [setFieldFormState, setSelectedField]\n  );\n  const handleFieldConfigChange = useCallback(\n    (state) => {\n      setFieldFormState(state);\n      setRefreshKey(Date.now());\n    },\n    [setFieldFormState, setRefreshKey]\n  );\n  return /* @__PURE__ */ React.createElement(\"main\", { className: classes.root }, /* @__PURE__ */ React.createElement(\"div\", { className: classes.controls }, /* @__PURE__ */ React.createElement(FormControl, { variant: \"outlined\", size: \"small\", fullWidth: true }, /* @__PURE__ */ React.createElement(InputLabel, { id: \"select-field-label\" }, \"Choose Custom Field Extension\"), /* @__PURE__ */ React.createElement(\n    Select,\n    {\n      value: selectedField,\n      label: \"Choose Custom Field Extension\",\n      labelId: \"select-field-label\",\n      onChange: (e) => handleSelectionChange(e.target.value)\n    },\n    fieldOptions.map((option, idx) => /* @__PURE__ */ React.createElement(MenuItem, { key: idx, value: option }, option.name))\n  )), /* @__PURE__ */ React.createElement(IconButton, { size: \"medium\", onClick: onClose, \"aria-label\": \"Close\" }, /* @__PURE__ */ React.createElement(CloseIcon, null))), /* @__PURE__ */ React.createElement(\"div\", { className: classes.fieldForm }, /* @__PURE__ */ React.createElement(Card, null, /* @__PURE__ */ React.createElement(CardHeader, { title: \"Field Options\" }), /* @__PURE__ */ React.createElement(CardContent, null, /* @__PURE__ */ React.createElement(\n    Form,\n    {\n      showErrorList: false,\n      fields: { ...fieldComponents },\n      noHtml5Validate: true,\n      formData: fieldFormState,\n      formContext: { fieldFormState },\n      onSubmit: (e) => handleFieldConfigChange(e.formData),\n      validator,\n      schema: ((_a = selectedField.schema) == null ? void 0 : _a.uiOptions) || {}\n    },\n    /* @__PURE__ */ React.createElement(\n      Button,\n      {\n        variant: \"contained\",\n        color: \"primary\",\n        type: \"submit\",\n        disabled: !((_b = selectedField.schema) == null ? void 0 : _b.uiOptions)\n      },\n      \"Apply\"\n    )\n  )))), /* @__PURE__ */ React.createElement(\"div\", { className: classes.preview }, /* @__PURE__ */ React.createElement(Card, null, /* @__PURE__ */ React.createElement(CardHeader, { title: \"Example Template Spec\" }), /* @__PURE__ */ React.createElement(CardContent, null, /* @__PURE__ */ React.createElement(\n    CodeMirror,\n    {\n      readOnly: true,\n      theme: \"dark\",\n      height: \"100%\",\n      extensions: [StreamLanguage.define(yaml$1)],\n      value: sampleFieldTemplate\n    }\n  ))), /* @__PURE__ */ React.createElement(\n    TemplateEditorForm,\n    {\n      key: refreshKey,\n      content: sampleFieldTemplate,\n      contentIsSpec: true,\n      fieldExtensions: customFieldExtensions,\n      setErrorText: () => null\n    }\n  )));\n};\n\nconst useStyles$1 = makeStyles({\n  // Reset and fix sizing to make sure scrolling behaves correctly\n  root: {\n    gridArea: \"pageContent\",\n    display: \"grid\",\n    gridTemplateAreas: `\n      \"browser editor preview\"\n      \"results results results\"\n    `,\n    gridTemplateColumns: \"1fr 3fr 2fr\",\n    gridTemplateRows: \"1fr auto\"\n  },\n  browser: {\n    gridArea: \"browser\",\n    overflow: \"auto\"\n  },\n  editor: {\n    gridArea: \"editor\",\n    overflow: \"auto\"\n  },\n  preview: {\n    gridArea: \"preview\",\n    overflow: \"auto\"\n  },\n  results: {\n    gridArea: \"results\"\n  }\n});\nconst TemplateEditor = (props) => {\n  const classes = useStyles$1();\n  const [errorText, setErrorText] = useState();\n  return /* @__PURE__ */ React.createElement(DirectoryEditorProvider, { directory: props.directory }, /* @__PURE__ */ React.createElement(DryRunProvider, null, /* @__PURE__ */ React.createElement(\"main\", { className: classes.root }, /* @__PURE__ */ React.createElement(\"section\", { className: classes.browser }, /* @__PURE__ */ React.createElement(TemplateEditorBrowser, { onClose: props.onClose })), /* @__PURE__ */ React.createElement(\"section\", { className: classes.editor }, /* @__PURE__ */ React.createElement(TemplateEditorTextArea.DirectoryEditor, { errorText })), /* @__PURE__ */ React.createElement(\"section\", { className: classes.preview }, /* @__PURE__ */ React.createElement(\n    TemplateEditorForm.DirectoryEditorDryRun,\n    {\n      setErrorText,\n      fieldExtensions: props.fieldExtensions,\n      layouts: props.layouts\n    }\n  )), /* @__PURE__ */ React.createElement(\"section\", { className: classes.results }, /* @__PURE__ */ React.createElement(DryRunResults, null)))));\n};\n\nconst EXAMPLE_TEMPLATE_PARAMS_YAML = `# Edit the template parameters below to see how they will render in the scaffolder form UI\nparameters:\n  - title: Fill in some steps\n    required:\n      - name\n    properties:\n      name:\n        title: Name\n        type: string\n        description: Unique name of the component\n      owner:\n        title: Owner\n        type: string\n        description: Owner of the component\n        ui:field: OwnerPicker\n        ui:options:\n          catalogFilter:\n            kind: Group\n  - title: Choose a location\n    required:\n      - repoUrl\n    properties:\n      repoUrl:\n        title: Repository Location\n        type: string\n        ui:field: RepoUrlPicker\n        ui:options:\n          allowedHosts:\n            - github.com\nsteps:\n  - id: fetch-base\n    name: Fetch Base\n    action: fetch:template\n    input:\n      url: ./template\n      values:\n        name: \\${{parameters.name}}\n`;\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    gridArea: \"pageContent\",\n    display: \"grid\",\n    gridTemplateAreas: `\n      \"controls controls\"\n      \"textArea preview\"\n    `,\n    gridTemplateRows: \"auto 1fr\",\n    gridTemplateColumns: \"1fr 1fr\"\n  },\n  controls: {\n    gridArea: \"controls\",\n    display: \"flex\",\n    flexFlow: \"row nowrap\",\n    alignItems: \"center\",\n    margin: theme.spacing(1)\n  },\n  textArea: {\n    gridArea: \"textArea\"\n  },\n  preview: {\n    gridArea: \"preview\"\n  }\n}));\nconst TemplateFormPreviewer = ({\n  defaultPreviewTemplate = EXAMPLE_TEMPLATE_PARAMS_YAML,\n  customFieldExtensions = [],\n  onClose,\n  layouts = []\n}) => {\n  const classes = useStyles();\n  const alertApi = useApi(alertApiRef);\n  const catalogApi = useApi(catalogApiRef);\n  const [selectedTemplate, setSelectedTemplate] = useState(\"\");\n  const [errorText, setErrorText] = useState();\n  const [templateOptions, setTemplateOptions] = useState([]);\n  const [templateYaml, setTemplateYaml] = useState(defaultPreviewTemplate);\n  const { loading } = useAsync$1(\n    () => catalogApi.getEntities({\n      filter: { kind: \"template\" },\n      fields: [\n        \"kind\",\n        \"metadata.namespace\",\n        \"metadata.name\",\n        \"metadata.title\",\n        \"spec.parameters\",\n        \"spec.steps\",\n        \"spec.output\"\n      ]\n    }).then(\n      ({ items }) => setTemplateOptions(\n        items.map((template) => {\n          var _a;\n          return {\n            label: (_a = template.metadata.title) != null ? _a : humanizeEntityRef(template, { defaultKind: \"template\" }),\n            value: template\n          };\n        })\n      )\n    ).catch(\n      (e) => alertApi.post({\n        message: `Error loading exisiting templates: ${e.message}`,\n        severity: \"error\"\n      })\n    ),\n    [catalogApi]\n  );\n  const handleSelectChange = useCallback(\n    (selected) => {\n      setSelectedTemplate(selected);\n      setTemplateYaml(yaml.stringify(selected.spec));\n    },\n    [setTemplateYaml]\n  );\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, loading && /* @__PURE__ */ React.createElement(LinearProgress, null), /* @__PURE__ */ React.createElement(\"main\", { className: classes.root }, /* @__PURE__ */ React.createElement(\"div\", { className: classes.controls }, /* @__PURE__ */ React.createElement(FormControl, { variant: \"outlined\", size: \"small\", fullWidth: true }, /* @__PURE__ */ React.createElement(InputLabel, { id: \"select-template-label\" }, \"Load Existing Template\"), /* @__PURE__ */ React.createElement(\n    Select,\n    {\n      value: selectedTemplate,\n      label: \"Load Existing Template\",\n      labelId: \"select-template-label\",\n      onChange: (e) => handleSelectChange(e.target.value)\n    },\n    templateOptions.map((option, idx) => /* @__PURE__ */ React.createElement(MenuItem, { key: idx, value: option.value }, option.label))\n  )), /* @__PURE__ */ React.createElement(IconButton, { size: \"medium\", onClick: onClose }, /* @__PURE__ */ React.createElement(CloseIcon, null))), /* @__PURE__ */ React.createElement(\"div\", { className: classes.textArea }, /* @__PURE__ */ React.createElement(\n    TemplateEditorTextArea,\n    {\n      content: templateYaml,\n      onUpdate: setTemplateYaml,\n      errorText\n    }\n  )), /* @__PURE__ */ React.createElement(\"div\", { className: classes.preview }, /* @__PURE__ */ React.createElement(\n    TemplateEditorForm,\n    {\n      content: templateYaml,\n      contentIsSpec: true,\n      fieldExtensions: customFieldExtensions,\n      setErrorText,\n      layouts\n    }\n  ))));\n};\n\nexport { CustomFieldExplorer as C, OngoingTask as O, TemplateEditor as T, TemplateFormPreviewer as a };\n//# sourceMappingURL=TemplateFormPreviewer-f74a3d51.esm.js.map\n","import React, { useCallback, useState } from 'react';\nimport { Link, useNavigate, Navigate, useOutlet, Routes, Route } from 'react-router-dom';\nimport { useRouteRef, useApp, useApi, useRouteRefParams, AnalyticsContext } from '@backstage/core-plugin-api';\nimport { DocsIcon, Page, Header, Content, ContentHeader, SupportButton, ErrorPage } from '@backstage/core-components';\nimport { EntityListProvider, CatalogFilterLayout, EntitySearchBar, EntityKindPicker, UserListPicker, EntityTagPicker } from '@backstage/plugin-catalog-react';\nimport { ScaffolderPageContextMenu, TemplateCategoryPicker, TemplateGroups, Workflow } from '@backstage/plugin-scaffolder-react/alpha';\nimport Button from '@material-ui/core/Button';\nimport IconButton from '@material-ui/core/IconButton';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport AddCircleOutline from '@material-ui/icons/AddCircleOutline';\nimport { catalogEntityCreatePermission } from '@backstage/plugin-catalog-common/alpha';\nimport { usePermission } from '@backstage/plugin-permission-react';\nimport { t as registerComponentRouteRef, o as editRouteRef, p as actionsRouteRef, q as scaffolderListTaskRouteRef, v as viewTechDocRouteRef, k as selectedTemplateRouteRef, r as rootRouteRef, u as scaffolderTaskRouteRef } from './TaskPage-3afec1cb.esm.js';\nimport { parseEntityRef, stringifyEntityRef } from '@backstage/catalog-model';\nimport { useTemplateSecrets, scaffolderApiRef, useCustomFieldExtensions, useCustomLayouts, SecretsContextProvider } from '@backstage/plugin-scaffolder-react';\nimport { D as DEFAULT_SCAFFOLDER_FIELD_EXTENSIONS, L as ListTasksPage } from './ListTasksPage-ad5803bd.esm.js';\nimport { T as TemplateEditor, a as TemplateFormPreviewer, C as CustomFieldExplorer, O as OngoingTask } from './TemplateFormPreviewer-f74a3d51.esm.js';\nimport { e as TemplateEditorIntro, W as WebFileSystemAccess, A as ActionsPage } from './TemplateEditorIntro-48f2a0ae.esm.js';\nimport '@backstage/integration-react';\nimport '@backstage/errors';\nimport 'qs';\nimport 'zen-observable';\nimport '@backstage/catalog-client';\nimport '@material-ui/core';\nimport '@material-ui/core/FormControl';\nimport '@material-ui/lab/Autocomplete';\nimport 'react-use/lib/useAsync';\nimport 'zod';\nimport 'zod-to-json-schema';\nimport '@material-ui/core/FormHelperText';\nimport '@material-ui/core/Input';\nimport '@material-ui/core/InputLabel';\nimport 'react-use/lib/useDebounce';\nimport 'react-use/lib/useEffectOnce';\nimport '@material-ui/lab';\nimport '@material-ui/core/Grid';\nimport '@material-ui/core/Step';\nimport '@material-ui/core/StepLabel';\nimport '@material-ui/core/Stepper';\nimport '@material-ui/core/styles';\nimport '@material-ui/core/Typography';\nimport '@material-ui/icons/Cancel';\nimport '@material-ui/icons/Check';\nimport '@material-ui/icons/FiberManualRecord';\nimport 'classnames';\nimport 'luxon';\nimport 'react-use/lib/useInterval';\nimport '@material-ui/icons/Language';\nimport 'humanize-duration';\nimport '@react-hookz/web';\nimport '@material-ui/icons/Repeat';\nimport '@material-ui/icons/Toc';\nimport '@material-ui/icons/ControlPoint';\nimport '@material-ui/icons/MoreVert';\nimport '@codemirror/language';\nimport '@codemirror/legacy-modes/mode/yaml';\nimport '@material-ui/icons/Close';\nimport '@uiw/react-codemirror';\nimport 'yaml';\nimport '@rjsf/validator-ajv8';\nimport '@material-ui/icons/ExpandMore';\nimport '@material-ui/icons/ExpandLess';\nimport '@material-ui/core/Chip';\nimport '@material-ui/icons/Settings';\nimport '@material-ui/icons/FontDownload';\nimport '@material-ui/core/Accordion';\nimport '@material-ui/core/AccordionDetails';\nimport '@material-ui/core/AccordionSummary';\nimport '@material-ui/core/Divider';\nimport '@material-ui/core/List';\nimport '@material-ui/core/ListItem';\nimport '@material-ui/core/ListItemIcon';\nimport '@material-ui/core/ListItemSecondaryAction';\nimport '@material-ui/core/ListItemText';\nimport '@material-ui/icons/Delete';\nimport '@material-ui/core/Box';\nimport '@material-ui/core/Tab';\nimport '@material-ui/core/Tabs';\nimport '@material-ui/icons/Refresh';\nimport '@material-ui/icons/Save';\nimport '@material-ui/lab/TreeView';\nimport '@material-ui/icons/ChevronRight';\nimport '@material-ui/lab/TreeItem';\nimport '@codemirror/view';\nimport '@material-ui/core/Card';\nimport '@material-ui/core/CardActionArea';\nimport '@material-ui/core/CardContent';\nimport '@material-ui/core/Tooltip';\nimport '@material-ui/icons/InfoOutlined';\n\nconst RegisterExistingButton = (props) => {\n  const { title, to } = props;\n  const { allowed } = usePermission({\n    permission: catalogEntityCreatePermission\n  });\n  const isXSScreen = useMediaQuery(\n    (theme) => theme.breakpoints.down(\"xs\")\n  );\n  if (!to || !allowed) {\n    return null;\n  }\n  return isXSScreen ? /* @__PURE__ */ React.createElement(\n    IconButton,\n    {\n      component: Link,\n      color: \"primary\",\n      title,\n      size: \"small\",\n      to\n    },\n    /* @__PURE__ */ React.createElement(AddCircleOutline, null)\n  ) : /* @__PURE__ */ React.createElement(Button, { component: Link, variant: \"contained\", color: \"primary\", to }, title);\n};\n\nconst defaultGroup = {\n  title: \"Templates\",\n  filter: () => true\n};\nconst createGroupsWithOther = (groups) => [\n  ...groups,\n  {\n    title: \"Other Templates\",\n    filter: (e) => ![...groups].some(({ filter }) => filter(e))\n  }\n];\nconst TemplateListPage = (props) => {\n  var _a, _b, _c;\n  const registerComponentLink = useRouteRef(registerComponentRouteRef);\n  const {\n    TemplateCardComponent,\n    groups: givenGroups = [],\n    templateFilter\n  } = props;\n  const navigate = useNavigate();\n  const editorLink = useRouteRef(editRouteRef);\n  const actionsLink = useRouteRef(actionsRouteRef);\n  const tasksLink = useRouteRef(scaffolderListTaskRouteRef);\n  const viewTechDocsLink = useRouteRef(viewTechDocRouteRef);\n  const templateRoute = useRouteRef(selectedTemplateRouteRef);\n  const app = useApp();\n  const groups = givenGroups.length ? createGroupsWithOther(givenGroups) : [defaultGroup];\n  const scaffolderPageContextMenuProps = {\n    onEditorClicked: ((_a = props == null ? void 0 : props.contextMenu) == null ? void 0 : _a.editor) !== false ? () => navigate(editorLink()) : void 0,\n    onActionsClicked: ((_b = props == null ? void 0 : props.contextMenu) == null ? void 0 : _b.actions) !== false ? () => navigate(actionsLink()) : void 0,\n    onTasksClicked: ((_c = props == null ? void 0 : props.contextMenu) == null ? void 0 : _c.tasks) !== false ? () => navigate(tasksLink()) : void 0\n  };\n  const additionalLinksForEntity = useCallback(\n    (template) => {\n      var _a2, _b2;\n      const { kind, namespace, name } = parseEntityRef(\n        stringifyEntityRef(template)\n      );\n      return ((_a2 = template.metadata.annotations) == null ? void 0 : _a2[\"backstage.io/techdocs-ref\"]) && viewTechDocsLink ? [\n        {\n          icon: (_b2 = app.getSystemIcon(\"docs\")) != null ? _b2 : DocsIcon,\n          text: \"View TechDocs\",\n          url: viewTechDocsLink({ kind, namespace, name })\n        }\n      ] : [];\n    },\n    [app, viewTechDocsLink]\n  );\n  const onTemplateSelected = useCallback(\n    (template) => {\n      const { namespace, name } = parseEntityRef(stringifyEntityRef(template));\n      navigate(templateRoute({ namespace, templateName: name }));\n    },\n    [navigate, templateRoute]\n  );\n  return /* @__PURE__ */ React.createElement(EntityListProvider, null, /* @__PURE__ */ React.createElement(Page, { themeId: \"website\" }, /* @__PURE__ */ React.createElement(\n    Header,\n    {\n      pageTitleOverride: \"Create a new component\",\n      title: \"Create a new component\",\n      subtitle: \"Create new software components using standard templates in your organization\"\n    },\n    /* @__PURE__ */ React.createElement(ScaffolderPageContextMenu, { ...scaffolderPageContextMenuProps })\n  ), /* @__PURE__ */ React.createElement(Content, null, /* @__PURE__ */ React.createElement(ContentHeader, { title: \"Available Templates\" }, /* @__PURE__ */ React.createElement(\n    RegisterExistingButton,\n    {\n      title: \"Register Existing Component\",\n      to: registerComponentLink && registerComponentLink()\n    }\n  ), /* @__PURE__ */ React.createElement(SupportButton, null, \"Create new software components using standard templates. Different templates create different kinds of components (services, websites, documentation, ...).\")), /* @__PURE__ */ React.createElement(CatalogFilterLayout, null, /* @__PURE__ */ React.createElement(CatalogFilterLayout.Filters, null, /* @__PURE__ */ React.createElement(EntitySearchBar, null), /* @__PURE__ */ React.createElement(EntityKindPicker, { initialFilter: \"template\", hidden: true }), /* @__PURE__ */ React.createElement(\n    UserListPicker,\n    {\n      initialFilter: \"all\",\n      availableFilters: [\"all\", \"starred\"]\n    }\n  ), /* @__PURE__ */ React.createElement(TemplateCategoryPicker, null), /* @__PURE__ */ React.createElement(EntityTagPicker, null)), /* @__PURE__ */ React.createElement(CatalogFilterLayout.Content, null, /* @__PURE__ */ React.createElement(\n    TemplateGroups,\n    {\n      groups,\n      templateFilter,\n      TemplateCardComponent,\n      onTemplateSelected,\n      additionalLinksForEntity\n    }\n  ))))));\n};\n\nconst TemplateWizardPage = (props) => {\n  const rootRef = useRouteRef(rootRouteRef);\n  const taskRoute = useRouteRef(scaffolderTaskRouteRef);\n  const { secrets } = useTemplateSecrets();\n  const scaffolderApi = useApi(scaffolderApiRef);\n  const navigate = useNavigate();\n  const { templateName, namespace } = useRouteRefParams(\n    selectedTemplateRouteRef\n  );\n  const templateRef = stringifyEntityRef({\n    kind: \"Template\",\n    namespace,\n    name: templateName\n  });\n  const onCreate = async (values) => {\n    const { taskId } = await scaffolderApi.scaffold({\n      templateRef,\n      values,\n      secrets\n    });\n    navigate(taskRoute({ taskId }));\n  };\n  const onError = () => /* @__PURE__ */ React.createElement(Navigate, { to: rootRef() });\n  return /* @__PURE__ */ React.createElement(AnalyticsContext, { attributes: { entityRef: templateRef } }, /* @__PURE__ */ React.createElement(Page, { themeId: \"website\" }, /* @__PURE__ */ React.createElement(\n    Header,\n    {\n      pageTitleOverride: \"Create a new component\",\n      title: \"Create a new component\",\n      subtitle: \"Create new software components using standard templates in your organization\"\n    }\n  ), /* @__PURE__ */ React.createElement(\n    Workflow,\n    {\n      namespace,\n      templateName,\n      onCreate,\n      onError,\n      extensions: props.customFieldExtensions,\n      FormProps: props.FormProps,\n      layouts: props.layouts\n    }\n  )));\n};\n\nfunction TemplateEditorPage(props) {\n  const [selection, setSelection] = useState();\n  let content = null;\n  if ((selection == null ? void 0 : selection.type) === \"local\") {\n    content = /* @__PURE__ */ React.createElement(\n      TemplateEditor,\n      {\n        directory: selection.directory,\n        fieldExtensions: props.customFieldExtensions,\n        onClose: () => setSelection(void 0),\n        layouts: props.layouts\n      }\n    );\n  } else if ((selection == null ? void 0 : selection.type) === \"form\") {\n    content = /* @__PURE__ */ React.createElement(\n      TemplateFormPreviewer,\n      {\n        defaultPreviewTemplate: props.defaultPreviewTemplate,\n        customFieldExtensions: props.customFieldExtensions,\n        onClose: () => setSelection(void 0),\n        layouts: props.layouts\n      }\n    );\n  } else if ((selection == null ? void 0 : selection.type) === \"field-explorer\") {\n    content = /* @__PURE__ */ React.createElement(\n      CustomFieldExplorer,\n      {\n        customFieldExtensions: props.customFieldExtensions,\n        onClose: () => setSelection(void 0)\n      }\n    );\n  } else {\n    content = /* @__PURE__ */ React.createElement(Content, null, /* @__PURE__ */ React.createElement(\n      TemplateEditorIntro,\n      {\n        onSelect: (option) => {\n          if (option === \"local\") {\n            WebFileSystemAccess.requestDirectoryAccess().then((directory) => setSelection({ type: \"local\", directory })).catch(() => {\n            });\n          } else if (option === \"form\") {\n            setSelection({ type: \"form\" });\n          } else if (option === \"field-explorer\") {\n            setSelection({ type: \"field-explorer\" });\n          }\n        }\n      }\n    ));\n  }\n  return /* @__PURE__ */ React.createElement(Page, { themeId: \"home\" }, /* @__PURE__ */ React.createElement(\n    Header,\n    {\n      title: \"Template Editor\",\n      subtitle: \"Edit, preview, and try out templates and template forms\"\n    }\n  ), content);\n}\n\nconst Router = (props) => {\n  const {\n    components: {\n      TemplateCardComponent,\n      TemplateOutputsComponent,\n      TaskPageComponent = OngoingTask,\n      TemplateListPageComponent = TemplateListPage,\n      TemplateWizardPageComponent = TemplateWizardPage\n    } = {}\n  } = props;\n  const outlet = useOutlet() || props.children;\n  const customFieldExtensions = useCustomFieldExtensions(outlet);\n  const fieldExtensions = [\n    ...customFieldExtensions,\n    ...DEFAULT_SCAFFOLDER_FIELD_EXTENSIONS.filter(\n      ({ name }) => !customFieldExtensions.some(\n        (customFieldExtension) => customFieldExtension.name === name\n      )\n    )\n  ];\n  const customLayouts = useCustomLayouts(outlet);\n  return /* @__PURE__ */ React.createElement(Routes, null, /* @__PURE__ */ React.createElement(\n    Route,\n    {\n      path: \"/\",\n      element: /* @__PURE__ */ React.createElement(\n        TemplateListPageComponent,\n        {\n          TemplateCardComponent,\n          contextMenu: props.contextMenu,\n          groups: props.groups,\n          templateFilter: props.templateFilter\n        }\n      )\n    }\n  ), /* @__PURE__ */ React.createElement(\n    Route,\n    {\n      path: selectedTemplateRouteRef.path,\n      element: /* @__PURE__ */ React.createElement(SecretsContextProvider, null, /* @__PURE__ */ React.createElement(\n        TemplateWizardPageComponent,\n        {\n          customFieldExtensions: fieldExtensions,\n          layouts: customLayouts,\n          FormProps: props.FormProps\n        }\n      ))\n    }\n  ), /* @__PURE__ */ React.createElement(\n    Route,\n    {\n      path: scaffolderTaskRouteRef.path,\n      element: /* @__PURE__ */ React.createElement(\n        TaskPageComponent,\n        {\n          TemplateOutputsComponent\n        }\n      )\n    }\n  ), /* @__PURE__ */ React.createElement(\n    Route,\n    {\n      path: editRouteRef.path,\n      element: /* @__PURE__ */ React.createElement(SecretsContextProvider, null, /* @__PURE__ */ React.createElement(\n        TemplateEditorPage,\n        {\n          customFieldExtensions: fieldExtensions,\n          layouts: customLayouts\n        }\n      ))\n    }\n  ), /* @__PURE__ */ React.createElement(Route, { path: actionsRouteRef.path, element: /* @__PURE__ */ React.createElement(ActionsPage, null) }), /* @__PURE__ */ React.createElement(\n    Route,\n    {\n      path: scaffolderListTaskRouteRef.path,\n      element: /* @__PURE__ */ React.createElement(ListTasksPage, null)\n    }\n  ), /* @__PURE__ */ React.createElement(\n    Route,\n    {\n      path: \"*\",\n      element: /* @__PURE__ */ React.createElement(ErrorPage, { status: \"404\", statusMessage: \"Page not found\" })\n    }\n  ));\n};\n\nexport { Router };\n//# sourceMappingURL=index-9a46055b.esm.js.map\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.49 2 2 6.49 2 12s4.49 10 10 10 10-4.49 10-10S17.51 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z\"\n}), 'ControlPoint');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M7 7h10v3l4-4-4-4v3H5v6h2V7zm10 10H7v-3l-4 4 4 4v-3h12v-6h-2v4z\"\n}), 'Repeat');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M3 9h14V7H3v2zm0 4h14v-2H3v2zm0 4h14v-2H3v2zm16 0h2v-2h-2v2zm0-10v2h2V7h-2zm0 6h2v-2h-2v2z\"\n}), 'Toc');\n\nexports.default = _default;"],"names":["useStyles$5","makeStyles","fontColor","ContextMenu","props","cancelEnabled","logsVisible","buttonBarVisible","onStartOver","onToggleLogs","onToggleButtonBar","taskId","getPageTheme","useTheme","pageTheme","classes","scaffolderApi","anchorEl","setAnchorEl","cancelStatus","cancel","useAsync","IconButton","event","MoreVert","Popover","MenuList","MenuItem","ListItemIcon","Toc","ListItemText","ControlPoint","Cancel","useStyles$4","theme","OngoingTask","_a","_b","_c","_d","_e","_f","_g","_h","templateRouteRef","navigate","taskStream","steps","_a2","_b2","step","_a3","setLogVisibleState","setButtonBarVisibleState","activeStep","i","startOver","_c2","_d2","_e2","_f2","namespace","name","formData","triggerCancel","Outputs","templateName","Box","Paper","Button","useStyles$3","ErrorBoundary","prevProps","error","isJsonObject","value","TemplateEditorForm","content","contentIsSpec","onDryRun","setErrorText","fieldExtensions","layouts","apiHolder","setSteps","useDebounce","parsed","rootObj","parameters","param","e","data","TemplateEditorFormDirectoryEditorDryRun","dryRun","directoryEditor","selectedFile","handleDryRun","values","useStyles$2","CustomFieldExplorer","customFieldExtensions","onClose","fieldOptions","field","selectedField","setSelectedField","fieldFormState","setFieldFormState","refreshKey","setRefreshKey","sampleFieldTemplate","fieldComponents","component","handleSelectionChange","selection","handleFieldConfigChange","state","FormControl","InputLabel","Select","option","idx","Close","Card","CardHeader","CardContent","yaml","useStyles$1","TemplateEditor","errorText","EXAMPLE_TEMPLATE_PARAMS_YAML","useStyles","TemplateFormPreviewer","defaultPreviewTemplate","alertApi","catalogApi","selectedTemplate","setSelectedTemplate","templateOptions","setTemplateOptions","templateYaml","setTemplateYaml","loading","items","template","handleSelectChange","selected","LinearProgress","RegisterExistingButton","title","to","allowed","isXSScreen","useMediaQuery","AddCircleOutline","defaultGroup","createGroupsWithOther","groups","filter","TemplateListPage","registerComponentLink","TemplateCardComponent","givenGroups","templateFilter","editorLink","actionsLink","tasksLink","viewTechDocsLink","templateRoute","app","scaffolderPageContextMenuProps","additionalLinksForEntity","kind","onTemplateSelected","TemplateWizardPage","rootRef","taskRoute","secrets","templateRef","onCreate","onError","TemplateEditorPage","setSelection","directory","Router","TemplateOutputsComponent","TaskPageComponent","TemplateListPageComponent","TemplateWizardPageComponent","outlet","customFieldExtension","customLayouts","_interopRequireDefault","_interopRequireWildcard","exports","React","_createSvgIcon","_default"],"sourceRoot":""}